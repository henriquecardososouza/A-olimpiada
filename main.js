const canvas = document.querySelector("canvas");
const ctx = canvas.getContext("2d");

let telaAtiva = {};
let mouseClick = true;
let nome = "";
let tempo = 0;
let qualSave = null;

//Classes
{
    /*
    class Player {
        s = new Image();
        hsped = 0;
        vsped = 0;
        qualCap = 0;
        drawMessage = false;
        alpha = 0;

        constructor(path, x, y, larg, alt) {
            this.x = x;
            this.y = y;
            this.s.src = path;
            this.alt = alt;
            this.larg = larg;
        }

        desenha() {
            this.atualiza();

            ctx.fillStyle = "green";
            ctx.fillRect(this.x, this.y, this.larg, this.alt);

            if (this.drawMessage && this.qualCap != 0) {
                if (this.alpha < 1) {
                this.alpha += 0.01; 
                }

                else {
                    this.alpha = 1;
                }
            }

            else {
                if (this.alpha > 0) {
                    this.alpha -= 0.01;
                }
                else {
                    this.alpha = 0;
                }
            }

            if (this.qualCap != 0) {
                this.createMessage("Capítulo " + this.qualCap, this.alpha);
            }

            /*
            ctx.drawImage(
                this.s, this.x, this.y
            )
        }

        atualiza() {
            if (this.verificaColisaoHorizontal()) {
                this.hsped = 0;
                this.drawMessage = true;
            }

            else {
                this.drawMessage = false;
            }

            if (this.verificaColisaoVertical()) {
                this.vsped = 0;
                this.drawMessage = true;
            }

            this.x += this.hsped;
            this.y += this.vsped; 
        }

        verificaColisaoHorizontal() {
            for (let i = 0; i < numBlocks; i++) {
                if (this.x + this.larg + this.hsped >= telas.lobby.blocos[i].x &&
                    this.x + this.hsped <= telas.lobby.blocos[i].x + telas.lobby.blocos[i].larg &&
                    this.y + this.alt >= telas.lobby.blocos[i].y &&
                    this.y <= telas.lobby.blocos[i].y + telas.lobby.blocos[i].larg) {
                    if (telas.lobby.blocos[i].qual != 0) {
                        this.qualCap = telas.lobby.blocos[i].qual;
                    }

                    else {
                        this.qualCap = 0;
                    }

                    return true;
                }
            }

            return false;
        }

        verificaColisaoVertical() {
            for (let i = 0; i < numBlocks; i++) {
                if (this.y + this.alt + this.vsped >= telas.lobby.blocos[i].y &&
                    this.y + this.vsped <= telas.lobby.blocos[i].y + telas.lobby.blocos[i].larg &&
                    this.x + this.larg >= telas.lobby.blocos[i].x &&
                    this.x <= telas.lobby.blocos[i].x + telas.lobby.blocos[i].larg) {
                    if (telas.lobby.blocos[i].qual != 0) {
                        this.qualCap = telas.lobby.blocos[i].qual;
                    }

                    else {
                        this.qualCap = 0;
                    }
                    
                    return true;
                }
            }

            return false;
        }

        createMessage(message, alpha) {
            ctx.fillStyle = "rgba(255, 255, 255, " + alpha + ")";
            ctx.font = "40px 'Silkscreen'";
            ctx.textAlign = "center";
            ctx.fillText("Pressione Enter", canvas.width / 2, canvas.height / 2 + 215);
            ctx.fillText(message, canvas.width / 2, canvas.height / 2 + 150);
        }
    }

    class Block {
        s = new Image();

        constructor(x, y, path, habilidade, qual) {
            this.x = x;
            this.y = y;
            this.s.src = path;
            this.larg = 64;
            this.habilidade = habilidade;
            this.qual = qual;
        }

        desenha() {
            if (telas.lobby.locate == "casa" && !this.habilidade) {
                ctx.drawImage(
                    this.s, this.x, this.y
                ) 
            }
            
            else {
                if (this.habilidade) {
                    if (this.qual == 1) {
                        ctx.fillStyle = "blue";
                    }
                    
                    else if (this.qual == 2) {
                        ctx.fillStyle = "yellow";
                    }
                    
                    else if (this.qual == 3) {
                        ctx.fillStyle = "red";
                    }
                    
                    else if (this.qual == 4) {
                        ctx.fillStyle = "white";
                    }
        
                    else if (this.qual == 5) {
                        ctx.fillStyle = "purple";
                    }
                }
        
                else {
                    ctx.fillStyle = "gray";
                }
                
                ctx.fillRect(this.x, this.y, this.larg, this.larg);
        
                ctx.lineWidth = 1;
                ctx.strokeStyle = "black";
                ctx.strokeRect(this.x, this.y, this.larg, this.larg);
            }
        }
    }

    class Botao {
        cor = "black";

        constructor(x, y, larg, alt, x1, y1, fase) {
            this.x = x;
            this.y = y;
            this.larg = larg;
            this.alt = alt;
            this.x1 = x1;
            this.y1 = y1;
            this.fase = fase;
        }

        desenha() {
            ctx.fillStyle = "black";
            ctx.textAlign = "center";
            ctx.font = "30px 'Silkscreen'";

            ctx.fillStyle = this.cor;
            ctx.fillRect(this.x, this.y, this.larg, this.alt);

            ctx.fillStyle = "white";
            ctx.fillText("Abrir", this.x1, this.y1);

            ctx.strokeStyle = "white";
            ctx.lineWidth = 4;
            ctx.strokeRect(this.x, this.y, this.larg, this.alt);
        }
    }

    class Chao {
        constructor(x, y, path) {
            this.spr = new Image();
            this.x = x;
            this.y = y;
            this.path = path;
            this.larg = 64;
            this.spr.src = this.path;
        }

        desenha() {
            ctx.drawImage(
                this.spr,
                this.x, this.y
            )
        }
    }

    class Object {
        constructor(x, y, larg, alt, path) {
            this.x = x;
            this.y = y;
            this.larg = larg;
            this.alt = alt;
            this.s = new Image(this.larg, this.alt);
            this.s.src = path;
        }

        desenha() {
            ctx.drawImage(
                this.s,
                this.x, this.y
            )
        }
    }
    */
}

//Versões de lobby
{
    //Mundo "aberto"
    /*
    player: new Player("", canvas.width / 2, canvas.height / 2, 50, 50),

        blocos: [],
        chao: [],
        objects: [],
        locate: "casa",
        numChao: 0,

        onload: true,

        cap1: true,
        cap2: true,
        cap3: false,
        cap4: false,
        cap5: false,

        actualCap: 1,

        book: {
            transicao: false,
            page: 1,
            nextPage: 0,
            drawBook: false,

            larg: 300,
            x: canvas.width / 2,

            drawBiblioMessage: false,

            biblio: {
                alpha: 0,
                y: canvas.height - 75,
                entrando: true,
            },
        },

        botoes: [
            new Botao(canvas.width / 2 - 220, canvas.height / 2 + 60, 140, 50, canvas.width / 2 - 150, canvas.height / 2 + 95, 1),
            new Botao(canvas.width / 2 + 80, canvas.height / 2 + 60, 140, 50, canvas.width / 2 + 150, canvas.height / 2 + 95, 2),
            new Botao(canvas.width / 2 - 220, canvas.height / 2 + 60, 140, 50, canvas.width / 2 - 150, canvas.height / 2 + 95, 3),
            new Botao(canvas.width / 2 + 80, canvas.height / 2 + 60, 140, 50, canvas.width / 2 + 150, canvas.height / 2 + 95, 4),
        ],

        desenha() {
            this.atualiza();

            for (let i = 0; i < this.numChao; i++) {
                this.chao[i].desenha();
            }

            for (let i = 0; i < numBlocks; i++) {
                this.blocos[i].desenha();
            }

            this.player.desenha();

            if (this.book.drawBook) {
                this.drawMessage();
            }

            else if (this.book.drawBiblioMessage) {
                this.biblioMessage();
            }

            else {
                keys.atualiza();  
            }
        },

        atualiza() {
            if (this.onload) {
                this.blocos = [];
                this.chao = [];
                this.objects = [];

                if (this.locate == "casa") {
                    for (let i = 0; i < 1280 / 64; i++) {
                        this.blocos.push(
                            new Block(i * 64, 0, "./sprites/lobby/parede/spr.png", false, 0)
                        )
                    }
    
                    for (let i = 1; i < (630 / 64) - 1; i++) {
                        this.blocos.push(
                            new Block(0, i * 64, "./sprites/lobby/parede/spr.png", false, 0)
                        )
                    }
                    
                    for (let i = 1; i < (630 / 64) - 1; i++) {
                        if (i < 3 || i > 6) {
                            this.blocos.push(
                                new Block(1280 - 64, i * 64, "./sprites/lobby/parede/spr.png", false, 0)
                            ) 
                        }
                    }
    
                    for (let i = 0; i < 1280 / 64; i++) {
                        this.blocos.push(
                            new Block(i * 64, 630 - 64, "./sprites/lobby/parede/spr.png", false, 0)
                        )
                    }
    
                    for (let i = 0; i < 1280 / 64; i++) {
                        for (let j = 0; j < 630 / 64; j++) {
                            this.chao.push(
                                new Chao(64 * i, 64 * j, "./sprites/lobby/chao/spr.png")
                            )
                        }
                    }
                }

                else if (this.locate == "corredor") {
                    for (let i = 0; i < 1280 / 64; i++) {
                        if (i < 9 || i > 11) {
                            this.blocos.push(
                                new Block(i * 64, 0, "", false, 0)
                            )
                        }
                    }

                    for (let i = 0; i < 1280 / 64; i++) {
                        this.blocos.push(
                            new Block(i * 64, 630 - 64, "", false, 0)
                        )
                    }

                    for (let i = 1; i < 630 / 64; i++) {
                        if (i < 3) {
                            this.blocos.push(
                                new Block(0, i * 64, "", false, 0)
                            )

                            this.blocos.push(
                                new Block(1280 - 64, i * 64, "", false, 0)
                            )
                        }

                        else if (i > 7) {
                            this.blocos.push(
                                new Block(1280 - 64, 630 - ((i - 6) * 64), "", false, 0)
                            )

                            this.blocos.push(
                                new Block(0, 630 - ((i - 6) * 64), "", false, 0)
                            )
                        }
                    }

                    for (let i = 0; i < 1280 / 64; i++) {
                        for (let j = 0; j < 630 / 64; j++) {
                            this.chao.push(
                                new Chao(i * 64, j * 64, "./sprites/lobby/chao/spr.png")
                            )
                        }
                    }
                }

                else if (this.locate == "biblioteca") {
                    for (let i = 0; i < 1280 / 64; i++) {
                        if (i != 9) {
                            this.blocos.push(
                                new Block(i * 64, 0, "", false, 0)
                            )
                        } 
                        
                        else {
                            this.blocos.push(
                                new Block(i * 64, 0, "", true, 1)
                            )
                        }
                    }

                    for (let i = 1; i < 630 / 64; i++) {
                        if (i != 3 && i != 7) {
                            this.blocos.push(
                                new Block(0, i * 64, "", false, 0)
                            )
                        }
                        
                        else {
                            this.blocos.push(
                                new Block(0, i * 64, "", true, i % 3 + 2)
                            )
                        }
                    }

                    for (let i = 1; i < 630 / 64; i++) {
                        if (i != 3 && i != 7) {
                            this.blocos.push(
                                new Block(canvas.width - 64, i * 64, "", false, 0)
                            )
                        }
                        
                        else {
                            this.blocos.push(
                                new Block(canvas.width - 64, i * 64, "", true, i % 3 + 4)
                            )
                        }
                    }

                    for (let i = 0; i < 1280 / 64; i++) {
                        if (i < 9 || i > 11) {
                            this.blocos.push(
                                new Block(i * 64, canvas.height - 64, "", false, 0)
                            )
                        }
                    }

                    for (let i = 0; i < 1280 / 64; i++) {
                        for (let j = 0; j < 630 / 64; j++) {
                            this.chao.push(
                                new Chao(i * 64, j * 64, "./sprites/lobby/chao/spr.png")
                            )
                        }
                    }
                }

                else if (this.locate == "escola") {
                    for (let i = 1; i < 630 / 64; i++) {
                        if (i != 4) {
                            this.blocos.push(
                                new Block(canvas.width - 64, i * 64, "", false, 0)
                            )
                        }
                        
                        else {
                            this.blocos.push(
                                new Block(canvas.width - 64, i * 64, "", true, this.actualCap)
                            )
                        }
                    }

                    for (let i = 1; i < 630 / 64; i++) {
                        if (i < 3 || i > 6) {
                            this.blocos.push(
                                new Block(0, i * 64, "", false, 0)
                            )
                        }
                    }

                    for (let i = 0; i < 1280 / 64; i++) {
                        this.blocos.push(
                            new Block(i * 64, 0, "", false, 0)
                        )
                    }
                    
                    for (let i = 0; i < 1280 / 64; i++) {
                        this.blocos.push(
                            new Block(i * 64, canvas.height - 64, "", false, 0)
                        )
                    }

                    for (let i = 0; i < 1280 / 64; i++) {
                        for (let j = 0; j < 630 / 64; j++) {
                            this.chao.push(
                                new Chao(i * 64, j * 64, "./sprites/lobby/chao/spr.png")
                            )
                        }
                    }
                }
                
                this.numChao = this.chao.length;
                numBlocks = this.blocos.length;
                this.onload = false;
            }

            if (this.locate == "corredor") {
                if (this.player.x + this.player.larg <= 0) {
                    this.locate = "casa";
                    this.player.x = canvas.width - this.player.larg;
                    this.player.y = canvas.height / 2 - this.player.alt / 2;
                    this.onload = true;
                }

                else if (this.player.y + this.player.alt <= 0) {
                    this.locate = "biblioteca";
                    this.player.y = canvas.height - this.player.alt;
                    this.player.x = canvas.width / 2 - this.player.larg / 2;
                    this.onload = true;
                }

                else if (this.player.x >= canvas.width) {
                    this.locate = "escola";
                    this.player.y = canvas.height / 2 - this.player.alt / 2;
                    this.player.x = this.player.larg;
                    this.onload = true;
                }
            }

            else if (this.locate == "casa") {
                if (this.player.x >= canvas.width) {
                    this.locate = "corredor";
                    this.player.x = 0;
                    this.player.y = canvas.height / 2 - this.player.alt / 2;
                    this.onload = true;
                }
            }

            else if (this.locate == "biblioteca") {
                if (this.player.y >= canvas.height) {
                    this.locate = "corredor";
                    this.player.x = canvas.width / 2 - this.player.larg / 2;
                    this.player.y = this.player.alt;
                    this.onload = true;
                }
            }

            else if (this.locate == "escola") {
                if (this.player.x + this.player.larg <= 0) {
                    this.locate = "corredor";
                    this.onload = true;
                    this.player.x = canvas.width - this.player.larg;
                    this.player.y = canvas.height / 2 - this.player.alt / 2;
                }
            }
        },

        drawMessage() {
            this.drawBackForMessage();

            ctx.fillStyle = "rgba(0, 0, 0, 0.4)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = "white";
            ctx.textAlign = "center";
            ctx.font = "40px 'Silkscreen'";

            if (!this.book.transicao) {
                if (this.book.page == 1) {
                    ctx.fillText("Fase 1", canvas.width / 2 - 150, canvas.height / 2 - 50);
                    ctx.fillText("Fase 2", canvas.width / 2 + 150, canvas.height / 2 - 50);
                    this.botoes[0].desenha();
                    this.botoes[1].desenha();
                }
    
                else {
                    ctx.fillText("Fase 3", canvas.width / 2 - 150, canvas.height / 2 - 50);
                    ctx.fillText("Fase 4", canvas.width / 2 + 150, canvas.height / 2 - 50);
                    this.botoes[2].desenha();
                    this.botoes[3].desenha();
                }
            }
        },

        drawBackForMessage() {
            ctx.fillStyle = "rgb(200, 200, 200)";
            ctx.fillRect(canvas.width / 2 - 300, canvas.height / 2 - 150, 600, 300);

            ctx.strokeStyle = "green";
            ctx.lineWidth = 5;
            ctx.strokeRect(canvas.width / 2 - 300, canvas.height / 2 - 150, 600, 300);

            ctx.beginPath();
            ctx.moveTo(canvas.width / 2, canvas.height / 2 - 150);
            ctx.lineTo(canvas.width / 2, canvas.height / 2 + 150);
            ctx.stroke();
            ctx.closePath();

            if (this.book.transicao) {
                ctx.fillStyle = "rgb(200, 200, 200)";
                ctx.fillRect(this.book.x, canvas.height / 2 - 150, this.book.larg, 300);

                ctx.strokeStyle = "green";
                ctx.lineWidth = 5;
                ctx.strokeRect(this.book.x, canvas.height / 2 - 150, this.book.larg, 300);

                ctx.beginPath();
                ctx.moveTo(this.book.x + this.book.larg, canvas.height / 2 - 150);
                ctx.lineTo(this.book.x + this.book.larg, canvas.height / 2 + 150);
                ctx.stroke();
                ctx.closePath();

                if (this.book.nextPage == 2) {
                    if (this.book.larg > 100) {
                        this.book.larg -= 5;
                    }
                    
                    else if (this.book.larg > -100) {
                        this.book.larg -= 3;
                    }

                    else if (this.book.larg > -300) {
                        this.book.larg -= 5;
                    }

                    else {
                        this.book.page = this.book.nextPage;
                        this.book.transicao = false;
                    }
                }
                
                else {
                    if (this.book.larg < -100) {
                        this.book.larg += 5;
                    }
                    
                    else if (this.book.larg < 100) {
                        this.book.larg += 3;
                    }

                    else if (this.book.larg < 300) {
                        this.book.larg += 5;
                    }

                    else {
                        this.book.page = this.book.nextPage;
                        this.book.transicao = false;
                    }
                }
            }
        },

        biblioMessage() {
            if (this.book.biblio.entrando) {
                if (this.book.biblio.alpha < 1) {
                    this.book.biblio.alpha += 0.05;
                }

                else {
                    this.book.biblio.alpha = 1;
                    this.book.biblio.entrando = false;
                }
            }

            else {
                if (this.book.biblio.alpha > 0) {
                    this.book.biblio.alpha -= 0.05;
                }

                else {
                    this.book.biblio.alpha = 0;
                    this.book.biblio.entrando = true;
                    this.book.drawBiblioMessage = false;
                    this.book.biblio.y = canvas.height - 75;
                }
            }

            this.book.biblio.y -= 0.5;

            ctx.fillStyle = "rgba(255, 255, 255, " + this.book.biblio.alpha + ")";
            ctx.textAlign = "center";
            ctx.font = "30px 'Silkscreen'";
            ctx.fillText("Capítulo alterado", canvas.width / 2 + 380, this.book.biblio.y);
        },
    */
    
    //1° versão
    /*
    entrando: true,
        saindo: false,
        quaseSaindo: false,
        tela: {},
        qualBotao: 0,

        capitulo2: true,
        capitulo3: true,
        capitulo4: true,
        capitulo5: true,
        capitulo6: false,

        desenha() {
            this.atualiza();

            this.background.desenha();
            this.text.desenha();
            this.botoes.capitulo1.desenha();

            if (this.capitulo2) {
                this.botoes.capitulo2.desenha();
            }

            if (this.capitulo3) {
                this.botoes.capitulo3.desenha();
            }

            if (this.capitulo4) {
                this.botoes.capitulo4.desenha();
            }

            if (this.capitulo5) {
                this.botoes.capitulo5.desenha();
            }
        },

        atualiza() {
            if (this.entrando) {
                if (this.capitulo5) {
                    if (this.botoes.capitulo1.larg < 300) {
                        this.botoes.capitulo1.larg += 10;
                    }

                    if (this.botoes.capitulo2.larg < 400) {
                        this.botoes.capitulo2.larg += 10;
                    }

                    if (this.botoes.capitulo3.larg < 500) {
                        this.botoes.capitulo3.larg += 10;
                    }

                    if (this.botoes.capitulo4.larg < 600) {
                        this.botoes.capitulo4.larg += 10;
                    }

                    if (this.botoes.capitulo5.larg < 700) {
                        this.botoes.capitulo5.larg += 10;
                    }

                    else {
                        this.entrando = false;
                    }
                }

                else if (this.capitulo4) {
                    if (this.botoes.capitulo1.larg < 300) {
                        this.botoes.capitulo1.larg += 10;
                    }

                    if (this.botoes.capitulo2.larg < 400) {
                        this.botoes.capitulo2.larg += 10;
                    }

                    if (this.botoes.capitulo3.larg < 500) {
                        this.botoes.capitulo3.larg += 10;
                    }

                    if (this.botoes.capitulo4.larg < 600) {
                        this.botoes.capitulo4.larg += 10;
                    }

                    else {
                        this.entrando = false;
                    }
                }

                else if (this.capitulo3) {
                    if (this.botoes.capitulo1.larg < 300) {
                        this.botoes.capitulo1.larg += 10;
                    }

                    if (this.botoes.capitulo2.larg < 400) {
                        this.botoes.capitulo2.larg += 10;
                    }

                    if (this.botoes.capitulo3.larg < 500) {
                        this.botoes.capitulo3.larg += 10;
                    }

                    else {
                        this.entrando = false;
                    }
                }

                else if (this.capitulo2) {
                    if (this.botoes.capitulo1.larg < 300) {
                        this.botoes.capitulo1.larg += 10;
                    }

                    if (this.botoes.capitulo2.larg < 400) {
                        this.botoes.capitulo2.larg += 10;
                    }

                    else {
                        this.entrando = false;
                    }
                }

                else {
                    if (this.botoes.capitulo1.larg < 300) {
                        this.botoes.capitulo1.larg += 10;
                    }

                    else {
                        this.entrando = false;
                    }
                }
            }

            else if (this.saindo) {
                if (this.capitulo5) {
                    if (this.botoes.capitulo5.larg > this.botoes.capitulo4.larg) {
                        this.botoes.capitulo5.larg -= 10;
                    }

                    else {
                        if (this.botoes.capitulo4.larg > this.botoes.capitulo3.larg) {
                           this.botoes.capitulo5.larg -= 10;
                           this.botoes.capitulo4.larg -= 10; 
                        }

                        else {
                            if (this.botoes.capitulo3.larg > this.botoes.capitulo2.larg) {
                                this.botoes.capitulo5.larg -= 10;
                                this.botoes.capitulo4.larg -= 10;
                                this.botoes.capitulo3.larg -= 10;
                            }

                            else {
                                if (this.botoes.capitulo2.larg > this.botoes.capitulo1.larg) {
                                    this.botoes.capitulo5.larg -= 10;
                                    this.botoes.capitulo4.larg -= 10;
                                    this.botoes.capitulo3.larg -= 10;
                                    this.botoes.capitulo2.larg -= 10;
                                }

                                else {
                                    if (this.botoes.capitulo1.larg > 0) {
                                       this.botoes.capitulo5.larg -= 10;
                                        this.botoes.capitulo4.larg -= 10;
                                        this.botoes.capitulo3.larg -= 10;
                                        this.botoes.capitulo2.larg -= 10;
                                        this.botoes.capitulo1.larg -= 10; 
                                    }
                                    
                                    else {
                                        this.tela.reset();
                                        mudaTela(this.tela);
                                    }
                                }
                            }
                        }
                    }
                }

                else if (this.capitulo4) {
                    if (this.botoes.capitulo4.larg > this.botoes.capitulo3.larg) {
                        this.botoes.capitulo4.larg -= 10; 
                    }

                    else {
                        if (this.botoes.capitulo3.larg > this.botoes.capitulo2.larg) {
                            this.botoes.capitulo4.larg -= 10;
                            this.botoes.capitulo3.larg -= 10;
                        }

                        else {
                            if (this.botoes.capitulo2.larg > this.botoes.capitulo1.larg) {
                                this.botoes.capitulo4.larg -= 10;
                                this.botoes.capitulo3.larg -= 10;
                                this.botoes.capitulo2.larg -= 10;
                            }

                            else {
                                if (this.botoes.capitulo1.larg > 0) {
                                    this.botoes.capitulo4.larg -= 10;
                                    this.botoes.capitulo3.larg -= 10;
                                    this.botoes.capitulo2.larg -= 10;
                                    this.botoes.capitulo1.larg -= 10; 
                                }
                                
                                else {
                                    this.tela.reset();
                                    mudaTela(this.tela);
                                }
                            }
                        }
                    }
                }

                else if (this.capitulo3) {
                    if (this.botoes.capitulo3.larg > this.botoes.capitulo2.larg) {
                        this.botoes.capitulo3.larg -= 10;
                    }

                    else {
                        if (this.botoes.capitulo2.larg > this.botoes.capitulo1.larg) {
                            this.botoes.capitulo3.larg -= 10;
                            this.botoes.capitulo2.larg -= 10;
                        }

                        else {
                            if (this.botoes.capitulo1.larg > 0) {
                                this.botoes.capitulo3.larg -= 10;
                                this.botoes.capitulo2.larg -= 10;
                                this.botoes.capitulo1.larg -= 10; 
                            }
                            
                            else {
                                this.tela.reset();
                                mudaTela(this.tela);
                            }
                        }
                    }
                }

                else if (this.capitulo2) {
                    if (this.botoes.capitulo2.larg > this.botoes.capitulo1.larg) {
                        this.botoes.capitulo2.larg -= 10;
                    }

                    else {
                        if (this.botoes.capitulo1.larg > 0) {
                            this.botoes.capitulo2.larg -= 10;
                            this.botoes.capitulo1.larg -= 10; 
                        }
                        
                        else {
                            this.tela.reset();
                            mudaTela(this.tela);
                        }
                    }
                }

                else {
                    if (this.botoes.capitulo1.larg > 0) {
                        this.botoes.capitulo1.larg -= 10; 
                    }
                    
                    else {
                        this.tela.reset();
                        mudaTela(this.tela);
                    }
                }
            }

            if (!this.entrando) {
                this.botoes.textAllow = true;
            }
        },

        reset() {
            this.entrando = true;
            this.saindo = false;
            this.quaseSaindo = false;
            this.qualBotao = 0;

            this.botoes.textAllow = false;

            this.botoes.capitulo1.larg = 0;
            this.botoes.capitulo1.cor = "white";
            this.botoes.capitulo1.cor1 = "rgb(127, 0, 0)";
            this.botoes.capitulo1.counter = 0;
            this.botoes.capitulo1.vezes = 0;
            this.botoes.capitulo1.hover = false;

            this.botoes.capitulo2.larg = 0;
            this.botoes.capitulo2.cor = "white";
            this.botoes.capitulo2.cor1 = "rgb(127, 127, 0)";
            this.botoes.capitulo2.counter = 0;
            this.botoes.capitulo2.vezes = 0;
            this.botoes.capitulo2.hover = false;

            this.botoes.capitulo3.larg = 0;
            this.botoes.capitulo3.cor = "white";
            this.botoes.capitulo3.cor1 = "rgb(0, 0, 127)";
            this.botoes.capitulo3.counter = 0;
            this.botoes.capitulo3.vezes = 0;
            this.botoes.capitulo3.hover = false;

            this.botoes.capitulo4.larg = 0;
            this.botoes.capitulo4.cor = "white";
            this.botoes.capitulo4.cor1 = "rgb(0, 127, 0)";
            this.botoes.capitulo4.counter = 0;
            this.botoes.capitulo4.vezes = 0;
            this.botoes.capitulo4.hover = false;

            this.botoes.capitulo5.larg = 0;
            this.botoes.capitulo5.cor = "white";
            this.botoes.capitulo5.cor1 = "rgb(127, 50, 0)";
            this.botoes.capitulo5.counter = 0;
            this.botoes.capitulo5.vezes = 0;
            this.botoes.capitulo5.hover = false;

            this.text.cor = "rgba(0, 0, 0, 0)";
            this.text.counter = 0;
            this.text.alpha = 1;
        },

        botoes: {
            textAllow: false,

            capitulo1: {
                larg: 0,
                alt: 100,
                x: 0,
                y: 15,
                text: "Capítulo 1",
                cor: "white",
                cor1: "rgb(127, 0, 0)",
                counter: 0,
                vezes: 0,

                hover: false,

                desenha() {
                    this.atualiza();

                    ctx.fillStyle = this.cor1;
                    ctx.fillRect(this.x, this.y, this.larg, this.alt);

                    ctx.fillStyle = this.cor;
                    ctx.textAlign = "center";
                    ctx.font = "40px 'Silkscreen";

                    if (telas.lobby.botoes.textAllow) {
                        ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                    }
                },

                atualiza() {
                    if (telas.lobby.botoes.textAllow) {
                        if (telas.lobby.quaseSaindo && telas.lobby.qualBotao == 1) {
                            this.counter ++;

                            if (this.counter < 10) {
                                this.cor = "white";
                            }
    
                            else if (this.counter < 20) {
                                this.cor = "rgba(255, 255, 255, 0)";
                            }
    
                            else {
                                this.counter = 0;
                                this.vezes ++;

                                if (this.vezes >= 5) {
                                    telas.lobby.qualBotao = 0;
                                    telas.lobby.saindo = true;
                                    telas.lobby.quaseSaindo = false;
                                }
                            }
                        }
                    }

                    if (this.hover) {
                        this.cor1 = "red";
                    }

                    else {
                        this.cor1 = "rgb(127, 0, 0)";
                    }

                    if (telas.lobby.saindo) {
                        this.cor = "rgba(0, 0, 0, 0)";
                    }
                },
            },

            capitulo2: {
                larg: 0,
                alt: 100,
                x: 0,
                y: 140,
                text: "Capítulo 2",
                cor: "white",
                cor1: "rgb(127, 127, 0)",
                counter: 0,
                vezes: 0,

                hover: false,

                desenha() {
                    ctx.fillStyle = this.cor1;
                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                    
                    ctx.font = "40px 'Silkscreen";
                    ctx.textAlign = "center";
                    ctx.fillStyle = this.cor;

                    if (telas.lobby.botoes.textAllow) {
                        ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                    }

                    this.atualiza();
                },

                atualiza() {
                    if (telas.lobby.botoes.textAllow) {
                        if (telas.lobby.quaseSaindo && telas.lobby.qualBotao == 2) {
                            this.counter ++;

                            if (this.counter < 10) {
                                this.cor = "white";
                            }
    
                            else if (this.counter < 20) {
                                this.cor = "rgba(255, 255, 255, 0)";
                            }
    
                            else {
                                this.counter = 0;
                                this.vezes ++;

                                if (this.vezes >= 5) {
                                    telas.lobby.qualBotao = 0;
                                    telas.lobby.saindo = true;
                                    telas.lobby.quaseSaindo = false;
                                }
                            }
                        }
                    }

                    if (this.hover) {
                        this.cor1 = "rgb(220, 220, 0)";
                    }

                    else {
                        this.cor1 = "rgb(127, 127, 0)";
                    }

                    if (telas.lobby.saindo) {
                        this.cor = "rgba(0, 0, 0, 0)";
                    }
                }
            },

            capitulo3: {
                larg: 0,
                alt: 100,
                x: 0,
                y: 265,
                text: "Capítulo 3",
                cor: "white",
                cor1: "rgb(0, 0, 127)",
                counter: 0,
                vezes: 0,

                hover: false,

                desenha() {
                    ctx.fillStyle = this.cor1;
                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                    
                    ctx.textAlign = "center";
                    ctx.font = "40px 'Silkscreen";
                    ctx.fillStyle = this.cor;

                    if (telas.lobby.botoes.textAllow) {
                        ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12); 
                    }
                    
                    this.atualiza();
                },

                atualiza() {
                    if (telas.lobby.botoes.textAllow) {
                        if (telas.lobby.quaseSaindo && telas.lobby.qualBotao == 3) {
                            this.counter ++;
                            
                            if (this.counter < 10) {
                                this.cor = "white";
                            }
    
                            else if (this.counter < 20) {
                                this.cor = "rgba(255, 255, 255, 0)";
                            }
    
                            else {
                                this.counter = 0;
                                this.vezes ++;

                                if (this.vezes >= 5) {
                                    telas.lobby.qualBotao = 0;
                                    telas.lobby.saindo = true;
                                    telas.lobby.quaseSaindo = false;
                                }
                            }
                        }
                    }

                    if (this.hover) {
                        this.cor1 = "blue";
                    }

                    else {
                        this.cor1 = "rgb(0, 0, 127)";
                    }

                    if (telas.lobby.saindo) {
                        this.cor = "rgba(0, 0, 0, 0)";
                    }
                }
            },

            capitulo4: {
                larg: 0,
                alt: 100,
                x: 0,
                y: 390,
                text: "Capítulo 4",
                cor: "white",
                cor1: "rgb(0, 127, 0)",
                counter: 0,
                vezes: 0,


                hover: false,

                desenha() {
                    ctx.fillStyle = this.cor1;
                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                    
                    ctx.textAlign = "center";
                    ctx.font = "40px 'Silkscreen";
                    ctx.fillStyle = this.cor;

                    if (telas.lobby.botoes.textAllow) {
                        ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                    }
                    
                    this.atualiza();
                },

                atualiza() {
                    if (telas.lobby.botoes.textAllow) {
                        if (telas.lobby.quaseSaindo && telas.lobby.qualBotao == 4) {
                            this.counter ++;
                            
                            if (this.counter < 10) {
                                this.cor = "white";
                            }
    
                            else if (this.counter < 20) {
                                this.cor = "rgba(255, 255, 255, 0)";
                            }
    
                            else {
                                this.counter = 0;
                                this.vezes ++;

                                if (this.vezes >= 5) {
                                    telas.lobby.qualBotao = 0;
                                    telas.lobby.saindo = true;
                                    telas.lobby.quaseSaindo = false;
                                }
                            }
                        }
                    }

                    if (this.hover) {
                        this.cor1 = "rgb(0, 200, 0)";
                    }

                    else {
                        this.cor1 = "rgb(0, 127, 0)";
                    }

                    if (telas.lobby.saindo) {
                        this.cor = "rgba(0, 0, 0, 0)";
                    }
                }
            },

            capitulo5: {
                larg: 0,
                alt: 100,
                x: 0,
                y: 515,
                text: "Capítulo 5",
                cor: "white",
                cor1: "rgb(127, 50, 0)",
                counter: 0,
                vezes: 0,

                hover: false,

                desenha() {
                    ctx.fillStyle = this.cor1;
                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                    
                    ctx.textAlign = "center";
                    ctx.font = "40px 'Silkscreen";
                    ctx.fillStyle = this.cor;

                    if (telas.lobby.botoes.textAllow) {
                        ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                    }
                    
                    this.atualiza();
                },

                atualiza() {
                    if (telas.lobby.botoes.textAllow) {
                        if (telas.lobby.quaseSaindo && telas.lobby.qualBotao == 5) {
                            this.counter ++;

                            if (this.counter < 10) {
                                this.cor = "white";
                            }
    
                            else if (this.counter < 20) {
                                this.cor = "rgba(255, 255, 255, 0)";
                            }
    
                            else {
                                this.counter = 0;
                                this.vezes ++;

                                if (this.vezes >= 5) {
                                    telas.lobby.qualBotao = 0;
                                    telas.lobby.saindo = true;
                                    telas.lobby.quaseSaindo = false;
                                }
                            }
                        }
                    }

                    if (this.hover) {
                        this.cor1 = "rgb(255, 126, 0)";
                    }

                    else {
                        this.cor1 = "rgb(127, 50, 0)";
                    }

                    if (telas.lobby.saindo) {
                        this.cor = "rgba(0, 0, 0, 0)";
                    }
                }
            },

            capitulo6: {

            },
        },

        background: {
            desenha() {
                ctx.fillStyle = "rgb(0, 0, 0)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            },
        },

        text: {
            x: canvas.width / 2 + 260,
            y: canvas.height / 2 - 50,
            text: "Selecione",
            text1: "um capítulo",
            cor: "rgba(0, 0, 0, 0)",
            counter: 0,
            alpha: 1,

            desenha() {
                this.atualiza();

                ctx.fillStyle = this.cor;
                ctx.font = "70px 'Silkscreen'";
                ctx.textAlign = "center";

                ctx.fillText(this.text, this.x, this.y);
                ctx.fillText(this.text1, this.x, this.y + 80);
            },

            atualiza() {
                if (telas.lobby.saindo) {
                    this.cor = "rgba(255, 255, 255, " + this.alpha + ")";
                    
                    if (this.alpha > 0) {
                        this.alpha -= 0.02;
                    }
                }

                else if (telas.lobby.botoes.textAllow) {
                    this.counter ++;

                    if (this.counter < 40) {
                        this.cor = "white";
                    }

                    else if (this.counter < 80) {
                        this.cor = "rgba(0, 0, 0, 0)";
                    }

                    else {
                        this.counter = 0;
                    }
                }
            }
        },
    */
}

class Level {
    s = new Image();
    cor = "white";
    onload = true;

    constructor(x, y, boss, block, num) {
        this.x = x;
        this.y = y;
        this.block = block;
        this.boss = boss;
        this.num = num;
    }

    desenha() {
        if (this.onload) {
            this.atualiza();
            this.onload = false;
        }

        ctx.drawImage(
            this.s, this.x, this.y
        )

        ctx.textAlign = "center";
        ctx.font = "30px 'Silkscreen'";
        ctx.fillStyle = this.cor;

        if (!this.block) {
            ctx.fillText(this.num, this.x + (128 / 2), this.y + (128 / 2) + 5);
        }
    }

    atualiza() {
        if (this.block) {
            this.s.src = "./sprites/lobby/levels/spr - block.png";
        }

        else {
            if (this.boss) {
                this.s.src = "./sprites/lobby/levels/spr 1.png";
            }

            else {
                this.s.src = "./sprites/lobby/levels/spr 2.png";
            }
        }
    }
}

function save(op) {
    saves = {
        nome: nome,
        banco: banco,
        capitulos: telas.lobby.capitulos,
        tempo: saves.tempo += tempo
    }

    tempo = 0;

    localStorage.setItem("Save " + op, JSON.stringify(saves));
}

function load(op) {
    return JSON.parse(localStorage.getItem("Save " + op));
}

function atualizarValores(op) {
    saves = load(op);

    if (saves != null) {
        nome = saves.nome;
        banco = saves.banco;
        telas.lobby.capitulos = saves.capitulos;
    }

    else {
        saves = load(0);
    }
}

let banco = {
    capitulo1: {
        fase1_pass: false,
        fase2_pass: false,
        fase3_pass: false,
        fase4_pass: false,
        fase5_pass: false,
    },

    capitulo2: {
        fase1_pass: false,
        fase2_pass: false,
        fase3_pass: false,
        fase4_pass: false,
        fase5_pass: false,
    },

    capitulo3: {
        fase1_pass: false,
        fase2_pass: false,
        fase3_pass: false,
        fase4_pass: false,
        fase5_pass: false,
    },

    capitulo4: {
        fase1_pass: false,
        fase2_pass: false,
        fase3_pass: false,
        fase4_pass: false,
        fase5_pass: false,
    },

    capitulo5: {
        fase1_pass: false,
        fase2_pass: false,
        fase3_pass: false,
        fase4_pass: false,
        fase5_pass: false,
    },
}

const telas = {
    menuInicial: {
        transicao: false,
        entrando: true,

        counter1: 0,
        counter2: 0,
        vezes1: 0,

        desenha() {
            this.atualiza();

            this.background.desenha();
            this.titulo.desenha();
        },

        atualiza() {
            if (this.entrando) {
                if (this.background.x1 < 0) {
                    this.background.x1 += 10;
                }

                if (this.background.x2 < 0) {
                    this.background.x2 += 10;
                }

                if (this.background.x3 < 0) {
                    this.background.x3 += 10;
                }

                else {
                    if (this.titulo.alpha <= 0.95) {
                       this.titulo.alpha += 0.05; 
                    }
                    
                    else {
                        this.titulo.alpha = 1;
                        this.titulo.cor = "white";
                        this.entrando = false;
                    }
                }
            }

            else if (this.transicao) {
                if (this.vezes1 <= 6) {
                   this.counter1 ++;

                    if (this.counter1 >= 7) {
                        this.titulo.cor = "rgba(255, 255, 255, 0)";

                        if (this.counter1 >= 14) {
                            this.titulo.cor = "rgba(255, 255, 255, 1)";
                            this.counter1 = 0;
                            this.vezes1 ++;
                        }
                    } 
                }
                
                else {
                    this.titulo.cor = "rgba(255, 255, 255, 0)";

                    if (this.titulo.alpha >= 0.01) {
                        this.titulo.alpha -= 0.01;
                        
                    }
                    
                    else {
                        this.titulo.alpha = 0;

                        if (this.background.x3 > -700) {
                            if (this.background.x3 + this.background.larg3 > this.background.x2 + this.background.larg2) {
                                this.background.x3 -= 10;
                            }
                            
                            else if (this.background.x2 + this.background.larg2 > this.background.x1 + this.background.larg1) {
                                this.background.x3 -= 10;
                                this.background.x2 -= 10;
                            }

                            else {
                                this.background.x3 -= 10;
                                this.background.x2 -= 10;
                                this.background.x1 -= 10;
                            }
                        }
                        
                        else {
                            this.counter2 ++;

                            if (this.counter2 >= 50) {
                                telas.save.reset();
                                mudaTela(telas.save);
                            }
                        }
                    }
                }
            }
        },

        reset() {
            this.transicao = false;
            this.entrando = true;
            this.counter1 = 0;
            this.counter2 = 0;
            this.vezes1 = 0;

            this.titulo.alpha = 0;
            this.titulo.cor = "rgba(255, 255, 255, 0)";

            this.background.x1 = -500;
            this.background.x2 = -600;
            this.background.x3 = -700;
            this.background.larg1 = 500;
            this.background.larg2 = 600;
            this.background.larg3 = 700;

            saves = load(0);
        },

        titulo: {
            alpha: 0,
            cor: "rgba(255, 255, 255, 0)",

            desenha() {
                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                ctx.font = "103px 'Share Tech Mono'";
                ctx.fillText("A olimpíada", canvas.width / 2 + 10, canvas.height / 2 + 5);

                ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                ctx.font = "100px 'Share Tech Mono'";
                ctx.textAlign = "center";
                ctx.fillText("A olimpíada", canvas.width / 2, canvas.height / 2);

                this.atualiza();
                ctx.fillStyle = this.cor;
                ctx.font = "30px 'Silkscreen'";
                ctx.fillText("Pressione para começar...", canvas.width / 2, canvas.height - 30);
            },

            atualiza() {
                if (!telas.menuInicial.transicao && !telas.menuInicial.entrando) {
                    this.counter ++;
                    
                    if (this.counter < 20) {
                        this.cor = "rgba(255, 255, 255, 1)";
                    }

                    else if (this.counter <= 40) {
                        this.cor = "rgba(255, 255, 255, 0)";
                    }

                    else {
                        this.counter = 0;
                    }
                }
            }
        },

        background: {
            x1: -500,
            x2: -600,
            x3: -700,
            larg1: 500,
            larg2: 600,
            larg3: 700,

            desenha() {
                ctx.fillStyle = "rgb(0, 0, 0)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = "red";
                ctx.fillRect(this.x1, 100, this.larg1, 100);

                ctx.fillStyle = "yellow";
                ctx.fillRect(this.x2, 250, this.larg2, 100);

                ctx.fillStyle = "blue";
                ctx.fillRect(this.x3, 400, this.larg3, 100);
            },
        }
    },

    save: {
        transicao: false,
        allowClick: true,
        drawName: false,
        qual: null,

        desenha() {
            this.backgroud.desenha();

            ctx.font = "50px 'Share Tech Mono'";
            ctx.textAlign = "center";
            ctx.fillStyle = "white";
            ctx.fillText("Escolha um salvamento", canvas.width / 2, 100);

            ctx.lineWidth = 3;
            ctx.strokeStyle = "white";

            ctx.beginPath();
            ctx.moveTo(canvas.width / 2 - 300, 115);
            ctx.lineTo(canvas.width / 2 - 300 + 600, 115);
            ctx.stroke();
            ctx.closePath();

            this.saves.forEach((item) => {
                item.desenha();
            })

            if (this.drawName) {
                ctx.fillStyle = "rgba(0, 0, 0, 0.9)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.font = "50px 'Share Tech Mono'";
                ctx.textAlign = "center";
                ctx.fillStyle = "white";
                ctx.fillText("Informe seu nome", canvas.width / 2, canvas.height / 2 - 50);

                ctx.strokeStyle = "white";
                ctx.lineWidth = 3;

                ctx.beginPath();
                ctx.moveTo(canvas.width / 2 - 250, canvas.height / 2 - 40);
                ctx.lineTo(canvas.width / 2 - 250 + 500, canvas.height / 2 - 40);
                ctx.stroke();
                ctx.closePath();

                ctx.fillStyle = "white";
                ctx.font = "20px 'Silkscreen'";
                ctx.textAlign = "center";
                
                ctx.fillText("Esc - Voltar", 1137, 610);

                ctx.strokeStyle = "white";
                ctx.lineWidth = 3;

                ctx.beginPath();
                ctx.moveTo(1137 - 100, 615);
                ctx.lineTo(1137 - 100 + 200, 615);
                ctx.stroke();
                ctx.closePath();

                ctx.fillText("Enter - Confirmar", 1137, 570);

                ctx.strokeStyle = "white";
                ctx.lineWidth = 3;

                ctx.beginPath();
                ctx.moveTo(1137 - 120, 575);
                ctx.lineTo(1137 - 120 + 240, 575);
                ctx.stroke();
                ctx.closePath();

                this.campo.desenha();
            }

            if (this.transicao) {
                if (load(qualSave) == null) {
                    saves = load(0);
                }

                else {
                    saves = load(qualSave);
                }

                save(qualSave);
                atualizarValores(qualSave);

                telas.lobby.reset();
                mudaTela(telas.lobby);
            }
        },

        reset() {
            this.transicao = false;
            this.allowClick = true;
            this.drawName = false;
            this.qual = null;

            for (let i = 0; i < this.saves.length; i++) {
                this.saves[i].x = canvas.width / 2 - 300;
                this.saves[i].larg = 600;
                this.saves[i].alt = 100;

                this.saves[i].cor = "rgba(255, 195, 165, 0.5)";
                this.saves[i].cor1 = "rgb(170, 170, 50)";
                this.saves[i].nome = "";

                this.saves[i].hover = false;
                this.saves[i].click = false;
                this.saves[i].onload = true;
                this.saves[i].draw_part2 = false;

                this.saves[i].save1 = null;
                this.saves[i].excluir = false;
                this.saves[i].drawExcluir.botao_nao.hover = false;
                this.saves[i].drawExcluir.botao_sim.hover = false;
            }

            this.botao.cor = "black";
            this.botao.hover = false;
            this.botao.click = false;

            this.campo.texto = "";
        },
        
        backgroud: {
            s: new Image(),
            onload: true,

            desenha() {
                this.atualiza();

                ctx.drawImage(
                    this.s,
                    0, 0,
                    3840, 2160,
                    0, 0,
                    1280, 720
                )

                ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            },

            atualiza() {
                if (this.onload) {
                    this.s.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                    this.onload = false;
                }
            }
        },

        saves: [
            {
                x: canvas.width / 2 - 300,
                y: 200,
                larg: 600,
                alt: 100,

                cor: "rgba(255, 195, 165, 0.5)",
                cor1: "rgb(170, 170, 50)",
                nome: "",

                hover: false,
                click: false,
                onload: true,
                draw_part2: false,
                excluir: false,

                save1: null,

                desenha() {
                    this.atualiza();

                    ctx.fillStyle = this.cor;
                    ctx.strokeStyle = this.cor1;
                    ctx.lineWidth = 4;

                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                    ctx.font = "30px 'Silkscreen'";
                    ctx.textAlign = "center";
                    ctx.fillStyle = "white";

                    if (!this.draw_part2) {
                        if (!this.click) {
                            if (this.nome != "") {
                                ctx.fillText(this.nome, this.x + this.larg / 2, this.y + this.alt / 2 + 15);
                            }
        
                            else {
                                ctx.fillText("Novo jogo", this.x + this.larg / 2, this.y + this.alt / 2 + 15);
                            }
                        }
                    }
                    
                    else {
                        if (this.nome != "") {
                            ctx.fillText(this.nome, this.x + this.larg / 2, this.y + 60);
                        }

                        else {
                            ctx.fillText("Novo jogo", this.x + this.larg / 2, this.y + 60);
                        }

                        ctx.lineWidth = 3;
                        ctx.strokeStyle = "white";

                        ctx.beginPath();
                        ctx.moveTo(this.x + this.larg / 2 - 170, this.y + 70);
                        ctx.lineTo(this.x + this.larg / 2 - 170 + 340, this.y + 70);
                        ctx.stroke();
                        ctx.closePath();

                        ctx.textAlign = "left";
                        ctx.font = "20px 'Silkscreen'";
                        ctx.fillText("Tempo de jogo: ", this.x + 50, this.y + 150);

                        ctx.textAlign = "center";

                        if (this.save1 != null) {
                            let tempo = this.save1.tempo / 60;
                            let horas, minutos;

                            horas = Math.floor((tempo / 60) / 60);
                            minutos = Math.floor((tempo - (horas * 60 * 60)) / 60);

                            if (horas < 10) {
                                horas = "0" + horas;
                            }

                            if (minutos < 10) {
                                minutos = "0" + minutos;
                            }

                            ctx.fillText(horas + " : " + minutos, this.x + 300, this.y + 150);

                            telas.save.excluir.desenha();
                        }

                        else {
                            ctx.fillText("00 : 00", this.x + 300, this.y + 150);
                        }

                        telas.save.botao.desenha();
                        telas.save.stars.desenha();

                        ctx.fillStyle = "white";
                        ctx.font = "20px 'Silkscreen'";
                        ctx.textAlign = "center";
                        
                        ctx.fillText("Esc - Voltar", 1137, 610);

                        ctx.strokeStyle = "white";
                        ctx.lineWidth = 3;

                        ctx.beginPath();
                        ctx.moveTo(1137 - 100, 615);
                        ctx.lineTo(1137 - 100 + 200, 615);
                        ctx.stroke();
                        ctx.closePath();

                        if (this.excluir) {
                            this.drawExcluir.desenha();
                        }
                    }
                },

                atualiza() {
                    if (this.onload) {
                        this.save1 = load(1);

                        if (this.save1 != null) {
                            this.nome = this.save1.nome;
                        }

                        else {
                            this.nome = "";
                        }
                        
                        this.y = 200;
                        this.onload = false;
                    }

                    if (this.hover) {
                        this.cor = "rgba(255, 195, 165, 0.5)";
                    }

                    else {
                        this.cor = "rgba(182, 152, 92, 0.5)";
                    }

                    if (this.click) {
                        telas.save.allowClick = false;
                        this.hover = false;

                        if (telas.save.saves[1].y < canvas.height) {
                            telas.save.saves[1].y += 10;
                            telas.save.saves[2].y += 10;
                        }
                        
                        else {
                            if (this.alt < 300) {
                                this.alt += 5;
                            }
                            
                            else {
                                this.draw_part2 = true;
                                this.click = false;
                                telas.save.allowClick = true;
                            }
                        }
                    }
                },

                drawExcluir: {
                    x: canvas.width / 2 - 400,
                    y: canvas.height / 2 - 200,
                    larg: 800,
                    alt: 200,

                    desenha() {
                        ctx.fillStyle = "rgba(0, 0, 0, 0.9)";
                        ctx.fillRect(0, 0, canvas.width, canvas.height);

                        ctx.fillStyle = "rgba(182, 152, 92, 0.65)";
                        ctx.fillRect(this.x, this.y, this.larg, this.alt);

                        ctx.strokeStyle = "white";
                        ctx.lineWidth = 3;
                        ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                        ctx.fillStyle = "white";
                        ctx.font = "40px 'Share Tech Mono'";
                        ctx.textAlign = "center";

                        ctx.fillText("Deseja excluir este salvamento?", this.x + this.larg / 2, this.y + this.alt / 2 + 15);
                    
                        this.botao_nao.desenha();
                        this.botao_sim.desenha();
                    },

                    botao_sim: {
                        x: canvas.width / 2 - 300 - 30,
                        y: canvas.height / 2 + 100,
                        larg: 300,
                        alt: 100,

                        cor: "rgba(182, 152, 92, 0.5)",

                        hover: false,
                        click: false,

                        counter: 0,

                        desenha() {
                            ctx.fillStyle = this.cor;
                            ctx.fillRect(this.x, this.y, this.larg, this.alt);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "rgb(170, 170, 50)";
                            ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                            ctx.font = "30px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Sim", this.x + this.larg / 2, this.y + this.alt / 2 + 15);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.hover) {
                                this.cor = "rgba(255, 195, 165, 0.5)";
                            }

                            else {
                                this.cor = "rgba(182, 152, 92, 0.5)";
                            }

                            if (this.click) {
                                localStorage.removeItem("Save " + (telas.save.qual + 1));
                                telas.save.allowClick = false;
                                this.hover = false;

                                this.counter ++;

                                if (this.counter < 180) {
                                    ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                                    ctx.fillRect(0, 0, canvas.width, canvas.height);

                                    ctx.fillStyle = "white";
                                    ctx.fillText("Arquivo " + (telas.save.qual + 1) + " excluído", canvas.width / 2, canvas.height / 2);
                                }

                                else {
                                    telas.save.reset();
                                    this.click = false;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    botao_nao: {
                        x: canvas.width / 2 + 30,
                        y: canvas.height / 2 + 100,
                        larg: 300,
                        alt: 100,

                        cor: "rgba(182, 152, 92, 0.5)",

                        hover: false,
                        click: false,

                        desenha() {
                            ctx.fillStyle = this.cor;
                            ctx.fillRect(this.x, this.y, this.larg, this.alt);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "rgb(170, 170, 50)";
                            ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                            ctx.font = "30px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Não", this.x + this.larg / 2, this.y + this.alt / 2 + 15);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.hover) {
                                this.cor = "rgba(255, 195, 165, 0.5)";
                            }

                            else {
                                this.cor = "rgba(182, 152, 92, 0.5)";
                            }

                            if (this.click) {
                                telas.save.saves[telas.save.qual].excluir = false;
                                this.click = false;
                            }
                        },
                    },
                }
            },

            {
                x: canvas.width / 2 - 300,
                y: 335,
                larg: 600,
                alt: 100,

                cor: "rgba(255, 195, 165, 0.5)",
                cor1: "rgb(170, 170, 50)",
                nome: "",

                hover: false,
                click: false,
                onload: true,
                draw_part2: false,
                excluir: false,

                save1: null,

                desenha() {
                    this.atualiza();

                    ctx.fillStyle = this.cor;
                    ctx.strokeStyle = this.cor1;
                    ctx.lineWidth = 4;

                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                    ctx.font = "30px 'Silkscreen'";
                    ctx.textAlign = "center";
                    ctx.fillStyle = "white";

                    if (!this.draw_part2) {
                        if (!this.click) {
                            if (this.nome != "") {
                                ctx.fillText(this.nome, this.x + this.larg / 2, this.y + this.alt / 2 + 15);
                            }
        
                            else {
                                ctx.fillText("Novo jogo", this.x + this.larg / 2, this.y + this.alt / 2 + 15);
                            }
                        }
                    }
                    
                    else {
                        if (this.nome != "") {
                            ctx.fillText(this.nome, this.x + this.larg / 2, this.y + 60);
                        }

                        else {
                            ctx.fillText("Novo jogo", this.x + this.larg / 2, this.y + 60);
                        }

                        ctx.lineWidth = 3;
                        ctx.strokeStyle = "white";

                        ctx.beginPath();
                        ctx.moveTo(this.x + this.larg / 2 - 170, this.y + 70);
                        ctx.lineTo(this.x + this.larg / 2 - 170 + 340, this.y + 70);
                        ctx.stroke();
                        ctx.closePath();

                        ctx.textAlign = "left";
                        ctx.font = "20px 'Silkscreen'";
                        ctx.fillText("Tempo de jogo: ", this.x + 50, this.y + 150);

                        ctx.textAlign = "center";

                        if (this.save1 != null) {
                            let tempo = this.save1.tempo / 60;
                            let horas, minutos;

                            horas = Math.floor((tempo / 60) / 60);
                            minutos = Math.floor((tempo - (horas * 60 * 60)) / 60);

                            if (horas < 10) {
                                horas = "0" + horas;
                            }

                            if (minutos < 10) {
                                minutos = "0" + minutos;
                            }

                            ctx.fillText(horas + " : " + minutos, this.x + 300, this.y + 150);

                            telas.save.excluir.desenha();
                        }

                        else {
                            ctx.fillText("00 : 00", this.x + 300, this.y + 150);
                        }

                        telas.save.botao.desenha();
                        telas.save.stars.desenha();

                        ctx.fillStyle = "white";
                        ctx.font = "20px 'Silkscreen'";
                        ctx.textAlign = "center";
                        
                        ctx.fillText("Esc - Voltar", 1137, 610);

                        ctx.strokeStyle = "white";
                        ctx.lineWidth = 3;

                        ctx.beginPath();
                        ctx.moveTo(1137 - 100, 615);
                        ctx.lineTo(1137 - 100 + 200, 615);
                        ctx.stroke();
                        ctx.closePath();

                        if (this.excluir) {
                            this.drawExcluir.desenha();
                        }
                    }
                },

                atualiza() {
                    if (this.onload) {
                        this.save1 = load(2);

                        if (this.save1 != null) {
                            this.nome = this.save1.nome;
                        }

                        else {
                            this.nome = "";
                        }
                        
                        this.y = 335;
                        this.onload = false;
                    }

                    if (this.hover) {
                        this.cor = "rgba(255, 195, 165, 0.5)";
                    }

                    else {
                        this.cor = "rgba(182, 152, 92, 0.5)";
                    }

                    if (this.click) {
                        telas.save.allowClick = false;
                        this.hover = false;

                        if (this.y > 200) {
                            this.y -= 5;
                        }

                        if (telas.save.saves[2].y < canvas.height || telas.save.saves[0].y + telas.save.saves[0].alt > 0) {
                            telas.save.saves[0].y -= 10;
                            telas.save.saves[2].y += 10;
                        }
                        
                        else {
                            if (this.alt < 300) {
                                this.alt += 5;
                            }
                            
                            else {
                                this.draw_part2 = true;
                                this.click = false;
                                telas.save.allowClick = true;
                            }
                        }
                    }
                },

                drawExcluir: {
                    x: canvas.width / 2 - 400,
                    y: canvas.height / 2 - 200,
                    larg: 800,
                    alt: 200,

                    desenha() {
                        ctx.fillStyle = "rgba(0, 0, 0, 0.9)";
                        ctx.fillRect(0, 0, canvas.width, canvas.height);

                        ctx.fillStyle = "rgba(182, 152, 92, 0.65)";
                        ctx.fillRect(this.x, this.y, this.larg, this.alt);

                        ctx.strokeStyle = "white";
                        ctx.lineWidth = 3;
                        ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                        ctx.fillStyle = "white";
                        ctx.font = "40px 'Share Tech Mono'";
                        ctx.textAlign = "center";

                        ctx.fillText("Deseja excluir este salvamento?", this.x + this.larg / 2, this.y + this.alt / 2 + 15);
                    
                        this.botao_nao.desenha();
                        this.botao_sim.desenha();
                    },

                    botao_sim: {
                        x: canvas.width / 2 - 300 - 30,
                        y: canvas.height / 2 + 100,
                        larg: 300,
                        alt: 100,

                        cor: "rgba(182, 152, 92, 0.5)",

                        hover: false,
                        click: false,

                        counter: 0,

                        desenha() {
                            ctx.fillStyle = this.cor;
                            ctx.fillRect(this.x, this.y, this.larg, this.alt);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "rgb(170, 170, 50)";
                            ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                            ctx.font = "30px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Sim", this.x + this.larg / 2, this.y + this.alt / 2 + 15);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.hover) {
                                this.cor = "rgba(255, 195, 165, 0.5)";
                            }

                            else {
                                this.cor = "rgba(182, 152, 92, 0.5)";
                            }

                            if (this.click) {
                                localStorage.removeItem("Save " + (telas.save.qual + 1));
                                telas.save.allowClick = false;
                                this.hover = false;

                                this.counter ++;

                                if (this.counter < 180) {
                                    ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                                    ctx.fillRect(0, 0, canvas.width, canvas.height);

                                    ctx.fillStyle = "white";
                                    ctx.fillText("Arquivo " + (telas.save.qual + 1) + " excluído", canvas.width / 2, canvas.height / 2);
                                }

                                else {
                                    telas.save.reset();
                                    this.click = false;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    botao_nao: {
                        x: canvas.width / 2 + 30,
                        y: canvas.height / 2 + 100,
                        larg: 300,
                        alt: 100,

                        cor: "rgba(182, 152, 92, 0.5)",

                        hover: false,
                        click: false,

                        desenha() {
                            ctx.fillStyle = this.cor;
                            ctx.fillRect(this.x, this.y, this.larg, this.alt);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "rgb(170, 170, 50)";
                            ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                            ctx.font = "30px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Não", this.x + this.larg / 2, this.y + this.alt / 2 + 15);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.hover) {
                                this.cor = "rgba(255, 195, 165, 0.5)";
                            }

                            else {
                                this.cor = "rgba(182, 152, 92, 0.5)";
                            }

                            if (this.click) {
                                telas.save.saves[telas.save.qual].excluir = false;
                                this.click = false;
                            }
                        },
                    },
                }
            },

            {
                x: canvas.width / 2 - 300,
                y: 475,
                larg: 600,
                alt: 100,

                cor: "rgba(255, 195, 165, 0.5)",
                cor1: "rgb(170, 170, 50)",
                nome: "",

                hover: false,
                click: false,
                onload: true,
                draw_part2: false,
                excluir: false,

                save1: null,

                desenha() {
                    this.atualiza();

                    ctx.fillStyle = this.cor;
                    ctx.strokeStyle = this.cor1;
                    ctx.lineWidth = 4;

                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                    ctx.font = "30px 'Silkscreen'";
                    ctx.textAlign = "center";
                    ctx.fillStyle = "white";

                    if (!this.draw_part2) {
                        if (!this.click) {
                            if (this.nome != "") {
                                ctx.fillText(this.nome, this.x + this.larg / 2, this.y + this.alt / 2 + 15);
                            }
        
                            else {
                                ctx.fillText("Novo jogo", this.x + this.larg / 2, this.y + this.alt / 2 + 15);
                            }
                        }
                    }
                    
                    else {
                        if (this.nome != "") {
                            ctx.fillText(this.nome, this.x + this.larg / 2, this.y + 60);
                        }

                        else {
                            ctx.fillText("Novo jogo", this.x + this.larg / 2, this.y + 60);
                        }

                        ctx.lineWidth = 3;
                        ctx.strokeStyle = "white";

                        ctx.beginPath();
                        ctx.moveTo(this.x + this.larg / 2 - 170, this.y + 70);
                        ctx.lineTo(this.x + this.larg / 2 - 170 + 340, this.y + 70);
                        ctx.stroke();
                        ctx.closePath();

                        ctx.textAlign = "left";
                        ctx.font = "20px 'Silkscreen'";
                        ctx.fillText("Tempo de jogo: ", this.x + 50, this.y + 150);

                        ctx.textAlign = "center";

                        if (this.save1 != null) {
                            let tempo = this.save1.tempo / 60;
                            let horas, minutos;

                            horas = Math.floor((tempo / 60) / 60);
                            minutos = Math.floor((tempo - (horas * 60 * 60)) / 60);

                            if (horas < 10) {
                                horas = "0" + horas;
                            }

                            if (minutos < 10) {
                                minutos = "0" + minutos;
                            }

                            ctx.fillText(horas + " : " + minutos, this.x + 300, this.y + 150);

                            telas.save.excluir.desenha();
                        }

                        else {
                            ctx.fillText("00 : 00", this.x + 300, this.y + 150);
                        }

                        telas.save.botao.desenha();
                        telas.save.stars.desenha();

                        ctx.fillStyle = "white";
                        ctx.font = "20px 'Silkscreen'";
                        ctx.textAlign = "center";
                        
                        ctx.fillText("Esc - Voltar", 1137, 610);

                        ctx.strokeStyle = "white";
                        ctx.lineWidth = 3;

                        ctx.beginPath();
                        ctx.moveTo(1137 - 100, 615);
                        ctx.lineTo(1137 - 100 + 200, 615);
                        ctx.stroke();
                        ctx.closePath();

                        if (this.excluir) {
                            this.drawExcluir.desenha();
                        }                    
                    }
                },

                atualiza() {
                    if (this.onload) {
                        this.save1 = load(3);

                        if (this.save1 != null) {
                            this.nome = this.save1.nome;
                        }

                        else {
                            this.nome = "";
                        }
                        
                        this.y = 475;
                        this.onload = false;
                    }

                    if (this.hover) {
                        this.cor = "rgba(255, 195, 165, 0.5)";
                    }

                    else {
                        this.cor = "rgba(182, 152, 92, 0.5)";
                    }

                    if (this.click) {
                        telas.save.allowClick = false;
                        this.hover = false;

                        if (this.y > 200) {
                            this.y -= 5;
                        }

                        if (telas.save.saves[1].y + telas.save.saves[1].alt > 0) {
                            telas.save.saves[0].y -= 10;
                            telas.save.saves[1].y -= 10;
                        }
                        
                        else if (this.y <= 200) {
                            if (this.alt < 300) {
                                this.alt += 5;
                            }
                            
                            else {
                                this.draw_part2 = true;
                                this.click = false;
                                telas.save.allowClick = true;
                            }
                        }
                    }
                },

                drawExcluir: {
                    x: canvas.width / 2 - 400,
                    y: canvas.height / 2 - 200,
                    larg: 800,
                    alt: 200,

                    desenha() {
                        ctx.fillStyle = "rgba(0, 0, 0, 0.9)";
                        ctx.fillRect(0, 0, canvas.width, canvas.height);

                        ctx.fillStyle = "rgba(182, 152, 92, 0.65)";
                        ctx.fillRect(this.x, this.y, this.larg, this.alt);

                        ctx.strokeStyle = "white";
                        ctx.lineWidth = 3;
                        ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                        ctx.fillStyle = "white";
                        ctx.font = "40px 'Share Tech Mono'";
                        ctx.textAlign = "center";

                        ctx.fillText("Deseja excluir este salvamento?", this.x + this.larg / 2, this.y + this.alt / 2 + 15);
                    
                        this.botao_nao.desenha();
                        this.botao_sim.desenha();
                    },

                    botao_sim: {
                        x: canvas.width / 2 - 300 - 30,
                        y: canvas.height / 2 + 100,
                        larg: 300,
                        alt: 100,

                        cor: "rgba(182, 152, 92, 0.5)",

                        hover: false,
                        click: false,

                        counter: 0,

                        desenha() {
                            ctx.fillStyle = this.cor;
                            ctx.fillRect(this.x, this.y, this.larg, this.alt);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "rgb(170, 170, 50)";
                            ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                            ctx.font = "30px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Sim", this.x + this.larg / 2, this.y + this.alt / 2 + 15);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.hover) {
                                this.cor = "rgba(255, 195, 165, 0.5)";
                            }

                            else {
                                this.cor = "rgba(182, 152, 92, 0.5)";
                            }

                            if (this.click) {
                                localStorage.removeItem("Save " + (telas.save.qual + 1));
                                telas.save.allowClick = false;
                                this.hover = false;

                                this.counter ++;

                                if (this.counter < 180) {
                                    ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                                    ctx.fillRect(0, 0, canvas.width, canvas.height);

                                    ctx.fillStyle = "white";
                                    ctx.fillText("Arquivo " + (telas.save.qual + 1) + " excluído", canvas.width / 2, canvas.height / 2);
                                }

                                else {
                                    telas.save.reset();
                                    this.click = false;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    botao_nao: {
                        x: canvas.width / 2 + 30,
                        y: canvas.height / 2 + 100,
                        larg: 300,
                        alt: 100,

                        cor: "rgba(182, 152, 92, 0.5)",

                        hover: false,
                        click: false,

                        desenha() {
                            ctx.fillStyle = this.cor;
                            ctx.fillRect(this.x, this.y, this.larg, this.alt);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "rgb(170, 170, 50)";
                            ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                            ctx.font = "30px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Não", this.x + this.larg / 2, this.y + this.alt / 2 + 15);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.hover) {
                                this.cor = "rgba(255, 195, 165, 0.5)";
                            }

                            else {
                                this.cor = "rgba(182, 152, 92, 0.5)";
                            }

                            if (this.click) {
                                telas.save.saves[telas.save.qual].excluir = false;
                                this.click = false;
                            }
                        },
                    },
                }
            }
        ],

        botao: {
            x: canvas.width / 2 + 132,
            y: 420,
            larg: 150,
            alt: 50,

            cor: "black",

            hover: false,
            click: false,

            desenha() {
                this.atualiza();

                ctx.fillStyle = this.cor;
                ctx.strokeStyle = "white";
                ctx.lineWidth = 3;

                ctx.fillRect(this.x, this.y, this.larg, this.alt);
                ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                ctx.font = "20px 'Silkscreen'";
                ctx.fillStyle = "white";
                ctx.fillText("Começar", this.x + this.larg / 2, this.y + this.alt / 2 + 7.5);
            },

            atualiza() {
                if (this.hover) {
                    this.cor = "rgb(120, 120, 70)";
                }

                else {
                    this.cor = "rgb(50, 50, 10)";
                }

                if (this.click) {
                    telas.save.allowClick = false;
                    this.click = false;

                    if (telas.save.saves[telas.save.qual].save1 == null) {
                        telas.save.drawName = true;
                    }

                    else {
                        telas.save.transicao = true;
                        qualSave = telas.save.qual + 1;
                    }
                }
            }
        },

        excluir: {
            x: 1136.5,
            y: 570,

            desenha() {
                ctx.fillStyle = "white";
                ctx.textAlign = "center";
                ctx.font = "20px 'Silkscreen'";
                ctx.strokeStyle = "white";
                ctx.lineWidth = 3;

                ctx.fillText("Delete - Excluir", this.x, this.y);
                
                ctx.beginPath();
                ctx.moveTo(this.x - 120, this.y + 10);
                ctx.lineTo(this.x + 120, this.y + 10);
                ctx.stroke();
                ctx.closePath();
            },
            
            press() {
                telas.save.saves[telas.save.qual].excluir = true;
            }
        },

        stars: {
            s: new Image(),
            s_vazio: new Image(),
            s_cheio: new Image(),

            x: canvas.width / 2 - 260,
            y: 410,

            onload: true,

            desenha() {
                this.atualiza();

                this.atualizaStar(1);
                ctx.drawImage(
                    this.s,
                    0, 0,
                    200, 200,
                    this.x, this.y,
                    60, 60
                )
                
                this.atualizaStar(2);
                ctx.drawImage(
                    this.s,
                    0, 0,
                    200, 200,
                    this.x + 60, this.y,
                    60, 60
                )
                
                this.atualizaStar(3);
                ctx.drawImage(
                    this.s,
                    0, 0,
                    200, 200,
                    this.x + 120, this.y,
                    60, 60
                )
                
                this.atualizaStar(4);
                ctx.drawImage(
                    this.s,
                    0, 0,
                    200, 200,
                    this.x + 180, this.y,
                    60, 60
                )
                
                this.atualizaStar(5);
                ctx.drawImage(
                    this.s,
                    0, 0,
                    200, 200,
                    this.x + 240, this.y,
                    60, 60
                )
            },

            atualiza() {
                if (this.onload) {
                    this.s_vazio.src = "sprites/jogo/star/no colected.png";
                    this.s_cheio.src = "sprites/jogo/star/yes colected.png";
                    this.onload = false;
                }
            },

            atualizaStar(num) {
                switch(num) {
                    case 1: {
                        if (telas.save.saves[telas.save.qual].save1 != null &&
                            telas.save.saves[telas.save.qual].save1.banco.capitulo1.fase5_pass) {
                            this.s.src = this.s_cheio.src;
                        }

                        else {
                            this.s.src = this.s_vazio.src;
                        }

                        break;
                    }

                    case 2: {
                        if (telas.save.saves[telas.save.qual].save1 != null &&
                            telas.save.saves[telas.save.qual].save1.banco.capitulo2.fase5_pass) {
                            this.s.src = this.s_cheio.src;
                        }

                        else {
                            this.s.src = this.s_vazio.src;
                        }

                        break;
                    }

                    case 3: {
                        if (telas.save.saves[telas.save.qual].save1 != null &&
                            telas.save.saves[telas.save.qual].save1.banco.capitulo3.fase5_pass) {
                            this.s.src = this.s_cheio.src;
                        }

                        else {
                            this.s.src = this.s_vazio.src;
                        }

                        break;
                    }

                    case 4: {
                        if (telas.save.saves[telas.save.qual].save1 != null &&
                            telas.save.saves[telas.save.qual].save1.banco.capitulo4.fase5_pass) {
                            this.s.src = this.s_cheio.src;
                        }

                        else {
                            this.s.src = this.s_vazio.src;
                        }

                        break;
                    }

                    case 5: {
                        if (telas.save.saves[telas.save.qual].save1 != null &&
                            telas.save.saves[telas.save.qual].save1.banco.capitulo5.fase5_pass) {
                            this.s.src = this.s_cheio.src;
                        }

                        else {
                            this.s.src = this.s_vazio.src;
                        }

                        break;
                    }
                }
            }
        },

        campo: {
            x: canvas.width / 2 - 303,
            y: canvas.height / 2 + 50,
            larg: 606,
            alt: 100,

            texto: "",

            counter: 0,
            alpha: 0,

            desenha() {
                ctx.fillStyle = "rgba(0, 0, 0, 0.3)";
                ctx.strokeStyle = "rgba(255, 255, 255, 0.2)";
                ctx.lineWidth = 3;

                ctx.fillRect(this.x, this.y, this.larg, this.alt);
                ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                ctx.font = "50px 'Silkscreen'";
                ctx.textAlign = "center";
                ctx.fillStyle = "white";
                ctx.fillText(this.texto, this.x + this.larg / 2, this.y + this.alt / 2 + 15);

                this.counter ++;

                if (this.counter < 30) {
                    this.alpha = 1;
                }

                else if (this.counter < 60) {
                    this.alpha = 0;
                }

                else {
                    this.counter = 0;
                }

                ctx.strokeStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                ctx.lineWidth = 2;

                ctx.beginPath();
                ctx.moveTo(this.x + this.larg / 2 + this.verificaLarg(), this.y + 30);
                ctx.lineTo(this.x + this.larg / 2 + this.verificaLarg(), this.y + this.alt - 30);
                ctx.stroke();
                ctx.closePath();
            },

            input(letra) {
                if (letra == "Enter") {
                    if (this.texto.length > 0) {
                        nome = this.texto;
                        tempo = 0;
                        telas.save.transicao = true;
                        qualSave = telas.save.qual + 1;
                        this.texto = "";
                    }

                    else {
                        alert("ERROR!\nPor favor insira um nome");
                    }
                }

                else if (letra == "Backspace") {
                    this.texto = this.texto.substring(0, this.texto.length - 1);
                }

                else {
                    if (this.texto.length < 12) {
                        this.texto += letra;
                    }

                    else {
                        alert("ERROR!\nNúmero máximo de caracteres excedido!");
                    }
                }
            },

            verificaLarg() {
                let larg = 0;

                for (let i = 0; i < this.texto.length; i++) {
                    switch(this.texto.substring(i, i + 1)) {
                        case "a": {
                            larg += 19;
                            break;
                        }

                        case "b": {
                            larg += 19;
                            break;
                        }

                        case "c": {
                            larg += 19;
                            break;
                        }

                        case "d": {
                            larg += 19;
                            break;
                        }

                        case "e": {
                            larg += 16;
                            break;
                        }

                        case "f": {
                            larg += 16;
                            break;
                        }

                        case "g": {
                            larg += 19;
                            break;
                        }

                        case "h": {
                            larg += 19;
                            break;
                        }

                        case "i": {
                            larg += 10;
                            break;
                        }

                        case "j": {
                            larg += 19;
                            break;
                        }

                        case "k": {
                            larg += 19;
                            break;
                        }

                        case "l": {
                            larg += 16;
                            break;
                        }

                        case "m": {
                            larg += 22;
                            break;
                        }
                        
                        case "n": {
                            larg += 22;
                            break;
                        }

                        case "o": {
                            larg += 19;
                            break;
                        }

                        case "p": {
                            larg += 19;
                            break;
                        }

                        case "q": {
                            larg += 19;
                            break;
                        }

                        case "r": {
                            larg += 19;
                            break;
                        }

                        case "s": {
                            larg += 19;
                            break;
                        }

                        case "t": {
                            larg += 16;
                            break;
                        }

                        case "u": {
                            larg += 19;
                            break;
                        }

                        case "v": {
                            larg += 22;
                            break;
                        }

                        case "w": {
                            larg += 22;
                            break;
                        }

                        case "x": {
                            larg += 22;
                            break;
                        }

                        case "y": {
                            larg += 22;
                            break;
                        }

                        case "z": {
                            larg += 16;
                            break;
                        }

                        case "A": {
                            larg += 19;
                            break;
                        }

                        case "B": {
                            larg += 19;
                            break;
                        }

                        case "C": {
                            larg += 19;
                            break;
                        }

                        case "D": {
                            larg += 19;
                            break;
                        }

                        case "E": {
                            larg += 16;
                            break;
                        }

                        case "F": {
                            larg += 16;
                            break;
                        }

                        case "G": {
                            larg += 19;
                            break;
                        }

                        case "H": {
                            larg += 19;
                            break;
                        }

                        case "I": {
                            larg += 10;
                            break;
                        }

                        case "J": {
                            larg += 19;
                            break;
                        }

                        case "K": {
                            larg += 19;
                            break;
                        }

                        case "L": {
                            larg += 16;
                            break;
                        }

                        case "M": {
                            larg += 22;
                            break;
                        }
                        
                        case "N": {
                            larg += 22;
                            break;
                        }

                        case "O": {
                            larg += 19;
                            break;
                        }

                        case "P": {
                            larg += 19;
                            break;
                        }

                        case "Q": {
                            larg += 19;
                            break;
                        }

                        case "R": {
                            larg += 19;
                            break;
                        }

                        case "S": {
                            larg += 19;
                            break;
                        }

                        case "T": {
                            larg += 16;
                            break;
                        }

                        case "U": {
                            larg += 19;
                            break;
                        }

                        case "V": {
                            larg += 22;
                            break;
                        }

                        case "W": {
                            larg += 22;
                            break;
                        }

                        case "X": {
                            larg += 22;
                            break;
                        }

                        case "Y": {
                            larg += 22;
                            break;
                        }

                        case "Z": {
                            larg += 16;
                            break;
                        }

                        case "1": {
                            larg += 16;
                            break;
                        }

                        case "-": {
                            larg += 16;
                            break;
                        }

                        case ".": {
                            larg += 10;
                            break;
                        }

                        case " ": {
                            larg += 13;
                            break;
                        }

                        default: {
                            larg += 19;
                            break;
                        }
                    }
                }

                return larg;
            }
        }
    },

    cutscenes: {
        intro: {
            parte: 0,

            desenha() {
                this.partes[this.parte].desenha();
            },
            
            partes: [
                {
                    spr: new Image(),
                    onload: true,
                    x: -120,

                    desenha() {
                        this.atualiza();

                        ctx.drawImage(
                            this.spr, this.x, 0
                        )

                        this.background.desenha();
                    },

                    atualiza() {
                        if (this.onload) {
                            this.spr.src = "./sprites/jogo/cutscenes/intro/0/spr.webp";
                            this.onload = false;
                        }

                        this.x += 0.2;
                    },

                    background: {
                        alpha: 1,
                        counter: 0,

                        desenha() {
                            this.atualiza();

                            ctx.globalAlpha = this.alpha;

                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        
                            ctx.globalAlpha = 1;
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.counter > 60) {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.005;
                                }

                                if (this.counter > 540) {
                                    telas.cutscenes.intro.parte ++;
                                }
                            }
                        }
                    }
                },

                {
                    spr: new Image(),
                    onload: true,

                    desenha() {
                        this.atualiza();

                        ctx.drawImage(
                            this.spr,
                            0, 0,
                            1984, 1024,
                            0, 0,
                            1280, 720
                        )

                        this.background.desenha();
                    },

                    atualiza() {
                        if (this.onload) {
                            this.spr.src = "./sprites/jogo/cutscenes/intro/1/spr.png";
                            this.onload = false;
                        }
                    },

                    background: {
                        alpha: 1,

                        desenha() {
                            this.atualiza();

                            ctx.globalAlpha = this.alpha;

                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        
                            ctx.globalAlpha = 1;
                        },

                        atualiza() {
                            if (this.alpha > 0.005) {
                                this.alpha -= 0.005;
                            }
                        }
                    },

                    pessoas: {
                        obj: [],
                        onload: true,
                        globalPath: "./sprites/jogo/cutscenes/intro/1/spr",

                        desenha() {
                            this.atualiza();
                        },

                        atualiza() {
                            class Pessoa {
                                spr = new Image();
                                counter = Math.floor(Math.random() * 60);
                                pos = [{x, y}, {x, y}];
                                posAtual;

                                constructor(x, y, num) {
                                    this.pos[0].x = x;
                                    this.pos[0].y = y;
                                    this.pos[1].x = x;
                                    this.pos[1].y = y - 10;
                                    this.spr.src = "./sprites/jogo/cutscenes/intro/1/spr" + num + ".png";
                                    this.num = num;
                                }

                                desenha() {
                                    this.atualiza();

                                    ctx.drawImage(
                                        this.spr,
                                        0, 0,
                                        28, this.alt,
                                        this.pos[this.posAtual].x, this.pos[this.posAtual].y,
                                        
                                    )
                                }

                                atualiza() {
                                    this.counter ++;

                                    if (this.counter < 30) {
                                        this.posAtual = 0;
                                    }

                                    else if (this.counter < 60) {
                                        this.posAtual = 1;
                                    }

                                    else {
                                        this.counter = 0;
                                    }
                                }
                            }

                            if (this.onload) {

                                this.obj.push(
                                    new Pessoa(129, 746, 0)
                                )

                                this.onload = false;
                            }
                        }
                    }
                }
            ]
        }
    },

    lobby: {
        page: 1,
        setaAllow: true,
        setaAllow2: false,
        clickAllow: false,
        aparecendo: true,
        salvando: false,
        drawSave: false,

        capitulos: [
            {fase_1: false, fase_2: true, fase_3: true, fase_4: true, fase_5: true}, // capitulo 1
            {fase_1: true, fase_2: true, fase_3: true, fase_4: true, fase_5: true},  // capitulo 2
            {fase_1: true, fase_2: true, fase_3: true, fase_4: true, fase_5: true},  // capitulo 3
            {fase_1: true, fase_2: true, fase_3: true, fase_4: true, fase_5: true},  // capitulo 4
            {fase_1: true, fase_2: true, fase_3: true, fase_4: true, fase_5: true}   // capitulo 5
        ],

        desenha() {
            this.atualiza();

            this.background.desenha();
            this.levels.desenha();

            if (this.arrow.allow) {
                this.arrow.desenha();
                this.text.desenha();
            }

            ctx.textAlign = "center";
            ctx.font = "70px 'Silkscreen";
            ctx.fillStyle = "black";
            
            ctx.fillText("Capítulo " + this.page, canvas.width / 2 + 5, 105);
            ctx.fillRect(canvas.width / 2 - 295, 125, 600, 10);

            ctx.fillStyle = "white";
            ctx.fillText("Capítulo " + this.page, canvas.width / 2, 100);
            ctx.fillRect(canvas.width / 2 - 300, 120, 600, 10);

            ctx.font = "20px 'Silkscreen'";
            ctx.textAlign = "center";
            ctx.fillStyle = "black";
            
            ctx.fillText("Esc - Salvar e Sair", 1142.5, 622.5);
            
            ctx.fillStyle = "white";
            ctx.fillText("Esc - Salvar e Sair", 1140, 620);

            ctx.lineWidth = 3;
            ctx.strokeStyle = "black";
            ctx.beginPath();
            ctx.moveTo(1140 - 135 + 2.5, 627.5);
            ctx.lineTo(1140 - 135 + 270 + 2.5, 627.5);
            ctx.stroke();
            ctx.closePath();
            
            ctx.strokeStyle = "white";
            ctx.beginPath();
            ctx.moveTo(1140 - 135, 625);
            ctx.lineTo(1140 - 135 + 270, 625);
            ctx.stroke();
            ctx.closePath();

            if (this.setaAllow) {
                this.seta.desenha();
            }
            
            if (this.setaAllow2) {
                this.seta2.desenha();
            }

            if (this.aparecendo) {
                this.blackScreen.desenha();
            }

            if (this.drawSave) {
                this.save_screen.desenha();
            }
        },

        atualiza() {
            if (this.page > 1) {
                this.setaAllow2 = true;
            }

            else {
                this.setaAllow2 = false;
            }

            if (this.page < 5) {
                this.setaAllow = true;
            }

            else {
                this.setaAllow = false;
            }

            if (this.levels.level[this.levels.selected].block) {
                this.arrow.allow = false;
            }

            else {
                this.arrow.allow = true;
            }
        },

        reset() {
            this.aparecendo = true;
            this.page = 1;
            this.clickAllow = false;
            this.drawSave = false;

            this.background.onload = true;
            this.blackScreen.alpha = 1;
            this.levels.onload = true;
        },

        save_screen: {
            counter: 0,

            desenha() {
                this.atualiza();

                ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = "rgba(182, 152, 92, 0.65)";
                ctx.strokeStyle = "white";
                ctx.lineWidth = 3;

                ctx.fillRect(canvas.width / 2 - 400, canvas.height / 2 - 120, 800, 240);
                ctx.strokeRect(canvas.width / 2 - 400, canvas.height / 2 - 120, 800, 240);

                ctx.font = "80px 'Share Tech Mono'";
                ctx.textAlign = "center";
                ctx.fillStyle = "white";
                ctx.fillText("Jogo Salvo", canvas.width / 2, canvas.height / 2 + 20);

                ctx.lineWidth = 6;
                ctx.strokeStyle = "white";

                ctx.beginPath();
                ctx.moveTo(canvas.width / 2 - 325, canvas.height / 2 + 40 + 5);
                ctx.lineTo(canvas.width / 2 - 325 + 650, canvas.height / 2 + 40 + 5);
                ctx.stroke();
                ctx.closePath();
            },

            atualiza() {
                this.counter ++;

                if (this.counter > 180) {
                    tempo = 0;
                    this.counter = 0;
                    telas.menuInicial.reset();
                    mudaTela(telas.menuInicial);
                }

                else {
                    telas.lobby.clickAllow = false;
                }
            }
        },

        blackScreen: {
            alpha: 1,

            desenha() {
                this.atualiza();

                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            },

            atualiza() {
                if (telas.lobby.aparecendo) {
                    if (this.alpha > 0) {
                        this.alpha -= 0.005;
                    }
                    
                    else {
                        this.alpha = 0;
                        telas.lobby.aparecendo = false;
                        telas.lobby.clickAllow = true;
                    }
                }
            },
        },

        text: {
            alpha: 1,
            counter: 0,

            desenha() {
                this.atualiza();

                ctx.textAlign = "center";
                ctx.font = "30px 'Silkscreen'";

                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                ctx.fillText("Pressione Enter", canvas.width / 2 + 4, canvas.height - 40 + 4);

                ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                ctx.fillText("Pressione Enter", canvas.width / 2, canvas.height - 40);
            },

            atualiza() {
                this.counter ++;

                if (this.counter < 30) {
                    this.alpha = 1;
                }

                else if (this.counter < 60) {
                    this.alpha = 0;
                }

                else {
                    this.counter = 0;
                }
            }
        },

        background: {
            s: new Image(),
            x: 0, 
            y: 0,
            larg: canvas.width,
            alt: canvas.height,

            onload: true,

            desenha() {
                this.atualiza();

                ctx.drawImage(
                    this.s,
                    0, 0,
                    3840, 2160,
                    this.x, this.y,
                    1280, 720
                )

                ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                for (let i = 0; i < 4; i++) {
                    if (!telas.lobby.levels.level[i].block && !telas.lobby.levels.level[i + 1].block) {
                        ctx.beginPath();
                        ctx.lineWidth = 25;
                        ctx.strokeStyle = "black";
                        ctx.moveTo(telas.lobby.levels.level[i].x + 64, telas.lobby.levels.level[i].y + 64);
                        ctx.lineTo(telas.lobby.levels.level[i + 1].x + 64, telas.lobby.levels.level[i + 1].y + 64);
                        ctx.stroke();
                        ctx.closePath();
                        
                        ctx.beginPath();
                        ctx.strokeStyle = "yellow";
                        ctx.lineWidth = 20;
                        ctx.moveTo(telas.lobby.levels.level[i].x + 64, telas.lobby.levels.level[i].y + 64);
                        ctx.lineTo(telas.lobby.levels.level[i + 1].x + 64, telas.lobby.levels.level[i + 1].y + 64);
                        ctx.stroke();
                        ctx.closePath();
                    }
                }
            },

            atualiza() {
                if (this.onload) {
                    this.s.src = "./sprites/lobby/backgrounds/spr - cap " + telas.lobby.page + ".png";
                    this.onload = false;
                }
            }
        },

        levels: {
            x: 0,
            y: 0,
            larg: 0,
            alt: 0,

            level: [
                new Level(100, 100, false, false, 1),
                new Level(340, 210, false, false, 2),
                new Level(520, 400, false, false, 3),
                new Level(790, 280, false, false, 4),
                new Level(1050, 350, true, false, 5),
            ],

            onload: true,

            selected: 0,

            desenha() {
                this.atualiza();

                this.level.forEach(item => {
                    item.desenha();
                })
            },

            atualiza() {
                if (this.onload) {
                    this.level = [];
                    this.selected = 0;

                    if (telas.lobby.page == 1) {
                        this.level.push(
                            new Level(100, 100, false, telas.lobby.capitulos[0].fase_1, 1),
                            new Level(340, 210, false, telas.lobby.capitulos[0].fase_2, 2),
                            new Level(520, 400, false, telas.lobby.capitulos[0].fase_3, 3),
                            new Level(790, 280, false, telas.lobby.capitulos[0].fase_4, 4),
                            new Level(1050, 350, true, telas.lobby.capitulos[0].fase_5, 5),
                        )
                    }

                    else if (telas.lobby.page == 2) {
                        this.level.push(
                            new Level(150, 450, false, telas.lobby.capitulos[1].fase_1, 1),
                            new Level(300, 270, false, telas.lobby.capitulos[1].fase_2, 2),
                            new Level(600, 410, false, telas.lobby.capitulos[1].fase_3, 3),
                            new Level(820, 250, false, telas.lobby.capitulos[1].fase_4, 4),
                            new Level(1130, 500, true, telas.lobby.capitulos[1].fase_5, 5),
                        )
                    }

                    else if (telas.lobby.page == 3) {
                        this.level.push(
                            new Level(100, 200, false, telas.lobby.capitulos[2].fase_1, 1),
                            new Level(400, 470, false, telas.lobby.capitulos[2].fase_2, 2),
                            new Level(600, 300, false, telas.lobby.capitulos[2].fase_3, 3),
                            new Level(890, 280, false, telas.lobby.capitulos[2].fase_4, 4),
                            new Level(1100, 490, true, telas.lobby.capitulos[2].fase_5, 5),
                        )
                    }

                    else if (telas.lobby.page == 4) {
                        this.level.push(
                            new Level(150, 480, false, telas.lobby.capitulos[3].fase_1, 1),
                            new Level(390, 260, false, telas.lobby.capitulos[3].fase_2, 2),
                            new Level(590, 400, false, telas.lobby.capitulos[3].fase_3, 3),
                            new Level(790, 500, false, telas.lobby.capitulos[3].fase_4, 4),
                            new Level(1050, 300, true, telas.lobby.capitulos[3].fase_5, 5),
                        )
                    }

                    else if (telas.lobby.page == 5) {
                        this.level.push(
                            new Level(100, 300, false, telas.lobby.capitulos[4].fase_1, 1),
                            new Level(390, 400, false, telas.lobby.capitulos[4].fase_2, 2),
                            new Level(560, 200, false, telas.lobby.capitulos[4].fase_3, 3),
                            new Level(800, 420, false, telas.lobby.capitulos[4].fase_4, 4),
                            new Level(1050, 190, true, telas.lobby.capitulos[4].fase_5, 5),
                        )
                    }

                    for (let i = 0; i < this.level.length; i++) {
                        if (!this.level[i].block) {
                            this.selected = i;
                            break;
                        }
                    }

                    this.onload = false;
                }
            }
        },

        arrow: {
            s: new Image(),

            onload: true,

            counter: 0,

            x: 0,
            y: 0,

            vez: "up",
            troca: false,
            allow: true,

            desenha() {
                this.atualiza();

                ctx.drawImage(
                    this.s, this.x, this.y
                )
            },

            atualiza() {
                if (this.onload) {
                    this.s.src = "./sprites/lobby/arrow/spr.png";
                    this.onload = false;
                }

                this.x = telas.lobby.levels.level[telas.lobby.levels.selected].x + 34;

                this.counter ++;

                if (this.counter >= 18) {
                    this.counter = 0;
                    this.troca = true;
                }

                if (this.troca) {
                    if (this.vez == "up") {
                        this.vez = "down";
                    }

                    else {
                        this.vez = "up";
                    }

                    this.troca = false;
                }
                
                if (this.vez == "up") {
                    this.y = telas.lobby.levels.level[telas.lobby.levels.selected].y - 70;
                }

                else {
                    this.y = telas.lobby.levels.level[telas.lobby.levels.selected].y - 50;
                }
            },
        },

        seta: {
            s: new Image(),
            x: canvas.width - 70,
            y: canvas.height / 2 - 106 / 2,
            larg: 60,
            alt: 116,
            larg1: 60,
            alt1: 116,

            hover: false,
            onload: true,

            desenha() {
                this.atualiza();

                ctx.drawImage(
                    this.s,
                    0, 0,
                    this.larg, this.alt,
                    this.x, this.y,
                    this.larg1, this.alt1
                )
            },

            atualiza() {
                if (this.onload) {
                    this.s.src = "./sprites/lobby/seta/spr.png";
                    this.onload = false;
                }

                if (this.hover) {
                    this.larg1 = 60;
                    this.alt1 = 116;

                    this.x = canvas.width - 70 - 2.5;
                    this.y = canvas.height / 2 - 106 / 2 - 5;
                }

                else {
                    this.larg1 = 55;
                    this.alt1 = 106;

                    this.x = canvas.width - 70;
                    this.y = canvas.height / 2 - 106 / 2;
                }
            },
        },

        seta2: {
            s: new Image(),
            x: 25,
            y: canvas.height / 2 - 106 / 2,
            larg: 60,
            alt: 116,
            larg1: 55,
            alt1: 106,

            hover: false,
            onload: true,

            desenha() {
                this.atualiza();

                ctx.drawImage(
                    this.s,
                    0, 0,
                    this.larg, this.alt,
                    this.x, this.y,
                    this.larg1, this.alt1
                )
            },

            atualiza() {
                if (this.onload) {
                    this.s.src = "./sprites/lobby/seta/spr1.png";
                    this.onload = false;
                }

                if (this.hover) {
                    this.larg1 = 60;
                    this.alt1 = 116;

                    this.x = 25 - 2.5;
                    this.y = canvas.height / 2 - 106 / 2 - 5;
                }

                else {
                    this.larg1 = 55;
                    this.alt1 = 106;

                    this.x = 25;
                    this.y = canvas.height / 2 - 106 / 2;
                }
            },
        },
    },

    jogo: {
        capitulo1: {
            //cores

            abertura: {
                alpha: 0,
                counter: 0,

                desenha() {
                    this.atualiza();

                    ctx.fillStyle = "black";
                    ctx.fillRect(0, 0, canvas.width, canvas.height);

                    ctx.globalAlpha = this.alpha;

                    ctx.fillStyle = "white";
                    ctx.textAlign = "center";
                    ctx.font = "100px 'Share Tech Mono'";
                    ctx.fillText("Capítulo 1", canvas.width / 2, canvas.height / 2);

                    ctx.font = "50px 'Silkscreen'";
                    ctx.fillText("Cores", canvas.width / 2, canvas.height / 2 + 165);

                    ctx.globalAlpha = 1;
                },

                atualiza() {
                    this.counter ++;

                    if (this.counter < 180 && this.alpha < 0.99) {
                        this.alpha += 0.01;
                    }

                    else if (this.counter > 360) {
                        if (this.alpha > 0.01) {
                            this.alpha -= 0.01;
                        }

                        else {
                            telas.jogo.capitulo1.fase1.reset();
                            mudaTela(telas.jogo.capitulo1.fase1);
                        }
                    }
                }
            },

            fase1: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.resposta = "";
                    this.principal.solucao.alpha = 0;
                    this.principal.solucao.aparecendo = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.final.aprovado = false;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;

                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;
                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.principal.enter = false;
                },

                tutorial: {
                    parte: 1,
                    alpha: 1,
                    counter: 0,
                    img: new Image(),
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "black";
                            ctx.fillText("Escreva o nome da cor", canvas.width / 2 + 5, canvas.height / 2 + 5);

                            ctx.fillStyle = "white";
                            ctx.fillText("Escreva o nome da cor", canvas.width / 2, canvas.height / 2);

                            ctx.lineWidth = 6;
                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 10 + 15 + 5);
                            ctx.lineTo(canvas.width / 2 + 400, canvas.height / 2 + 10 + 15 + 5);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.strokeStyle = "white";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 10 + 15);
                            ctx.lineTo(canvas.width / 2 + 400, canvas.height / 2 + 10 + 15);
                            ctx.stroke();
                            ctx.closePath();

                            this.atualiza();
                            
                            ctx.globalAlpha = this.alpha;

                            ctx.lineWidth = 5;
                            ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                            ctx.strokeStyle = "black";
                            ctx.fillRect(canvas.width - 110, canvas.height - 110, 84, 84);
                            ctx.strokeRect(canvas.width - 110, canvas.height - 110, 84, 84);

                            ctx.drawImage(
                                this.img,
                                0, 0,
                                512, 512,
                                canvas.width - 100, canvas.height - 100,
                                64, 64
                            )
                            
                            ctx.globalAlpha = 1;
                        }

                        else {
                            telas.jogo.capitulo1.fase1.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        if (this.onload) {
                            this.img.src = "./sprites/jogo/icons/enter.png";
                            this.onload = false;
                        }

                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 1",
                        descricao: "Conhecendo as cores",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo1.fase1.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        x: 200,
                        y: 0,
                        alt: 350,

                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },
                    }
                },

                principal: {
                    banco: [],
                    enter: false,

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();

                        if (this.enter) {
                            this.icon.desenha();
                        }
                    },

                    verificaQuestao(numQuestao) {
                        for (let i = 0; i < this.banco.length; i++) {
                            if (this.banco[i] == numQuestao) {
                                return false;
                            }
                        }

                        this.banco.push(numQuestao);

                        return true;
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {cor: "white", resposta: "branco", resposta1: "Branco", resposta2: "BRANCO", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "green", resposta: "verde", resposta1: "Verde", resposta2: "VERDE", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "#0050FF", resposta: "azul", resposta1: "Azul", resposta2: "AZUL", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "red", resposta: "vermelho", resposta1: "Vermelho", resposta2: "VERMELHO", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "black", resposta: "preto", resposta1: "Preto", resposta2: "PRETO", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "gray", resposta: "cinza", resposta1: "Cinza", resposta2: "CINZA", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "#FF6400", resposta: "laranja", resposta1: "Laranja", resposta2: "LARANJA", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "#4B00B2", resposta: "roxo", resposta1: "Roxo", resposta2: "ROXO", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "yellow", resposta: "amarelo", resposta1: "Amarelo", resposta2: "AMARELO", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "#964B00", resposta: "marrom", resposta1: "Marrom", resposta2: "MARROM", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "cyan", resposta: "ciano", resposta1: "Ciano", resposta2: "CIANO", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "#FFE4C4", resposta: "bege", resposta1: "Bege", resposta2: "BEGE", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "rgb(177, 156, 217)", resposta: "lilás", resposta1: "Lilás", resposta2: "LILÁS", resposta3: "lilas", resposta4: "Lilas", resposta5: "LILAS", resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "#9400D3", resposta: "violeta", resposta1: "Violeta", resposta2: "VIOLETA", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "rgb(0, 0, 127)", resposta: "azul escuro", resposta1: "Azul escuro", resposta2: "azul Escuro", resposta3: "Azul Escuro", resposta4: "AZUL escuro", resposta5: "azul ESCURO", resposta6: "AZUL ESCURO", resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "rgb(184, 134, 11)", resposta: "dourado", resposta1: "Dourado", resposta2: "DOURADO", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "#33FF33", resposta: "verde claro", resposta1: "Verde claro", resposta2: "verde Claro", resposta3: "Verde Claro", resposta4: "VERDE claro", resposta5: "verde CLARO", resposta6: "VERDE CLARO", resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "#FF0084", resposta: "rosa", resposta1: "Rosa", resposta2: "ROSA", resposta3: null, resposta4: null, resposta5: null, resposta6: null, resposta7: null, resposta8: null, resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "#87CEFA", resposta: "azul claro", resposta1: "Azul claro", resposta2: "azul Claro", resposta3: "Azul Claro", resposta4: "AZUL claro", resposta5: "azul CLARO", resposta6: "AZUL CLARO", resposta7: "AZUL Claro", resposta8: "Azul CLARO", resposta9: null, resposta10: null, resposta11: null, resposta12: null},
                            {cor: "#03BB85", resposta: "verde água", resposta1: "Verde água", resposta2: "verde Água", resposta3: "VERDE água", resposta4: "verde ÁGUA", resposta5: "VERDE ÁGUA", resposta6: "verde agua", resposta7: "Verde agua", resposta8: "verde Agua", resposta9: "Verde Agua", resposta10: "VERDE agua", resposta11: "verde AGUA", resposta12: "VERDE AGUA"},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = this.banco[this.numQuestao].cor;
                            ctx.fillRect(this.x - 150, this.y - 150, 300, 300);

                            if (this.numQuestao == 4) {
                                ctx.strokeStyle = "white";
                                ctx.lineWidth = 3;
                            }

                            else {
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 5;
                            }
                            
                            ctx.strokeRect(this.x - 150, this.y - 150, 300, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;

                                telas.jogo.capitulo1.fase1.principal.verificaQuestao(this.numQuestao);
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            if (this.resposta.length > 0) {
                                this.resposta = this.resposta.toLocaleLowerCase();
                            }

                            ctx.lineWidth = 5;
                            ctx.strokeStyle = "black";
                            
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 + 400, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(127, 127, 127, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }

                            else {
                                this.barra.desenha(this.resposta);
                            }
                        },

                        inputs(letra) {
                            if (letra == "Enter") {
                                telas.jogo.capitulo1.fase1.principal.enter = true;
                                telas.jogo.capitulo1.fase1.principal.icon.onload = true;

                                if (this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta1 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta2 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta3 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta4 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta5 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta6 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta7 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta8 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta9 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta10 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta11 ||
                                    this.resposta == telas.jogo.capitulo1.fase1.principal.questao.banco[telas.jogo.capitulo1.fase1.principal.questao.numQuestao].resposta12) {
                                    telas.jogo.capitulo1.fase1.points ++;
                                    telas.jogo.capitulo1.fase1.principal.icon.acerto = true;
                                }

                                else {
                                    telas.jogo.capitulo1.fase1.principal.icon.acerto = false;
                                }

                                if (telas.jogo.capitulo1.fase1.principal.questao.quantQuestoes < 10) {
                                    do {
                                        telas.jogo.capitulo1.fase1.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo1.fase1.principal.questao.banco.length);
                                    } while(!telas.jogo.capitulo1.fase1.principal.verificaQuestao(telas.jogo.capitulo1.fase1.principal.questao.numQuestao));

                                    telas.jogo.capitulo1.fase1.principal.questao.quantQuestoes ++;
                                }
                                
                                else {
                                    telas.jogo.capitulo1.fase1.parte = 3;
                                }

                                this.resposta = "";
                                telas.jogo.capitulo1.fase1.principal.temporizador.texto = 10;
                                telas.jogo.capitulo1.fase1.principal.temporizador.counter = 0;
                            }

                            else if (letra == "Backspace") {
                                this.resposta = this.resposta.substring(0, this.resposta.length - 1);
                            }

                            else {
                                if (this.resposta.length < 12) {
                                    this.resposta += letra;
                                }
                                
                                else {
                                    alert("Número máximo de caracteres excedido!");
                                }
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                            
                        },

                        barra: {
                            alpha: 1,
                            counter: 0,

                            desenha(string) {
                                ctx.strokeStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                                ctx.lineWidth = 3;

                                ctx.beginPath();
                                ctx.moveTo(canvas.width / 2 + this.verificaLarg(string), canvas.height / 2 + 102.5);
                                ctx.lineTo(canvas.width / 2 + this.verificaLarg(string), canvas.height / 2 + 152.5);
                                ctx.stroke();
                                ctx.closePath();

                                this.atualiza();
                            },

                            atualiza() {
                                this.counter ++;

                                if (this.counter < 30) {
                                    this.alpha = 0;
                                }

                                else if (this.counter < 60) {
                                    this.alpha = 1;
                                }

                                else {
                                    this.counter = 0;
                                }
                            },

                            verificaLarg(string) {
                                let larg = 0;

                                for (let i = 0; i < string.length; i++) {
                                    switch(string.substring(i, i + 1)) {
                                        case "a": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "b": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "c": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "d": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "e": {
                                            larg += 22;
                                            break;
                                        }

                                        case "f": {
                                            larg += 22;
                                            break;
                                        }

                                        case "g": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "h": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "i": {
                                            larg += 13;
                                            break;
                                        }

                                        case "j": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "k": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "l": {
                                            larg += 22;
                                            break;
                                        }

                                        case "m": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "n": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "o": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "p": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "q": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "r": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "s": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "t": {
                                            larg += 22;
                                            break;
                                        }

                                        case "u": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "v": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "w": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "x": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "y": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "z": {
                                            larg += 22;
                                            break;
                                        }

                                        case " ": {
                                            larg += 18;
                                            break;
                                        }

                                        case "1": {
                                            larg += 22;
                                            break;
                                        }

                                        default: {
                                            larg += 26.5;
                                            break;
                                        }
                                    }
                                }

                                return larg;
                            },
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeStyle = "white";
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "55px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 67);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    if (telas.jogo.capitulo1.fase1.principal.questao.quantQuestoes < 10) {
                                        do {
                                            telas.jogo.capitulo1.fase1.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo1.fase1.principal.questao.banco.length);
                                        }while (!telas.jogo.capitulo1.fase1.principal.verificaQuestao(telas.jogo.capitulo1.fase1.principal.questao.numQuestao));
                                        telas.jogo.capitulo1.fase1.principal.questao.quantQuestoes ++;
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo1.fase1.parte = 3;
                                    }

                                    telas.jogo.capitulo1.fase1.principal.icon.onload = true;
                                    telas.jogo.capitulo1.fase1.principal.enter = true;
                                    telas.jogo.capitulo1.fase1.principal.icon.acerto = false;

                                    telas.jogo.capitulo1.fase1.principal.solucao.resposta = "";
                                    this.texto = 10;
                                }

                                this.counter = 0;
                            }
                        },
                    },

                    icon: {
                        s: new Image(),
                        x: 1000,
                        y: 250,
                        alpha: 1,
                        counter: 0,
                        acerto: null,
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.globalAlpha = this.alpha;

                            ctx.drawImage(
                                this.s,
                                0, 0,
                                512, 512,
                                this.x, this.y,
                                128, 128
                            )

                            ctx.globalAlpha = 1;
                        },

                        atualiza() {
                            if (this.onload) {
                                if (this.acerto) {
                                    this.s.src = "./sprites/jogo/icons/accept.png";
                                }

                                else {
                                    this.s.src = "./sprites/jogo/icons/decline.png";
                                }

                                this.y = 250;
                                this.alpha = 1;
                                this.counter = 0;
                                this.onload = false;
                            }

                            this.y -= 3;
                            this.counter ++;

                            if (this.counter > 20) {
                                if (this.alpha > 0.05) {
                                    this.alpha -= 0.05;
                                }

                                else {
                                    telas.jogo.capitulo1.fase1.principal.enter = false;
                                }
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo1.fase1.allowBotoes) {
                            if (telas.jogo.capitulo1.fase1.points >= 7 || banco.capitulo1.fase1_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo1.fase1_pass = true;
                                    this.onload = false;
                                    telas.lobby.capitulos[0].fase_2 = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        onload: true,
                        spr: new Image(),

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);

                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },
                        
                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo1.fase1.points >= 7 || banco.capitulo1.fase1_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo1.fase1.points >= 7 || banco.capitulo1.fase1_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo1.fase1.points >= 7 || banco.capitulo1.fase1_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo1.fase1.points >= 7 || banco.capitulo1.fase1_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo1.fase1.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo1.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo1.fase1.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo1.fase1.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo1.fase1.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo1.fase1.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo1.fase1.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo1.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo1.fase1.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase2: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;
                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.principal.solucao.alters.forEach(item => {
                        item.hover = false;
                    })

                    this.final.aprovado = false;
                    this.final.stars.disparaCounter = true;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.play.hover = false;

                    this.principal.click = false;
                    this.principal.banco = [];
                },

                tutorial: {
                    parte: 1,
                    alpha: 1,
                    counter: 0,
                    img: new Image(),
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);

                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "black";
                            ctx.fillText("Escolha a cor mais", canvas.width / 2 + 5, canvas.height / 2 + 5 - 20);
                            ctx.fillText("predominate no quadrado", canvas.width / 2 + 5, canvas.height / 2 + 85 + 5 - 20);
                            
                            ctx.fillStyle = "white";
                            ctx.fillText("Escolha a cor mais", canvas.width / 2, canvas.height / 2 - 20);
                            ctx.fillText("predominate no quadrado", canvas.width / 2, canvas.height / 2 + 85 - 20);

                            ctx.lineWidth = 6;

                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 320 + 5, canvas.height / 2 + 5);
                            ctx.lineTo(canvas.width / 2 + 320 + 5, canvas.height / 2 + 5);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 420 + 5, canvas.height / 2 + 70 + 10 + 5);
                            ctx.lineTo(canvas.width / 2 + 420 + 5, canvas.height / 2 + 70 + 10 + 5);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.strokeStyle = "white";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 320, canvas.height / 2);
                            ctx.lineTo(canvas.width / 2 + 320, canvas.height / 2);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 420, canvas.height / 2 + 70 + 10);
                            ctx.lineTo(canvas.width / 2 + 420, canvas.height / 2 + 70 + 10);
                            ctx.stroke();
                            ctx.closePath();

                            
                            ctx.globalAlpha = this.alpha;

                            ctx.lineWidth = 5;
                            ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                            ctx.strokeStyle = "black";
                            ctx.fillRect(canvas.width - 110, canvas.height - 110, 84, 84);
                            ctx.strokeRect(canvas.width - 110, canvas.height - 110, 84, 84);

                            ctx.drawImage(
                                this.img,
                                0, 0,
                                512, 512,
                                canvas.width - 100, canvas.height - 100,
                                64, 64
                            )
                            
                            ctx.globalAlpha = 1;
                        }

                        else {
                            telas.jogo.capitulo1.fase2.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        if (this.onload) {
                            this.img.src = "./sprites/jogo/icons/enter.png";
                            this.onload = false;
                        }

                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 2",
                        descricao: '"Contando" as cores',

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo1.fase2.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    banco: [],
                    click: false,

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();

                        if (this.click) {
                            this.icon.desenha();
                        }
                    },

                    verificaQuestao(numQuestao) {
                        for (let i = 0; i < this.banco.length; i++) {
                            if (this.banco[i] == numQuestao) {
                                return false;
                            }
                        }

                        this.banco.push(numQuestao);

                        return true;
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        spr: new Image(),

                        banco: [
                            {alter1: "#9C9C9C", alter2: "#0000FF", alter3: "#00FF00", alter4: "#FF0000", resposta: 1},
                            {alter1: "#FBFF02", alter2: "#0000FF", alter3: "#FB02BC", alter4: "#FF0000", resposta: 4},
                            {alter1: "#00F4FF", alter2: "#000000", alter3: "#FBFF02", alter4: "#FF0000", resposta: 3},
                            {alter1: "#00F4FF", alter2: "#00FF00", alter3: "#FF0000", alter4: "#ECFF00", resposta: 1},
                            {alter1: "#AFFF00", alter2: "#FF5B00", alter3: "#00FF7A", alter4: "#FF00BE", resposta: 2},
                            {alter1: "#FF4500", alter2: "#BE00FF", alter3: "#7C7C7C", alter4: "#592715", resposta: 4},
                            {alter1: "#7C7C7C", alter2: "#FBFF02", alter3: "#02CEFF", alter4: "#06191D", resposta: 4},
                            {alter1: "#70B390", alter2: "#3B575E", alter3: "#1A673A", alter4: "#568A12", resposta: 1},
                            {alter1: "#90F529", alter2: "#FF0000", alter3: "#044F28", alter4: "#490B79", resposta: 3},
                            {alter1: "#B84343", alter2: "#26D9DB", alter3: "#DB26BE", alter4: "#2626DB", resposta: 3},
                            {alter1: "#7C7C7C", alter2: "#641D1D", alter3: "#DB26BE", alter4: "#7CB223", resposta: 2},
                            {alter1: "#4D2CC8", alter2: "#11F663", alter3: "#14685F", alter4: "#C9DEA7", resposta: 4},
                            {alter1: "#54FF00", alter2: "#DB26BE", alter3: "#236B50", alter4: "#4D2CC8", resposta: 2},
                            {alter1: "#C57033", alter2: "#64651F", alter3: "#C53333", alter4: "#FBFF00", resposta: 1},
                            {alter1: "#B7B7B7", alter2: "#33537F", alter3: "#697F33", alter4: "#500606", resposta: 3},
                            {alter1: "#54AA2F", alter2: "#5CC5A4", alter3: "#D814B8", alter4: "#7B178E", resposta: 2},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2 - 150,
                        y: canvas.height / 2 - 100 - 150,
                        largura: 200,
                        largura1: 300,

                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                this.largura, this.largura,
                                this.x, this.y,
                                this.largura1, this.largura1
                            )

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(this.x, this.y, this.largura1, this.largura1);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                telas.jogo.capitulo1.fase2.principal.verificaQuestao(this.numQuestao);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }

                            this.spr.src = "./sprites/jogo/capitulo1/fase2/problema" + this.numQuestao + ".png";
                        },
                    },

                    solucao: {
                        desenha() {
                            for (let i = 0; i < this.alters.length; i++) {
                                this.alters[i].desenha();
                            }
                        },

                        click(alternativa) {
                            if (alternativa == telas.jogo.capitulo1.fase2.principal.questao.banco[telas.jogo.capitulo1.fase2.principal.questao.numQuestao].resposta) {
                                telas.jogo.capitulo1.fase2.points ++;
                                telas.jogo.capitulo1.fase2.principal.icon.acerto = true;
                            }

                            else {
                                telas.jogo.capitulo1.fase2.principal.icon.acerto = false;
                            }

                            if (telas.jogo.capitulo1.fase2.principal.questao.quantQuestoes < 10) {
                                telas.jogo.capitulo1.fase2.principal.questao.quantQuestoes ++;

                                do {
                                    telas.jogo.capitulo1.fase2.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo1.fase2.principal.questao.banco.length);
                                } while(!telas.jogo.capitulo1.fase2.principal.verificaQuestao(telas.jogo.capitulo1.fase2.principal.questao.numQuestao))

                                telas.jogo.capitulo1.fase2.principal.temporizador.counter = 0;
                                telas.jogo.capitulo1.fase2.principal.temporizador.texto = 10;
                            }
                            
                            else {
                                telas.jogo.capitulo1.fase2.parte ++;
                            }

                            telas.jogo.capitulo1.fase2.principal.click = true;
                            telas.jogo.capitulo1.fase2.principal.icon.onload = true;
                        },

                        alters: [
                            {
                                x: canvas.width / 2 - 100 - 15 - 100,
                                y: canvas.height / 2 + 100 + 50,
                                larg: 100,
                                alt: 100,

                                hover: false,

                                desenha() {
                                    ctx.fillStyle = telas.jogo.capitulo1.fase2.principal.questao.banco[telas.jogo.capitulo1.fase2.principal.questao.numQuestao].alter1;
                                    ctx.fillRect(this.x, this.y, this.larg, this.alt);

                                    if (this.hover) {
                                        ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                                        ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    }

                                    ctx.strokeStyle = "black";
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                }
                            },

                            {
                                x: canvas.width / 2 - 5 - 100,
                                y: canvas.height / 2 + 100 + 50,
                                larg: 100,
                                alt: 100,

                                hover: false,

                                desenha() {
                                    ctx.fillStyle = telas.jogo.capitulo1.fase2.principal.questao.banco[telas.jogo.capitulo1.fase2.principal.questao.numQuestao].alter2;
                                    ctx.fillRect(this.x, this.y, this.larg, this.alt);

                                    if (this.hover) {
                                        ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                                        ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    }

                                    ctx.strokeStyle = "black";
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                }
                            },

                            {
                                x: canvas.width / 2 + 5,
                                y: canvas.height / 2 + 100 + 50,
                                larg: 100,
                                alt: 100,

                                hover: false,

                                desenha() {
                                    ctx.fillStyle = telas.jogo.capitulo1.fase2.principal.questao.banco[telas.jogo.capitulo1.fase2.principal.questao.numQuestao].alter3;
                                    ctx.fillRect(this.x, this.y, this.larg, this.alt);

                                    if (this.hover) {
                                        ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                                        ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    }

                                    ctx.strokeStyle = "black";
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                }
                            },

                            {
                                x: canvas.width / 2 + 15 + 100,
                                y: canvas.height / 2 + 100 + 50,
                                larg: 100,
                                alt: 100,

                                hover: false,

                                desenha() {
                                    ctx.fillStyle = telas.jogo.capitulo1.fase2.principal.questao.banco[telas.jogo.capitulo1.fase2.principal.questao.numQuestao].alter4;
                                    ctx.fillRect(this.x, this.y, this.larg, this.alt);

                                    if (this.hover) {
                                        ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                                        ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    }

                                    ctx.strokeStyle = "black";
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                }
                            },
                        ]
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "white";                  
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 10;
                                    telas.jogo.capitulo1.fase2.principal.solucao.click(null);
                                }

                                this.counter = 0;
                            }
                        },
                    },

                    icon: {
                        s: new Image(),
                        x: 1000,
                        y: 250,
                        alpha: 1,
                        counter: 0,
                        acerto: null,
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.globalAlpha = this.alpha;

                            ctx.drawImage(
                                this.s,
                                0, 0,
                                512, 512,
                                this.x, this.y,
                                128, 128
                            )

                            ctx.globalAlpha = 1;
                        },

                        atualiza() {
                            if (this.onload) {
                                if (this.acerto) {
                                    this.s.src = "./sprites/jogo/icons/accept.png";
                                }

                                else {
                                    this.s.src = "./sprites/jogo/icons/decline.png";
                                }

                                this.y = 250;
                                this.alpha = 1;
                                this.counter = 0;
                                this.onload = false;
                            }

                            this.y -= 3;
                            this.counter ++;

                            if (this.counter > 20) {
                                if (this.alpha > 0.05) {
                                    this.alpha -= 0.05;
                                }

                                else {
                                    telas.jogo.capitulo1.fase2.principal.click = false;
                                }
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo1.fase2.allowBotoes) {
                            if (telas.jogo.capitulo1.fase2.points >= 7 || banco.capitulo1.fase2_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo1.fase2_pass = true;
                                    this.onload = false;
                                    telas.lobby.capitulos[0].fase_3 = false;
                                }
                            }
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);

                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo1.fase2.points >= 7 || banco.capitulo1.fase2_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo1.fase2.points >= 7 || banco.capitulo1.fase2_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo1.fase2.points >= 7 || banco.capitulo1.fase2_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo1.fase2.points >= 7 || banco.capitulo1.fase2_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo1.fase2.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo1.fase2.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo1.fase2.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo1.fase2.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo1.fase2.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo1.fase2.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo1.fase2.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo1.fase2.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo1.fase2.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase3: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;
                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.final.aprovado = false;
                    this.final.stars.disparaCounter = true;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.play.hover = false;
                    this.final.botoes.exit.hover = false;
                    this.final.botoes.retry.hover = false;

                    this.principal.banco = [];
                    this.principal.click = false;
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,
                    onload: true,
                    img: new Image(),

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);

                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "black";
                            ctx.fillText("Escolha as cores que juntas", canvas.width / 2 + 5, canvas.height / 2 + 5);
                            ctx.fillText("formam a cor em destaque", canvas.width / 2 + 5, canvas.height / 2 + 65 + 5);
                            
                            ctx.fillStyle = "white";
                            ctx.fillText("Escolha as cores que juntas", canvas.width / 2, canvas.height / 2);
                            ctx.fillText("formam a cor em destaque", canvas.width / 2, canvas.height / 2 + 65);

                            ctx.lineWidth = 5;

                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 480 + 5, canvas.height / 2 + 10 + 5);
                            ctx.lineTo(canvas.width / 2 - 480 + 960 + 5, canvas.height / 2 + 10 + 5);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 440 + 5, canvas.height / 2 + 65 + 10 + 5);
                            ctx.lineTo(canvas.width / 2 - 440 + 880 + 5, canvas.height / 2 + 65 + 10 + 5);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.strokeStyle = "white";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 480, canvas.height / 2 + 10);
                            ctx.lineTo(canvas.width / 2 - 480 + 960, canvas.height / 2 + 10);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 440, canvas.height / 2 + 65 + 10);
                            ctx.lineTo(canvas.width / 2 - 440 + 880, canvas.height / 2 + 65 + 10);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.globalAlpha = this.alpha;

                            ctx.lineWidth = 5;
                            ctx.fillStyle = "rgba(255, 255, 255, 0.3)";
                            ctx.strokeStyle = "black";
                            ctx.fillRect(canvas.width - 110, canvas.height - 110, 84, 84);
                            ctx.strokeRect(canvas.width - 110, canvas.height - 110, 84, 84);

                            ctx.drawImage(
                                this.img,
                                0, 0,
                                512, 512,
                                canvas.width - 100, canvas.height - 100,
                                64, 64
                            )
                            
                            ctx.globalAlpha = 1;
                        }

                        else {
                            telas.jogo.capitulo1.fase3.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        if (this.onload) {
                            this.img.src = "./sprites/jogo/icons/enter.png";
                            this.onload = false;
                        }

                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 3",
                        descricao: 'De que são compostas?',

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo1.fase3.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    banco: [],
                    click: false,

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();

                        if (this.click) {
                            this.icon.desenha();
                        }
                    },

                    verificaQuestao(numQuestao) {
                        for (let i = 0; i < this.banco.length; i++) {
                            if (this.banco[i] == numQuestao) {
                                return false;
                            }
                        }

                        this.banco.push(numQuestao);

                        return true;
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {cor: "orange", alter1: {cor1: "red", cor2: "yellow"}, alter2: {cor1: "green", cor2: "blue"}, alter3: {cor1: "white", cor2: "black"}, alter4: {cor1: "red", cor2: "blue"}, resposta: 1},
                            {cor: "purple", alter1: {cor1: "green", cor2: "blue"}, alter2: {cor1: "black", cor2: "white"}, alter3: {cor1: "blue", cor2: "red"}, alter4: {cor1: "yellow", cor2: "orange"}, resposta: 3},
                            {cor: "green", alter1: {cor1: "blue", cor2: "red"}, alter2: {cor1: "blue", cor2: "yellow"}, alter3: {cor1: "black", cor2: "yellow"}, alter4: {cor1: "white", cor2: "red"}, resposta: 2},
                            {cor: "yellow", alter1: {cor1: "gray", cor2: "orange"}, alter2: {cor1: "white", cor2: "blue"}, alter3: {cor1: "red", cor2: "purple"}, alter4: {cor1: "blue", cor2: "green"}, resposta: 4},
                            {cor: "gray", alter1: {cor1: "black", cor2: "purple"}, alter2: {cor1: "black", cor2: "white"}, alter3: {cor1: "white", cor2: "red"}, alter4: {cor1: "yellow", cor2: "red"}, resposta: 2},
                            {cor: "cyan", alter1: {cor1: "blue", cor2: "orange"}, alter2: {cor1: "green", cor2: "white"}, alter3: {cor1: "green", cor2: "blue"}, alter4: {cor1: "pink", cor2: "blue"}, resposta: 3},
                            {cor: "pink", alter1: {cor1: "red", cor2: "white"}, alter2: {cor1: "orange", cor2: "white"}, alter3: {cor1: "black", cor2: "yellow"}, alter4: {cor1: "red", cor2: "gray"}, resposta: 1},
                            {cor: "brown", alter1: {cor1: "white", cor2: "black"}, alter2: {cor1: "red", cor2: "green"}, alter3: {cor1: "purple", cor2: "black"}, alter4: {cor1: "orange", cor2: "white"}, resposta: 2},
                            {cor: "#C8A2C8", alter1: {cor1: "blue", cor2: "orange"}, alter2: {cor1: "white", cor2: "red"}, alter3: {cor1: "purple", cor2: "white"}, alter4: {cor1: "black", cor2: "pink"}, resposta: 3},
                            {cor: "#FE700C", alter1: {cor1: "#FD3A0A", cor2: "#FFA30D"}, alter2: {cor1: "brown", cor2: "orange"}, alter3: {cor1: "black", cor2: "red"}, alter4: {cor1: "red", cor2: "yellow"}, resposta: 1},
                            {cor: "#0FA90C", alter1: {cor1: "green", cor2: "white"}, alter2: {cor1: "#058A0C", cor2: "#FAF613"}, alter3: {cor1: "red", cor2: "yellow"}, alter4: {cor1: "blue", cor2: "yellow"}, resposta: 2},
                            {cor: "#8B30D0", alter1: {cor1: "green", cor2: "white"}, alter2: {cor1: "purple", cor2: "yellow"}, alter3: {cor1: "red", cor2: "blue"}, alter4: {cor1: "#024ED5", cor2: "#8C2187"}, resposta: 4},
                            {cor: "#D92470", alter1: {cor1: "red", cor2: "white"}, alter2: {cor1: "#A4279C", cor2: "#F03809"}, alter3: {cor1: "pink", cor2: "blue"}, alter4: {cor1: "red", cor2: "brown"}, resposta: 2},
                            {cor: "#FED914", alter1: {cor1: "yellow", cor2: "white"}, alter2: {cor1: "yellow", cor2: "purple"}, alter3: {cor1: "blue", cor2: "green"}, alter4: {cor1: "#FFA30D", cor2: "#F1ED12"}, resposta: 4},
                            {cor: "#007C78", alter1: {cor1: "blue", cor2: "green"}, alter2: {cor1: "white", cor2: "blue"}, alter3: {cor1: "#017B37", cor2: "#025BCF"}, alter4: {cor1: "black", cor2: "blue"}, resposta: 3}
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,

                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = this.banco[this.numQuestao].cor;
                            ctx.fillRect(canvas.width / 2 - 150, canvas.height / 2 - 75 - 150, 300, 300);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(canvas.width / 2 - 150, canvas.height / 2 - 75 - 150, 300, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;

                                telas.jogo.capitulo1.fase3.principal.verificaQuestao(this.numQuestao);
                            }
                        },
                    },

                    solucao: {
                        desenha() {
                            for (let i = 0; i < this.alters.length; i++) {
                                this.alters[i].desenha();
                            }
                        },

                        click(alternativa) {
                            if (alternativa == telas.jogo.capitulo1.fase3.principal.questao.banco[telas.jogo.capitulo1.fase3.principal.questao.numQuestao].resposta) {
                                telas.jogo.capitulo1.fase3.points ++;
                                telas.jogo.capitulo1.fase3.principal.icon.acerto = true;
                            }

                            else {
                                telas.jogo.capitulo1.fase3.principal.icon.acerto = false;
                            }

                            if (telas.jogo.capitulo1.fase3.principal.questao.quantQuestoes < 10) {
                                do {
                                    telas.jogo.capitulo1.fase3.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo1.fase3.principal.questao.banco.length);
                                } while(!telas.jogo.capitulo1.fase3.principal.verificaQuestao(telas.jogo.capitulo1.fase3.principal.questao.numQuestao));

                                telas.jogo.capitulo1.fase3.principal.temporizador.counter = 0;
                                telas.jogo.capitulo1.fase3.principal.temporizador.texto = 10;
                                telas.jogo.capitulo1.fase3.principal.questao.quantQuestoes ++;
                            }
                            
                            else {
                                telas.jogo.capitulo1.fase3.parte ++;
                            }

                            telas.jogo.capitulo1.fase3.principal.click = true;
                            telas.jogo.capitulo1.fase3.principal.icon.onload = true;
                        },

                        alters: [
                            {
                                x: canvas.width / 2 - 100 - 5 - 10 - 100,
                                y: canvas.height / 2 + 100 + 50,
                                larg: 100,
                                alt: 100,

                                hover: false,

                                desenha() {
                                    ctx.fillStyle = telas.jogo.capitulo1.fase3.principal.questao.banco[telas.jogo.capitulo1.fase3.principal.questao.numQuestao].alter1.cor1;
                                    ctx.fillRect(this.x, this.y, this.larg, this.alt / 2);

                                    ctx.fillStyle = telas.jogo.capitulo1.fase3.principal.questao.banco[telas.jogo.capitulo1.fase3.principal.questao.numQuestao].alter1.cor2;
                                    ctx.fillRect(this.x, this.y + this.alt / 2, this.larg, this.alt / 2);

                                    if (this.hover) {
                                        ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                                        ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    }

                                    ctx.strokeStyle = "black";
                                    ctx.lineWidth = 3;
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                }
                            },

                            {
                                x: canvas.width / 2 - 100 - 5,
                                y: canvas.height / 2 + 100 + 50,
                                larg: 100,
                                alt: 100,

                                hover: false,

                                desenha() {
                                    ctx.fillStyle = telas.jogo.capitulo1.fase3.principal.questao.banco[telas.jogo.capitulo1.fase3.principal.questao.numQuestao].alter2.cor1;
                                    ctx.fillRect(this.x, this.y, this.larg, this.alt / 2);

                                    ctx.fillStyle = telas.jogo.capitulo1.fase3.principal.questao.banco[telas.jogo.capitulo1.fase3.principal.questao.numQuestao].alter2.cor2;
                                    ctx.fillRect(this.x, this.y + this.alt / 2, this.larg, this.alt / 2);

                                    if (this.hover) {
                                        ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                                        ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    }

                                    ctx.strokeStyle = "black";
                                    ctx.lineWidth = 3;
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                }
                            },

                            {
                                x: canvas.width / 2 + 5,
                                y: canvas.height / 2 + 100 + 50,
                                larg: 100,
                                alt: 100,

                                hover: false,

                                desenha() {
                                    ctx.fillStyle = telas.jogo.capitulo1.fase3.principal.questao.banco[telas.jogo.capitulo1.fase3.principal.questao.numQuestao].alter3.cor1;
                                    ctx.fillRect(this.x, this.y, this.larg, this.alt / 2);

                                    ctx.fillStyle = telas.jogo.capitulo1.fase3.principal.questao.banco[telas.jogo.capitulo1.fase3.principal.questao.numQuestao].alter3.cor2;
                                    ctx.fillRect(this.x, this.y + this.alt / 2, this.larg, this.alt / 2);

                                    if (this.hover) {
                                        ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                                        ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    }

                                    ctx.strokeStyle = "black";
                                    ctx.lineWidth = 3;
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                }
                            },

                            {
                                x: canvas.width / 2 + 5 + 10 + 100,
                                y: canvas.height / 2 + 100 + 50,
                                larg: 100,
                                alt: 100,

                                hover: false,

                                desenha() {
                                    ctx.fillStyle = telas.jogo.capitulo1.fase3.principal.questao.banco[telas.jogo.capitulo1.fase3.principal.questao.numQuestao].alter4.cor1;
                                    ctx.fillRect(this.x, this.y, this.larg, this.alt / 2);

                                    ctx.fillStyle = telas.jogo.capitulo1.fase3.principal.questao.banco[telas.jogo.capitulo1.fase3.principal.questao.numQuestao].alter4.cor2;
                                    ctx.fillRect(this.x, this.y + this.alt / 2, this.larg, this.alt / 2);

                                    if (this.hover) {
                                        ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                                        ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    }

                                    ctx.strokeStyle = "black";
                                    ctx.lineWidth = 3;
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                }
                            }
                        ]
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "white";
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 10;
                                    
                                    telas.jogo.capitulo1.fase3.principal.solucao.click(null);
                                }

                                this.counter = 0;
                            }
                        },
                    },

                    icon: {
                        s: new Image(),
                        x: 1000,
                        y: 250,
                        alpha: 1,
                        counter: 0,
                        acerto: null,
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.globalAlpha = this.alpha;

                            ctx.drawImage(
                                this.s,
                                0, 0,
                                512, 512,
                                this.x, this.y,
                                128, 128
                            )

                            ctx.globalAlpha = 1;
                        },

                        atualiza() {
                            if (this.onload) {
                                if (this.acerto) {
                                    this.s.src = "./sprites/jogo/icons/accept.png";
                                }

                                else {
                                    this.s.src = "./sprites/jogo/icons/decline.png";
                                }

                                this.y = 250;
                                this.alpha = 1;
                                this.counter = 0;
                                this.onload = false;
                            }

                            this.y -= 3;
                            this.counter ++;

                            if (this.counter > 20) {
                                if (this.alpha > 0.05) {
                                    this.alpha -= 0.05;
                                }

                                else {
                                    telas.jogo.capitulo1.fase3.principal.click = false;
                                }
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo1.fase3.allowBotoes) {
                            if (telas.jogo.capitulo1.fase3.points >= 7 || banco.capitulo1.fase3_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo1.fase3_pass = true;
                                    this.onload = false;
                                    telas.lobby.capitulos[0].fase_4 = false;
                                }
                            }

                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);

                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo1.fase3.points >= 7 || banco.capitulo1.fase3_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo1.fase3.points >= 7 || banco.capitulo1.fase3_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo1.fase3.points >= 7 || banco.capitulo1.fase3_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo1.fase3.points >= 7 || banco.capitulo1.fase3_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo1.fase3.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo1.fase3.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo1.fase3.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo1.fase3.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo1.fase3.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo1.fase3.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo1.fase3.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo1.fase3.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo1.fase3.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase4: {
                points: 0,
                parte: 1,
                tutorialAllow: true,
                allowClick: false,
                allowBotoes: false,
    
                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },
    
                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantProblemas = 0;
                    this.principal.questao.onload = true;
                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 5;

                    this.final.aprovado = false;
                    this.final.stars.disparaCounter = true;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
    
                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.exit.hover = false;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.principal.click = false;
                    this.principal.banco = [];

                    this.principal.solucao.hover1 = false;
                    this.principal.solucao.hover2 = false;
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 4",
                        descricao: 'Qual a cor correta?',

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo1.fase4.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                tutorial: {
                    parte: 1,
                    alpha: 1,
                    counter: 0,
                    img: new Image(),
                    onload: true,

                    desenha() {
                        this.atualiza();

                        if (this.parte == 2) {
                            telas.jogo.capitulo1.fase4.tutorialAllow = false;
                        }

                        this.background.desenha();

                        ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                        ctx.fillRect(0, 0, canvas.width, canvas.height);

                        ctx.font = "50px 'Silkscreen'";
                        ctx.textAlign = "center";
                        ctx.fillStyle = "black";
                        ctx.fillText("Escolha a cor", canvas.width / 2 + 5, canvas.height / 2 + 5);
                        ctx.fillText("correspondente a cor do texto", canvas.width / 2 + 5, canvas.height / 2 + 65 + 5);
                        
                        ctx.fillStyle = "white";
                        ctx.fillText("Escolha a cor", canvas.width / 2, canvas.height / 2);
                        ctx.fillText("correspondente a cor do texto", canvas.width / 2, canvas.height / 2 + 65);

                        ctx.lineWidth = 5;

                        ctx.strokeStyle = "black";
                        ctx.beginPath();
                        ctx.moveTo(canvas.width / 2 + 5 - 230, canvas.height / 2 + 5 + 10);
                        ctx.lineTo(canvas.width / 2 + 5 + 230, canvas.height / 2 + 5 + 10);
                        ctx.stroke();
                        ctx.closePath();

                        ctx.beginPath();
                        ctx.moveTo(canvas.width / 2 + 5 - 520, canvas.height / 2 + 5 + 65 + 10);
                        ctx.lineTo(canvas.width / 2 + 5 + 520, canvas.height / 2 + 5 + 65 + 10);
                        ctx.stroke();
                        ctx.closePath();

                        ctx.strokeStyle = "white";
                        ctx.beginPath();
                        ctx.moveTo(canvas.width / 2 - 230, canvas.height / 2 + 10);
                        ctx.lineTo(canvas.width / 2 + 230, canvas.height / 2 + 10);
                        ctx.stroke();
                        ctx.closePath();

                        ctx.beginPath();
                        ctx.moveTo(canvas.width / 2 - 520, canvas.height / 2 + 65 + 10);
                        ctx.lineTo(canvas.width / 2 + 520, canvas.height / 2 + 65 + 10);
                        ctx.stroke();
                        ctx.closePath();

                        ctx.globalAlpha = this.alpha;

                        ctx.lineWidth = 5;
                        ctx.fillStyle = "rgba(255, 255, 255, 0.3)";
                        ctx.strokeStyle = "black";
                        ctx.fillRect(canvas.width - 110, canvas.height - 110, 84, 84);
                        ctx.strokeRect(canvas.width - 110, canvas.height - 110, 84, 84);

                        ctx.drawImage(
                            this.img,
                            0, 0,
                            512, 512,
                            canvas.width - 100, canvas.height - 100,
                            64, 64
                        )
                        
                        ctx.globalAlpha = 1;
                    },

                    atualiza() {
                        if (this.onload) {
                            this.img.src = "./sprites/jogo/icons/enter.png";
                            this.onload = false;
                        }

                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                principal: {
                    click: false,
                    banco: [],

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();

                        if (this.click) {
                            this.icon.desenha();
                        }
                    },

                    verificaQuestao(numQuestao) {
                        for (let i = 0; i < this.banco.length; i++) {
                            if (this.banco[i] == numQuestao) {
                                return false;
                            }
                        }

                        this.banco.push(numQuestao);

                        return true;
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {cor: "blue", text: "Amarelo", resposta: "esquerda"},
                            {cor: "red", text: "Verde", resposta: "esquerda"},
                            {cor: "white", text: "Cinza", resposta: "direita"},
                            {cor: "green", text: "Roxo", resposta: "esquerda"},
                            {cor: "black", text: "Azul", resposta: "direita"},
                            {cor: "purple", text: "Violeta", resposta: "direita"},
                            {cor: "yellow", text: "Laranja", resposta: "direita"},
                            {cor: "gray", text: "Marrom", resposta: "esquerda"},
                            {cor: "cyan", text: "Rosa", resposta: "esquerda"},
                            {cor: "pink", text: "Ciano", resposta: "direita"},
                            {cor: "brown", text: "Cinza", resposta: "esquerda"},
                            {cor: "orange", text: "Preto", resposta: "direita"},
                            {cor: "violet", text: "Branco", resposta: "direita"},
                            {cor: "green", text: "Laranja", resposta: "esquerda"},
                            {cor: "black", text: "Amarelo", resposta: "esquerda"},
                        ],
        
                        numProblema: 0,
                        quantProblemas: 0,
                        onload: true,
        
                        desenha() {
                            this.atualiza();

                            ctx.strokeStyle = this.banco[this.numProblema].cor;
                            ctx.fillStyle = "rgba(100, 100, 100, 0.8)";
                            ctx.lineWidth = 25;

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 350, 390 / 2 - 25);
                            ctx.lineTo(canvas.width / 2 - 350, 390 / 2 + 130);
                            ctx.lineTo(canvas.width / 2 + 350, 390 / 2 + 130);
                            ctx.lineTo(canvas.width / 2 + 350, 390 / 2 - 25);
                            ctx.lineTo(canvas.width / 2 - 350, 390 / 2 - 25);
                            ctx.closePath();

                            ctx.fill();
                            ctx.stroke();

                            if (this.banco[this.numProblema].cor == "black") {
                                ctx.strokeStyle = "white";
                            }

                            else {
                                ctx.strokeStyle = "black";
                            }

                            ctx.lineWidth = 2;
                            ctx.strokeRect(canvas.width / 2 - 350 - 12.5, 390 / 2 - 25 - 12.5, 700 + 25, 155 + 25);
                            ctx.strokeRect(canvas.width / 2 - 350 + 12.5, 390 / 2 - 25 + 12.5, 700 - 25, 155 - 25);

                            ctx.font = "120px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";

                            ctx.fillText(this.banco[this.numProblema].text, canvas.width / 2 + 5, 90 + 390 / 2 + 5);
                            
                            ctx.fillStyle = this.banco[this.numProblema].cor;
                            ctx.fillText(this.banco[this.numProblema].text, canvas.width / 2, 90 + 390 / 2);

                            if (this.banco[this.numProblema].cor != "black") {
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 2;
                            }
                            
                            else {
                                ctx.strokeStyle = "white";
                                ctx.lineWidth = 1;
                            }

                            ctx.strokeText(this.banco[this.numProblema].text, canvas.width / 2, 90 + 390 / 2);
                            
                            ctx.lineWidth = 6;

                            if (this.banco[this.numProblema].cor != "black") {
                                ctx.strokeStyle = "black";
                            }

                            else {
                                ctx.strokeStyle = "white";
                            }
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.numProblema = Math.floor(Math.random() * this.banco.length);
                                this.quantProblemas ++;
                                this.onload = false;
                                telas.jogo.capitulo1.fase4.principal.verificaQuestao(this.numProblema);
                            }
                        },
                    },

                    solucao: {
                        x: canvas.width / 2 - 50 - 10,
                        y: canvas.height / 2 + 200,
                        x1: canvas.width / 2 + 50 + 10,
                        y1: canvas.height / 2 + 200,
                        largura: 50,

                        hover1: false,
                        hover2: false,
        
                        desenha() {
                            if (telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].resposta == "esquerda") {
                                ctx.fillStyle = telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].cor;
                            }
        
                            else {
                                switch (telas.jogo.capitulo1.fase4.principal.questao.numProblema) {
                                    case 0: {
                                       ctx.fillStyle = "yellow";
                                       break;
                                    }
        
                                    case 1: {
                                        ctx.fillStyle = "green";
                                        break;
                                    }
        
                                    case 2: {
                                        ctx.fillStyle = "gray";
                                        break;
                                    }
        
                                    case 3: {
                                        ctx.fillStyle = "purple";
                                        break;
                                    }
        
                                    case 4: {
                                        ctx.fillStyle = "blue";
                                        break;
                                    }
        
                                    case 5: {
                                        ctx.fillStyle = "violet";
                                        break;
                                    }
        
                                    case 6: {
                                        ctx.fillStyle = "orange";
                                        break;
                                    }
        
                                    case 7: {
                                        ctx.fillStyle = "brown";
                                        break;
                                    }
        
                                    case 8: {
                                        ctx.fillStyle = "pink";
                                        break;
                                    }
        
                                    case 9: {
                                        ctx.fillStyle = "cyan";
                                        break;
                                    }
        
                                    case 10: {
                                        ctx.fillStyle = "gray";
                                        break;
                                    }
        
                                    case 11: {
                                        ctx.fillStyle = "black";
                                        break;
                                    }
        
                                    case 12: {
                                        ctx.fillStyle = "white";
                                        break;
                                    }
                                    
                                    case 13: {
                                        ctx.fillStyle = "orange";
                                        break;
                                    }
                                    
                                    case 14: {
                                        ctx.fillStyle = "yellow";
                                        break;
                                    }
                                }
                            }
        
                            ctx.fillRect(this.x - this.largura, this.y - this.largura, this.largura * 2, this.largura * 2);

                            if (this.hover1) {
                                ctx.fillStyle = "rgba(255, 255, 255, 0.4)";
                                ctx.fillRect(this.x - this.largura, this.y - this.largura, this.largura * 2, this.largura * 2);
                            }

                            ctx.lineWidth = 2;

                            if (telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].resposta == "esquerda") {
                                if (telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].cor == "black") {
                                    ctx.strokeStyle = "white";
                                }

                                else {
                                    ctx.strokeStyle = "black";
                                }
                            }

                            else {
                                if (telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].text == "Preto") {
                                    ctx.strokeStyle = "white";
                                }

                                else {
                                    ctx.strokeStyle = "black";
                                }
                            }
                            
                            ctx.strokeRect(this.x - this.largura, this.y - this.largura, this.largura * 2, this.largura * 2);
        
                            if (telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].resposta == "direita") {
                                ctx.fillStyle = telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].cor;
                            }
        
                            else {
                                switch (telas.jogo.capitulo1.fase4.principal.questao.numProblema) {
                                    case 0: {
                                       ctx.fillStyle = "yellow";
                                       break;
                                    }
        
                                    case 1: {
                                        ctx.fillStyle = "green";
                                        break;
                                    }
        
                                    case 2: {
                                        ctx.fillStyle = "gray";
                                        break;
                                    }
        
                                    case 3: {
                                        ctx.fillStyle = "purple";
                                        break;
                                    }
        
                                    case 4: {
                                        ctx.fillStyle = "blue";
                                        break;
                                    }
        
                                    case 5: {
                                        ctx.fillStyle = "violet";
                                        break;
                                    }
        
                                    case 6: {
                                        ctx.fillStyle = "orange";
                                        break;
                                    }
        
                                    case 7: {
                                        ctx.fillStyle = "brown";
                                        break;
                                    }
        
                                    case 8: {
                                        ctx.fillStyle = "pink";
                                        break;
                                    }
        
                                    case 9: {
                                        ctx.fillStyle = "cyan";
                                        break;
                                    }
        
                                    case 10: {
                                        ctx.fillStyle = "gray";
                                        break;
                                    }
        
                                    case 11: {
                                        ctx.fillStyle = "black";
                                        break;
                                    }
        
                                    case 12: {
                                        ctx.fillStyle = "white";
                                        break;
                                    }
                                    
                                    case 13: {
                                        ctx.fillStyle = "orange";
                                        break;
                                    }
                                    
                                    case 14: {
                                        ctx.fillStyle = "yellow";
                                        break;
                                    }
                                }
                            }
        
                            ctx.fillRect(this.x1 - this.largura, this.y1 - this.largura, this.largura * 2, this.largura * 2);

                            if (this.hover2) {
                                ctx.fillStyle = "rgba(255, 255, 255, 0.4)";
                                ctx.fillRect(this.x1 - this.largura, this.y1 - this.largura, this.largura * 2, this.largura * 2);
                            }

                            ctx.lineWidth = 2;

                            if (telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].resposta == "direita") {
                                if (telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].cor == "black") {
                                    ctx.strokeStyle = "white";
                                }

                                else {
                                    ctx.strokeStyle = "black";
                                }
                            }

                            else {
                                if (telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].text == "Preto") {
                                    ctx.strokeStyle = "white";
                                }

                                else {
                                    ctx.strokeStyle = "black";
                                }
                            }
                            
                            ctx.strokeRect(this.x1 - this.largura, this.y1 - this.largura, this.largura * 2, this.largura * 2);
                        },

                        inputs(alternativa) {
                            if (alternativa == telas.jogo.capitulo1.fase4.principal.questao.banco[telas.jogo.capitulo1.fase4.principal.questao.numProblema].resposta) {
                                telas.jogo.capitulo1.fase4.points ++;
                                telas.jogo.capitulo1.fase4.principal.icon.acerto = true;
                            }

                            else {
                                telas.jogo.capitulo1.fase4.principal.icon.acerto = false;
                            }

                            if (telas.jogo.capitulo1.fase4.principal.questao.quantProblemas < 10) {
                                telas.jogo.capitulo1.fase4.principal.questao.quantProblemas ++;

                                do {
                                    telas.jogo.capitulo1.fase4.principal.questao.numProblema = Math.floor(Math.random() * telas.jogo.capitulo1.fase4.principal.questao.banco.length);
                                } while(!telas.jogo.capitulo1.fase4.principal.verificaQuestao(telas.jogo.capitulo1.fase4.principal.questao.numProblema));
                            }

                            else {
                                telas.jogo.capitulo1.fase4.parte ++;
                            }

                            telas.jogo.capitulo1.fase4.principal.click = true;
                            telas.jogo.capitulo1.fase4.principal.icon.onload = true;
                            telas.jogo.capitulo1.fase4.principal.temporizador.counter = 0;
                            telas.jogo.capitulo1.fase4.principal.temporizador.texto = 5;
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 5,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80)

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 4) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 2) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 5;
                                    telas.jogo.capitulo1.fase4.principal.solucao.inputs(null);
                                }

                                this.counter = 0;
                            }
                        },
                    },

                    icon: {
                        s: new Image(),
                        x: 1000,
                        y: 250,
                        alpha: 1,
                        counter: 0,
                        acerto: null,
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.globalAlpha = this.alpha;

                            ctx.drawImage(
                                this.s,
                                0, 0,
                                512, 512,
                                this.x, this.y,
                                128, 128
                            )

                            ctx.globalAlpha = 1;
                        },

                        atualiza() {
                            if (this.onload) {
                                if (this.acerto) {
                                    this.s.src = "./sprites/jogo/icons/accept.png";
                                }

                                else {
                                    this.s.src = "./sprites/jogo/icons/decline.png";
                                }

                                this.y = 250;
                                this.alpha = 1;
                                this.counter = 0;
                                this.onload = false;
                            }

                            this.y -= 3;
                            this.counter ++;

                            if (this.counter > 20) {
                                if (this.alpha > 0.05) {
                                    this.alpha -= 0.05;
                                }

                                else {
                                    telas.jogo.capitulo1.fase4.principal.click = false;
                                }
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo1.fase4.allowBotoes) {
                            if (telas.jogo.capitulo1.fase4.points >= 7 || banco.capitulo1.fase4_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo1.fase4_pass = true;
                                    this.onload = false;
                                    telas.lobby.capitulos[0].fase_5 = false;
                                }
                            }

                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);

                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
         
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo1.fase4.points >= 7 || banco.capitulo1.fase4_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo1.fase4.points >= 7 || banco.capitulo1.fase4_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo1.fase4.points >= 7 || banco.capitulo1.fase4_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo1.fase4.points >= 7 || banco.capitulo1.fase4_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo1.fase4.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo1.fase4.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo1.fase4.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo1.fase4.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo1.fase4.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo1.fase4.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo1.fase4.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo1.fase4.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo1.fase4.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase5: {
                parte: 1,
                aprovado: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.aprovado = false;
                    this.parte = 1;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;
                    this.inicio.titulo.counter = 0;

                    this.principal.questao.numQuestao = 0;
                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.click = false;
                    this.principal.solucao.counter = 0;
                    this.principal.solucao.counter1 = 0;
                    this.principal.solucao.numProblema = 0;
                    this.principal.solucao.alter = null;
                    this.principal.allowClick = true;

                    this.principal.banco = [];
                    
                    this.principal.solucao.alters.forEach(item => {
                        item.hover = false;
                    })

                    this.principal.temporizador.texto = 5;
                    this.principal.temporizador.counter = 0;

                    this.final.text.onload = true;
                    this.final.text.onload1 = true;
                    this.final.text.spriteX = 0;
                    this.final.text.counter = 0;
                    this.final.text.counter1 = 0;
                    this.final.botoes.exit.hover = false;
                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },
                    },

                    titulo: {
                        nome: "Fase 5",
                        descricao: "O primeiro desafio",
                        entrando: true,
                        saindo: false,
                        counter: 0,
                        alpha: 0,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.font = "120px 'Share Tech Mono'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.nome, canvas.width / 2, canvas.height / 2);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.fillText(this.descricao, canvas.width / 2, canvas.height / 2 + 200);
                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;

                                if (this.alpha >= 0.99) {
                                    this.counter ++;

                                    if (this.counter >= 100) {
                                        this.entrando = false;
                                        this.saindo = true;
                                    }
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo1.fase5.parte ++;
                                }
                            }
                        }
                    },
                },

                principal: {
                    allowClick: true,

                    banco: [],

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();
                    },

                    verificaOrdem(numPergunta) {
                        for (let i = 0; i < this.banco.length; i++) {
                            if (this.banco[i].numPergunta == numPergunta) {
                                return false;
                            }
                        }

                        this.banco.push(
                            {numPergunta: numPergunta}
                        );

                        return true;
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {pergunta: "São cores primarias, exceto:", alter1: "verde", alter2: "amarelo", alter3: "azul", alter4: "vermelho", resposta: 2},
                            {pergunta: "A cor roxa é composta por:", alter1: "azul e vermelho", alter2: "rosa e branco", alter3: "azul e rosa", alter4: "vermelho e preto", resposta: 1},
                            {pergunta: "Juntando branco e preto, obtemos:", alter1: "azul", alter2: "branco", alter3: "preto", alter4: "cinza", resposta: 4},
                            {pergunta: "Azul é uma cor:", alter1: "terceária", alter2: "primária", alter3: "secundária", alter4: "quente", resposta: 2},
                            {pergunta: "Qual destas cores é fria?", alter1: "laranja", alter2: "amarelo", alter3: "azul", alter4: "vermelho", resposta: 3},
                            {pergunta: "Juntando vermelho e branco, obtemos:", alter1: "branco", alter2: "vermelho", alter3: "azul", alter4: "rosa", resposta: 4},
                            {pergunta: "A cor branca é:", alter1: "A mistura de todas cores", alter2: "Uma cor quente", alter3: "A ausência de cor", alter4: "Uma cor fria", resposta: 1},
                            {pergunta: '"rgb(0, 0, 0)" corresponde a cor:', alter1: "preto", alter2: "branco", alter3: "vermelho", alter4: "azul", resposta: 1},
                            {pergunta: '"#FFFFFF" é um código de cor:', alter1: "binário", alter2: "bidimensional", alter3: "hexadecimal", alter4: "decimal", resposta: 3},
                            {pergunta: "Amarelo + azul =", alter1: "amarelo", alter2: "verde", alter3: "azul", alter4: "vermelho", resposta: 2},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 1,
                        onload: true,

                        square: {
                            x: canvas.width / 2 - 500,
                            y: 10,
                            larg: 1000,
                            alt: 250,
                        },

                        desenha() {
                            this.atualiza();

                            ctx.textAlign = "center";
                            ctx.font = "45px 'Silkscreen'";
                            ctx.fillStyle = "black";
                            ctx.fillText(this.banco[this.numQuestao].pergunta, this.square.x + this.square.larg / 2 + 5, this.square.y + this.square.alt / 2 + 15 + 5);

                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].pergunta, this.square.x + this.square.larg / 2, this.square.y + this.square.alt / 2 + 15);
                            
                            ctx.lineWidth = 5;
                            ctx.strokeStyle = "black";

                            switch(this.numQuestao) {
                                case 0: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 450 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 450 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 450, this.square.y + this.square.alt / 2 + 25);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 450, this.square.y + this.square.alt / 2 + 25);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                }

                                case 1: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 450 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 450 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 450, this.square.y + this.square.alt / 2 + 25);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 450, this.square.y + this.square.alt / 2 + 25);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                }

                                case 2: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 550 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 550 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 550, this.square.y + this.square.alt / 2 + 25);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 550, this.square.y + this.square.alt / 2 + 25);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                }

                                case 3: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 250 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 250 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 250, this.square.y + this.square.alt / 2 + 25);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 250, this.square.y + this.square.alt / 2 + 25);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                }

                                case 4: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 400 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 400 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 400, this.square.y + this.square.alt / 2 + 25);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 400, this.square.y + this.square.alt / 2 + 25);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                }

                                case 5: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 600 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 600 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 600, this.square.y + this.square.alt / 2 + 25);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 600, this.square.y + this.square.alt / 2 + 25);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                }

                                case 6: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 250 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 250 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 250, this.square.y + this.square.alt / 2 + 25);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 250, this.square.y + this.square.alt / 2 + 25);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                }

                                case 7: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 500 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 500 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 500, this.square.y + this.square.alt / 2 + 25);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 500, this.square.y + this.square.alt / 2 + 25);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                }

                                case 8: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 450 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 450 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 450, this.square.y + this.square.alt / 2 + 25);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 450, this.square.y + this.square.alt / 2 + 25);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                }

                                case 9: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 300 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 300 + 10, this.square.y + this.square.alt / 2 + 25 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 300, this.square.y + this.square.alt / 2 + 25);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 300, this.square.y + this.square.alt / 2 + 25);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                }
                            }
                        },

                        atualiza() {
                            if (this.onload) {
                                this.quantQuestoes ++;
                                this.onload = false;

                                do {
                                    this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                } while (!telas.jogo.capitulo1.fase5.principal.verificaOrdem(this.numQuestao));

                                telas.jogo.capitulo1.fase5.principal.solucao.alters[0].text = this.banco[this.numQuestao].alter1;
                                telas.jogo.capitulo1.fase5.principal.solucao.alters[1].text = this.banco[this.numQuestao].alter2;
                                telas.jogo.capitulo1.fase5.principal.solucao.alters[2].text = this.banco[this.numQuestao].alter3;
                                telas.jogo.capitulo1.fase5.principal.solucao.alters[3].text = this.banco[this.numQuestao].alter4;
                            }
                        },
                    },

                    solucao: {
                        click: false,
                        alter: null,
                        counter: 0,
                        counter1: 0,
                        numProblema: 0,

                        desenha() {
                            for (let i = 0; i < this.alters.length; i++) {
                                this.alters[i].desenha();
                            }

                            if (this.click) {
                                telas.jogo.capitulo1.fase5.principal.allowClick = false;
                                this.counter ++;

                                if (this.counter >= 75) {
                                    if (this.alter != telas.jogo.capitulo1.fase5.principal.questao.banco[telas.jogo.capitulo1.fase5.principal.questao.numQuestao].resposta) {
                                        telas.jogo.capitulo1.fase5.parte ++;
                                        telas.jogo.capitulo1.fase5.aprovado = false;
                                    }

                                    if (telas.jogo.capitulo1.fase5.principal.questao.quantQuestoes < 10) {
                                        telas.jogo.capitulo1.fase5.principal.questao.quantQuestoes ++;

                                        do {
                                            telas.jogo.capitulo1.fase5.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo1.fase5.principal.questao.banco.length);
                                        } while(!telas.jogo.capitulo1.fase5.principal.verificaOrdem(telas.jogo.capitulo1.fase5.principal.questao.numQuestao));

                                        this.alters[0].text = telas.jogo.capitulo1.fase5.principal.questao.banco[telas.jogo.capitulo1.fase5.principal.questao.numQuestao].alter1
                                        this.alters[1].text = telas.jogo.capitulo1.fase5.principal.questao.banco[telas.jogo.capitulo1.fase5.principal.questao.numQuestao].alter2
                                        this.alters[2].text = telas.jogo.capitulo1.fase5.principal.questao.banco[telas.jogo.capitulo1.fase5.principal.questao.numQuestao].alter3
                                        this.alters[3].text = telas.jogo.capitulo1.fase5.principal.questao.banco[telas.jogo.capitulo1.fase5.principal.questao.numQuestao].alter4
                                    }

                                    else {
                                        telas.jogo.capitulo1.fase5.parte ++;
                                        telas.jogo.capitulo1.fase5.aprovado = true;
                                    }

                                    this.alter = null;
                                    this.click = false;
                                    this.counter = 0;
                                    telas.jogo.capitulo1.fase5.principal.allowClick = true;

                                    this.alters.forEach(item => {
                                        item.hover = false;
                                    })
                                }

                                telas.jogo.capitulo1.fase5.principal.temporizador.counter = 0;
                                telas.jogo.capitulo1.fase5.principal.temporizador.texto = 5;
                            }
                        },

                        alters: [
                            {
                                x: canvas.width / 2 - 510,
                                y: 350,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo1.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo1.fase5.principal.questao.banco[telas.jogo.capitulo1.fase5.principal.questao.numQuestao].resposta - 1 == 0) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 - 510,
                                y: 500,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo1.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo1.fase5.principal.questao.banco[telas.jogo.capitulo1.fase5.principal.questao.numQuestao].resposta - 1 == 1) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 + 10,
                                y: 350,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo1.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo1.fase5.principal.questao.banco[telas.jogo.capitulo1.fase5.principal.questao.numQuestao].resposta - 1 == 2) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 + 10,
                                y: 500,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo1.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo1.fase5.principal.questao.banco[telas.jogo.capitulo1.fase5.principal.questao.numQuestao].resposta - 1 == 3) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            }
                        ]
                    },
                    
                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 5,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 4) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 2) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 5;

                                    telas.jogo.capitulo1.fase5.principal.solucao.click = true;
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.text.desenha();

                        if (telas.jogo.capitulo1.fase5.aprovado || banco.capitulo1.fase5_pass) {
                            this.botoes.play.desenha();
                            
                            if (this.onload) {
                                banco.capitulo1.fase5_pass = true;
                                telas.lobby.capitulos[1].fase_1 = false;
                                this.onload = false;
                            }
                        }
                        
                        this.botoes.exit.desenha();
                        this.botoes.retry.desenha();
                    },

                    text: {
                        s: new Image(),
                        onload: true,
                        onload1: true,

                        larg: 200,
                        spriteX: 0,
                        counter: 0,
                        counter1: 0,
                        texto: "",

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.s,
                                this.spriteX, 0,
                                this.larg, 200,
                                canvas.width / 2 - 100, canvas.height / 2 - 200,
                                200, 200
                            )
                        },

                        atualiza() {
                            if (this.onload) {
                                this.s.src = "./sprites/jogo/star/no colected.png";
                                this.onload = false;
                            }

                            if (this.counter >= 60) {
                                if (telas.jogo.capitulo1.fase5.aprovado) {
                                    if (this.onload1) {
                                        this.s.src = "./sprites/jogo/star/yes colected.png";
                                        this.larg = 200;
                                        this.onload1 = false;
                                    }

                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX < 2400) {
                                            this.spriteX += 200;
                                        }

                                        else {
                                            this.spriteX = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }
                            }

                            else {
                                this.counter ++;
                            }
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(canvas.width / 2 - 120, canvas.height / 2 - 200, 240, 220);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(canvas.width / 2 - 120, canvas.height / 2 - 200, 240, 220);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo1/spr - cap 1.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
         
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo1.fase5.points >= 7 || banco.capitulo1.fase5_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo1.fase5.points >= 7 || banco.capitulo1.fase5_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo1.fase5.points >= 7 || banco.capitulo1.fase5_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo1.fase5.points >= 7 || banco.capitulo1.fase5_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },
                },
            },
        },

        capitulo2: {
            //numeros

            abertura: {
                alpha: 0,
                counter: 0,

                desenha() {
                    this.atualiza();

                    ctx.fillStyle = "black";
                    ctx.fillRect(0, 0, canvas.width, canvas.height);

                    ctx.globalAlpha = this.alpha;

                    ctx.fillStyle = "white";
                    ctx.textAlign = "center";
                    ctx.font = "100px 'Share Tech Mono'";
                    ctx.fillText("Capítulo 2", canvas.width / 2, canvas.height / 2);

                    ctx.font = "50px 'Silkscreen'";
                    ctx.fillText("Números", canvas.width / 2, canvas.height / 2 + 165);

                    ctx.globalAlpha = 1;
                },

                atualiza() {
                    this.counter ++;

                    if (this.counter < 180 && this.alpha < 0.99) {
                        this.alpha += 0.01;
                    }

                    else if (this.counter > 360) {
                        if (this.alpha > 0.01) {
                            this.alpha -= 0.01;
                        }

                        else {
                            telas.jogo.capitulo2.fase1.reset();
                            mudaTela(telas.jogo.capitulo2.fase1);
                        }
                    }
                }
            },

            fase1: {
                parte: 1,
                points: 0,
                tutorialAllow: false,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.resposta = "";
                    this.principal.solucao.alpha = 0;
                    this.principal.solucao.aparecendo = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.exit.hover = false;

                    this.principal.enter = false;
                    this.principal.banco = [];
                },

                tutorial: {
                    parte: 1,
                    alpha: 1,
                    counter: 0,
                    img: new Image(),
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "black";
                            ctx.fillText("Escreva os números por extenso", canvas.width / 2 + 5, canvas.height / 2 + 5);
                            
                            ctx.fillStyle = "white";
                            ctx.fillText("Escreva os números por extenso", canvas.width / 2, canvas.height / 2);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 550 + 5, canvas.height / 2 + 10 + 5);
                            ctx.lineTo(canvas.width / 2 + 550 + 5, canvas.height / 2 + 10 + 5);
                            ctx.stroke();
                            ctx.closePath();
                            
                            ctx.strokeStyle = "white";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 550, canvas.height / 2 + 10);
                            ctx.lineTo(canvas.width / 2 + 550, canvas.height / 2 + 10);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.globalAlpha = this.alpha;

                            ctx.lineWidth = 5;
                            ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                            ctx.strokeStyle = "black";
                            ctx.fillRect(canvas.width - 110, canvas.height - 110, 84, 84);
                            ctx.strokeRect(canvas.width - 110, canvas.height - 110, 84, 84);

                            ctx.drawImage(
                                this.img,
                                0, 0,
                                512, 512,
                                canvas.width - 100, canvas.height - 100,
                                64, 64
                            )
                            
                            ctx.globalAlpha = 1;
                        }

                        else {
                            telas.jogo.capitulo2.fase1.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        if (this.onload) {
                            this.img.src = "./sprites/jogo/icons/enter.png";
                            this.onload = false;
                        }

                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 1",
                        descricao: "Conhecendo os números",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo2.fase1.parte = 2;
                                    telas.jogo.capitulo2.fase1.tutorialAllow = true;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    banco: [],
                    enter: false,

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();

                        if (this.enter) {
                            this.icon.desenha();
                        }
                    },

                    verificaQuestao(numQuestao) {
                        for (let i = 0; i < this.banco.length; i++) {
                            if (this.banco[i] == numQuestao) {
                                return false;
                            }
                        }

                        this.banco.push(numQuestao);

                        return true;
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);

                            ctx.strokeStyle = "white";
                            ctx.fillRect(canvas.width / 2 - 450, canvas.height / 2 - 200, 900, 430);
                            ctx.strokeRect(canvas.width / 2 - 450, canvas.height / 2 - 200, 900, 430);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {nome: "um", numero: 1},
                            {nome: "dois", numero: 2},
                            {nome: "quatro", numero: 4},
                            {nome: "cinco", numero: 5},
                            {nome: "seis", numero: 6},
                            {nome: "sete", numero: 7},
                            {nome: "oito", numero: 8},
                            {nome: "nove", numero: 9},
                            {nome: "dez", numero: 10},
                            {nome: "onze", numero: 11},
                            {nome: "doze", numero: 12},
                            {nome: "treze", numero: 13},
                            {nome: "quatorze", numero: 14},
                            {nome: "quinze", numero: 15},
                            {nome: "dezesseis", numero: 16},
                            {nome: "dezessete", numero: 17},
                            {nome: "dezoito", numero: 18},
                            {nome: "dezenove", numero: 19},
                            {nome: "vinte", numero: 20},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.font = "100px 'Silkscreen'";
                            ctx.textAlign = "center";

                            ctx.fillStyle = "black";
                            ctx.fillText(this.banco[this.numQuestao].numero, canvas.width / 2 + 5, canvas.height / 2 - 100 + 5);

                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].numero, canvas.width / 2, canvas.height / 2 - 100);

                            ctx.lineWidth = 6;
                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 70 + 5, canvas.height / 2 - 80 + 5);
                            ctx.lineTo(canvas.width / 2 + 70 + 5, canvas.height / 2 - 80 + 5);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.strokeStyle = "white";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 70, canvas.height / 2 - 80);
                            ctx.lineTo(canvas.width / 2 + 70, canvas.height / 2 - 80);
                            ctx.stroke();
                            ctx.closePath();
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                                telas.jogo.capitulo2.fase1.principal.verificaQuestao(this.numQuestao);
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            if (this.resposta.length > 0) {
                                this.resposta = this.resposta.toLocaleLowerCase();
                            }

                            ctx.strokeStyle = "rgb(127, 127, 127)";
                            ctx.lineWidth = 3;

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(127, 127, 127, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }

                            else {
                                this.barra.desenha(this.resposta);
                            }
                        },

                        inputs(letra) {
                            if (letra == "Enter") {
                                if (this.resposta == telas.jogo.capitulo2.fase1.principal.questao.banco[telas.jogo.capitulo2.fase1.principal.questao.numQuestao].nome) {
                                    telas.jogo.capitulo2.fase1.principal.icon.acerto = true;
                                    telas.jogo.capitulo2.fase1.points ++;
                                }

                                else {
                                    telas.jogo.capitulo2.fase1.principal.icon.acerto = false;
                                }

                                if (telas.jogo.capitulo2.fase1.principal.questao.quantQuestoes < 10) {
                                    do {
                                        telas.jogo.capitulo2.fase1.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo2.fase1.principal.questao.banco.length);
                                    } while(!telas.jogo.capitulo2.fase1.principal.verificaQuestao(telas.jogo.capitulo2.fase1.principal.questao.numQuestao));
                                    
                                    telas.jogo.capitulo2.fase1.principal.questao.quantQuestoes ++;
                                }
                                
                                else {
                                    telas.jogo.capitulo2.fase1.parte = 3;
                                }

                                this.resposta = "";
                                telas.jogo.capitulo2.fase1.principal.temporizador.texto = 10;
                                telas.jogo.capitulo2.fase1.principal.temporizador.counter = 0;
                                telas.jogo.capitulo2.fase1.principal.icon.onload = true;
                                telas.jogo.capitulo2.fase1.principal.enter = true;
                            }

                            else if (letra == "Backspace") {
                                this.resposta = this.resposta.substring(0, this.resposta.length - 1);
                            }

                            else {
                                if (this.resposta.length < 12) {
                                    this.resposta += letra;
                                }
                                
                                else {
                                    alert("Número máximo de caracteres excedido!");
                                }
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                            
                        },

                        barra: {
                            alpha: 1,
                            counter: 0,

                            desenha(string) {
                                ctx.strokeStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                                ctx.lineWidth = 3;

                                ctx.beginPath();
                                ctx.moveTo(canvas.width / 2 + this.verificaLarg(string), canvas.height / 2 + 102.5);
                                ctx.lineTo(canvas.width / 2 + this.verificaLarg(string), canvas.height / 2 + 152.5);
                                ctx.stroke();
                                ctx.closePath();

                                this.atualiza();
                            },

                            atualiza() {
                                this.counter ++;

                                if (this.counter < 30) {
                                    this.alpha = 0;
                                }

                                else if (this.counter < 60) {
                                    this.alpha = 1;
                                }

                                else {
                                    this.counter = 0;
                                }
                            },

                            verificaLarg(string) {
                                let larg = 0;

                                for (let i = 0; i < string.length; i++) {
                                    switch(string.substring(i, i + 1)) {
                                        case "a": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "b": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "c": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "d": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "e": {
                                            larg += 22;
                                            break;
                                        }

                                        case "f": {
                                            larg += 22;
                                            break;
                                        }

                                        case "g": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "h": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "i": {
                                            larg += 13;
                                            break;
                                        }

                                        case "j": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "k": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "l": {
                                            larg += 22;
                                            break;
                                        }

                                        case "m": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "n": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "o": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "p": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "q": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "r": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "s": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "t": {
                                            larg += 22;
                                            break;
                                        }

                                        case "u": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "v": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "w": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "x": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "y": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "z": {
                                            larg += 22;
                                            break;
                                        }

                                        case " ": {
                                            larg += 18;
                                            break;
                                        }

                                        case "1": {
                                            larg += 22;
                                            break;
                                        }

                                        default: {
                                            larg += 26.5;
                                            break;
                                        }
                                    }
                                }

                                return larg;
                            },
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    if (telas.jogo.capitulo2.fase1.principal.questao.quantQuestoes < 10) {
                                        do {
                                            telas.jogo.capitulo2.fase1.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo2.fase1.principal.questao.banco.length);
                                        } while(!telas.jogo.capitulo2.fase1.principal.verificaQuestao(telas.jogo.capitulo2.fase1.principal.questao.numQuestao));

                                        telas.jogo.capitulo2.fase1.principal.questao.quantQuestoes ++;
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo2.fase1.parte = 3;
                                    }
    
                                    telas.jogo.capitulo2.fase1.principal.solucao.resposta = "";
                                    this.texto = 10;
                                    telas.jogo.capitulo2.fase1.principal.enter = true;
                                    telas.jogo.capitulo2.fase1.principal.icon.onload = true;
                                    telas.jogo.capitulo2.fase1.principal.icon.acerto = false;
                                }

                                this.counter = 0;
                            }
                        },
                    },

                    icon: {
                        s: new Image(),
                        x: 1000,
                        y: 250,
                        alpha: 1,
                        counter: 0,
                        acerto: null,
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.globalAlpha = this.alpha;

                            ctx.drawImage(
                                this.s,
                                0, 0,
                                512, 512,
                                this.x, this.y,
                                128, 128
                            )

                            ctx.globalAlpha = 1;
                        },

                        atualiza() {
                            if (this.onload) {
                                if (this.acerto) {
                                    this.s.src = "./sprites/jogo/icons/accept.png";
                                }

                                else {
                                    this.s.src = "./sprites/jogo/icons/decline.png";
                                }

                                this.y = 250;
                                this.alpha = 1;
                                this.counter = 0;
                                this.onload = false;
                            }

                            this.y -= 3;
                            this.counter ++;

                            if (this.counter > 20) {
                                if (this.alpha > 0.05) {
                                    this.alpha -= 0.05;
                                }

                                else {
                                    telas.jogo.capitulo2.fase1.principal.enter = false;
                                }
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo2.fase1.allowBotoes) {
                            if (telas.jogo.capitulo2.fase1.points >= 7 || banco.capitulo2.fase1_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    this.onload = false;
                                    banco.capitulo2.fase1_pass = true;
                                    telas.lobby.capitulos[1].fase_2 = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo2.fase1.points >= 7 || banco.capitulo2.fase1_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo2.fase1.points >= 7 || banco.capitulo2.fase1_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo2.fase1.points >= 7 || banco.capitulo2.fase1_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo2.fase1.points >= 7 || banco.capitulo2.fase1_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo2.fase1.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo2.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo2.fase1.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo2.fase1.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo2.fase1.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo2.fase1.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo2.fase1.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo2.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo2.fase1.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase2: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.tutorial.onload = true;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.resposta = "";
                    this.principal.solucao.alpha = 0;
                    this.principal.solucao.aparecendo = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.principal.icon.onload = true;
                    this.principal.enter = false;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.exit.hover = false;
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,
                    img: new Image(),
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "black";
                            ctx.fillText("Resolva as operações", canvas.width / 2 + 5, canvas.height / 2 + 5);
                            
                            ctx.fillStyle = "white";
                            ctx.fillText("Resolva as operações", canvas.width / 2, canvas.height / 2);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 370 + 5, canvas.height / 2 + 10 + 5);
                            ctx.lineTo(canvas.width / 2 + 370 + 5, canvas.height / 2 + 10 + 5);
                            ctx.stroke();
                            ctx.closePath();
                            
                            ctx.strokeStyle = "white";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 370, canvas.height / 2 + 10);
                            ctx.lineTo(canvas.width / 2 + 370, canvas.height / 2 + 10);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.globalAlpha = this.alpha;

                            ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                            ctx.strokeStyle = "black";
                            ctx.fillRect(canvas.width - 110, canvas.height - 110, 84, 84);
                            ctx.strokeRect(canvas.width - 110, canvas.height - 110, 84, 84);

                            ctx.drawImage(
                                this.img,
                                0, 0,
                                512, 512,
                                canvas.width - 100, canvas.height - 100,
                                64, 64
                            )
                            
                            ctx.globalAlpha = 1;
                        }

                        else {
                            telas.jogo.capitulo2.fase2.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        if (this.onload) {
                            this.img.src = "./sprites/jogo/icons/enter.png";
                            this.onload = false;
                        }

                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 2",
                        descricao: "Adição e subtração",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo2.fase2.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    banco: [],
                    enter: false,

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();

                        if (this.enter) {
                            this.icon.desenha();
                        }
                    },

                    verificaQuestao(numQuestao) {
                        for (let i = 0; i < this.banco.length; i++) {
                            if (this.banco[i] == numQuestao) {
                                return false;
                            }
                        }

                        this.banco.push(numQuestao);

                        return true;
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0, 
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);

                            ctx.strokeStyle = "white";
                            ctx.fillRect(canvas.width / 2 - 450, canvas.height / 2 - 200, 900, 430);
                            ctx.strokeRect(canvas.width / 2 - 450, canvas.height / 2 - 200, 900, 430);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {conta: "7 + 8", resposta: 15},//
                            {conta: "3 + 9", resposta: 12},//
                            {conta: "1 - 9", resposta: -8},//
                            {conta: "3 + 7 - 2", resposta: 8},
                            {conta: "1 + 4", resposta: 5},//
                            {conta: "12 + 8", resposta: 20},//
                            {conta: "5 + 8 - 10", resposta: 3},//
                            {conta: "1 + 0 - 3 + 2", resposta: 0},
                            {conta: "9 + 9", resposta: 18},//
                            {conta: "2 + 20", resposta: 22},//
                            {conta: "8 - 7", resposta: 1},//
                            {conta: "4 + 17", resposta: 21},//
                            {conta: "7 + 9 - 6", resposta: 10},
                            {conta: "4 + 6 + 5", resposta: 15},//
                            {conta: "20 + 5 - 15", resposta: 10},
                            {conta: "8 - 2 + 4", resposta: 10},//
                            {conta: "3 + 7 + 6 - 9", resposta: 7}, //
                            {conta: "2 + 9 - 6", resposta: 5},//
                            {conta: "3 + 4", resposta: 7},//
                            {conta: "96 - 95", resposta: 1},//
                            {conta: "30 + 30", resposta: 60},//
                            {conta: "45 - 45 + 3", resposta: 3},
                            {conta: "13 + 15", resposta: 28},//
                            {conta: "9 + 32", resposta: 41},//
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            
                            ctx.font = "80px 'Silkscreen'";
                            ctx.textAlign = "center";

                            ctx.fillStyle = "black";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2 + 5, canvas.height / 2 - 100 + 5);

                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 100);

                            let pos = {x: null, y: null};

                            switch (this.numQuestao) {
                                case 0: {
                                    pos.x = 140;
                                    pos.y = 80;
                                    break;
                                }

                                case 1: {
                                    pos.x = 140;
                                    pos.y = 80;
                                    break;
                                }
                                
                                case 2: {
                                    pos.x = 140;
                                    pos.y = 80;
                                    break;
                                }

                                case 3: {
                                    pos.x = 240;
                                    pos.y = 80;
                                    break;
                                }

                                case 4: {
                                    pos.x = 140;
                                    pos.y = 80;
                                    break;
                                }

                                case 5: {
                                    pos.x = 160;
                                    pos.y = 80;
                                    break;
                                }
                                
                                case 6: {
                                    pos.x = 280;
                                    pos.y = 80;
                                    break;
                                }

                                case 7: {
                                    pos.x = 340;
                                    pos.y = 80;
                                    break;
                                }

                                case 8: {
                                    pos.x = 140;
                                    pos.y = 80;
                                    break;
                                }

                                case 9: {
                                    pos.x = 160;
                                    pos.y = 80;
                                    break;
                                }
                                
                                case 10: {
                                    pos.x = 140;
                                    pos.y = 80;
                                    break;
                                }

                                case 11: {
                                    pos.x = 160;
                                    pos.y = 80;
                                    break;
                                }

                                case 12: {
                                    pos.x = 240;
                                    pos.y = 80;
                                    break;
                                }

                                case 13: {
                                    pos.x = 240;
                                    pos.y = 80;
                                    break;
                                }
                                
                                case 14: {
                                    pos.x = 300;
                                    pos.y = 80;
                                    break;
                                }

                                case 15: {
                                    pos.x = 230;
                                    pos.y = 80;
                                    break;
                                }
                                
                                case 16: {
                                    pos.x = 360;
                                    pos.y = 80;
                                    break;
                                }

                                case 17: {
                                    pos.x = 260;
                                    pos.y = 80;
                                    break;
                                }

                                case 18: {
                                    pos.x = 140;
                                    pos.y = 80;
                                    break;
                                }

                                case 19: {
                                    pos.x = 180;
                                    pos.y = 80;
                                    break;
                                }
                                
                                case 20: {
                                    pos.x = 220;
                                    pos.y = 80;
                                    break;
                                }

                                case 21: {
                                    pos.x = 310;
                                    pos.y = 80;
                                    break;
                                }

                                case 22: {
                                    pos.x = 190;
                                    pos.y = 80;
                                    break;
                                }

                                case 23: {
                                    pos.x = 160;
                                    pos.y = 80;
                                    break;
                                }
                            }

                            ctx.lineWidth = 6;
                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - pos.x + 5, canvas.height / 2 - pos.y + 5);
                            ctx.lineTo(canvas.width / 2 + pos.x + 5, canvas.height / 2 - pos.y + 5);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.strokeStyle = "white";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - pos.x, canvas.height / 2 - pos.y);
                            ctx.lineTo(canvas.width / 2 + pos.x, canvas.height / 2 - pos.y);
                            ctx.stroke();
                            ctx.closePath();
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                telas.jogo.capitulo2.fase2.principal.verificaQuestao(this.numQuestao);
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.lineWidth = 3;

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(127, 127, 127, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }

                            else {
                                this.barra.desenha(this.resposta);
                            }
                        },

                        inputs(letra) {
                            if (letra == "Enter") {
                                if (this.resposta == telas.jogo.capitulo2.fase2.principal.questao.banco[telas.jogo.capitulo2.fase2.principal.questao.numQuestao].resposta) {
                                    telas.jogo.capitulo2.fase2.points ++;
                                    telas.jogo.capitulo2.fase2.principal.icon.acerto = true;
                                }

                                else {
                                    telas.jogo.capitulo2.fase2.principal.icon.acerto = false;
                                }

                                if (telas.jogo.capitulo2.fase2.principal.questao.quantQuestoes < 10) {
                                    do {
                                        telas.jogo.capitulo2.fase2.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo2.fase2.principal.questao.banco.length);
                                    } while(!telas.jogo.capitulo2.fase2.principal.verificaQuestao(telas.jogo.capitulo2.fase2.principal.questao.numQuestao));

                                    telas.jogo.capitulo2.fase2.principal.questao.quantQuestoes ++;
                                }
                                
                                else {
                                    telas.jogo.capitulo2.fase2.parte = 3;
                                }

                                this.resposta = "";
                                telas.jogo.capitulo2.fase2.principal.temporizador.texto = 10;
                                telas.jogo.capitulo2.fase2.principal.temporizador.counter = 0;
                                telas.jogo.capitulo2.fase2.principal.icon.onload = true;
                                telas.jogo.capitulo2.fase2.principal.enter = true;
                            }

                            else if (letra == "Backspace") {
                                this.resposta = this.resposta.substring(0, this.resposta.length - 1);
                            }

                            else {
                                if (this.resposta.length < 12) {
                                    this.resposta += letra;
                                }
                                
                                else {
                                    alert("Número máximo de caracteres excedido!");
                                }
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        },

                        barra: {
                            alpha: 1,
                            counter: 0,

                            desenha(string) {
                                ctx.strokeStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                                ctx.lineWidth = 3;

                                ctx.beginPath();
                                ctx.moveTo(canvas.width / 2 + this.verificaLarg(string), canvas.height / 2 + 102.5);
                                ctx.lineTo(canvas.width / 2 + this.verificaLarg(string), canvas.height / 2 + 152.5);
                                ctx.stroke();
                                ctx.closePath();

                                this.atualiza();
                            },

                            atualiza() {
                                this.counter ++;

                                if (this.counter < 30) {
                                    this.alpha = 0;
                                }

                                else if (this.counter < 60) {
                                    this.alpha = 1;
                                }

                                else {
                                    this.counter = 0;
                                }
                            },

                            verificaLarg(string) {
                                let larg = 0;

                                for (let i = 0; i < string.length; i++) {
                                    switch(string.substring(i, i + 1)) {
                                        case "a": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "b": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "c": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "d": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "e": {
                                            larg += 22;
                                            break;
                                        }

                                        case "f": {
                                            larg += 22;
                                            break;
                                        }

                                        case "g": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "h": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "i": {
                                            larg += 13;
                                            break;
                                        }

                                        case "j": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "k": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "l": {
                                            larg += 22;
                                            break;
                                        }

                                        case "m": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "n": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "o": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "p": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "q": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "r": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "s": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "t": {
                                            larg += 22;
                                            break;
                                        }

                                        case "u": {
                                            larg += 26.5;
                                            break;
                                        }

                                        case "v": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "w": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "x": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "y": {
                                            larg += 30.5;
                                            break;
                                        }

                                        case "z": {
                                            larg += 22;
                                            break;
                                        }

                                        case " ": {
                                            larg += 18;
                                            break;
                                        }

                                        case "1": {
                                            larg += 22;
                                            break;
                                        }

                                        default: {
                                            larg += 26.5;
                                            break;
                                        }
                                    }
                                }

                                return larg;
                            },
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "white";

                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    telas.jogo.capitulo2.fase2.principal.solucao.resposta = "";
                                    telas.jogo.capitulo2.fase2.principal.solucao.inputs("Enter");
                                }

                                this.counter = 0;
                            }
                        },
                    },

                    icon: {
                        s: new Image(),
                        x: 1000,
                        y: 250,
                        alpha: 1,
                        counter: 0,
                        acerto: null,
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.globalAlpha = this.alpha;

                            ctx.drawImage(
                                this.s,
                                0, 0,
                                512, 512,
                                this.x, this.y,
                                128, 128
                            )

                            ctx.globalAlpha = 1;
                        },

                        atualiza() {
                            if (this.onload) {
                                if (this.acerto) {
                                    this.s.src = "./sprites/jogo/icons/accept.png";
                                }

                                else {
                                    this.s.src = "./sprites/jogo/icons/decline.png";
                                }

                                this.y = 250;
                                this.alpha = 1;
                                this.counter = 0;
                                this.onload = false;
                            }

                            this.y -= 3;
                            this.counter ++;

                            if (this.counter > 20) {
                                if (this.alpha > 0.05) {
                                    this.alpha -= 0.05;
                                }

                                else {
                                    telas.jogo.capitulo2.fase2.principal.enter = false;
                                }
                            }
                        },
                    }
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo2.fase2.allowBotoes) {
                            if (telas.jogo.capitulo2.fase2.points >= 7 || banco.capitulo2.fase2_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo2.fase2_pass = true;
                                    telas.lobby.capitulos[1].fase_3 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo2.fase2.points >= 7 || banco.capitulo2.fase2_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo2.fase2.points >= 7 || banco.capitulo2.fase2_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo2.fase2.points >= 7 || banco.capitulo2.fase2_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo2.fase2.points >= 7 || banco.capitulo2.fase2_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo2.fase2.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo2.fase2.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo2.fase2.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo2.fase2.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo2.fase2.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo2.fase2.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo2.fase2.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo2.fase2.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo2.fase2.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase3: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.resposta = "";
                    this.principal.solucao.alpha = 0;
                    this.principal.solucao.aparecendo = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.play.hover = false;
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            this.solucao.desenha();
                            this.temporizador.desenha();
                            this.questao.desenha();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Resolva a operação", canvas.width / 2, canvas.height / 2);
                            ctx.textAlign = "center";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.fillText("Clique para continuar", canvas.width / 2, canvas.height - 30);
                        }

                        else {
                            telas.jogo.capitulo2.fase3.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    questao: {
                        banco: [
                            {conta: "7 x 8", resposta: 56},
                            {conta: "3 x 9", resposta: 27},
                            {conta: "1 : 9", resposta: 1},
                            {conta: "3 x 7", resposta: 21},
                            {conta: "1 x 4", resposta: 4},
                            {conta: "12 : 4", resposta: 3},
                            {conta: "5 x 8 : 10", resposta: 4},
                            {conta: "1 x 0 x 3 : 2", resposta: 0},
                            {conta: "9 : 9", resposta: 1},
                            {conta: "2 x 20", resposta: 40},
                            {conta: "30 : 6 x 2", resposta: 10},
                            {conta: "4 x 4", resposta: 16},
                            {conta: "7 x 9", resposta: 63},
                            {conta: "4 x 6", resposta: 24},
                            {conta: "20 : 5", resposta: 4},
                            {conta: "8 : 2 x 4", resposta: 16},
                            {conta: "3 x 7 : 7", resposta: 3},
                            {conta: "2 x 9 : 6", resposta: 3},
                            {conta: "3 x 4 : 12", resposta: 1},
                            {conta: "96 : 96", resposta: 1},
                            {conta: "30 x 10", resposta: 300},
                            {conta: "45 : 45 x 3", resposta: 3},
                            {conta: "13 x 2", resposta: 26},
                            {conta: "9 x 10", resposta: 90},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "center";
                            ctx.font = "100px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 50);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.lineWidth = 3;
                            
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                            
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "white";
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);
                        },
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 3",
                        descricao: "Multiplicação e divisão",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo2.fase3.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {conta: "7 x 8", resposta: 56},
                            {conta: "3 x 9", resposta: 27},
                            {conta: "9 : 1", resposta: 9},
                            {conta: "3 x 7", resposta: 21},
                            {conta: "1 x 4", resposta: 4},
                            {conta: "12 : 4", resposta: 3},
                            {conta: "5 x 8 : 10", resposta: 4},
                            {conta: "1 x 0 x 3 : 2", resposta: 0},
                            {conta: "9 : 9", resposta: 1},
                            {conta: "2 x 20", resposta: 40},
                            {conta: "30 : 6 x 2", resposta: 10},
                            {conta: "4 x 4", resposta: 16},
                            {conta: "7 x 9", resposta: 63},
                            {conta: "4 x 6", resposta: 24},
                            {conta: "20 : 5", resposta: 4},
                            {conta: "8 : 2 x 4", resposta: 16},
                            {conta: "3 x 7 : 7", resposta: 3},
                            {conta: "2 x 9 : 6", resposta: 3},
                            {conta: "3 x 4 : 12", resposta: 1},
                            {conta: "96 : 96", resposta: 1},
                            {conta: "30 x 10", resposta: 300},
                            {conta: "45 : 45 x 3", resposta: 3},
                            {conta: "13 x 2", resposta: 26},
                            {conta: "9 x 10", resposta: 90},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "center";
                            ctx.font = "100px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 50);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }
                        },

                        inputs(letra) {
                            if (letra == "Enter") {
                                if (this.resposta == telas.jogo.capitulo2.fase3.principal.questao.banco[telas.jogo.capitulo2.fase3.principal.questao.numQuestao].resposta) {
                                    
                                    telas.jogo.capitulo2.fase3.points ++;
                                }

                                if (telas.jogo.capitulo2.fase3.principal.questao.quantQuestoes < 10) {
                                    let num = telas.jogo.capitulo2.fase3.principal.questao.numQuestao;

                                    while (num == telas.jogo.capitulo2.fase3.principal.questao.numQuestao) {
                                        num = telas.jogo.capitulo2.fase3.principal.questao.numQuestao;
                                        telas.jogo.capitulo2.fase3.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo2.fase3.principal.questao.banco.length);
                                    }
                                    
                                    telas.jogo.capitulo2.fase3.principal.questao.quantQuestoes ++;
                                }
                                
                                else {
                                    telas.jogo.capitulo2.fase3.parte = 3;
                                }

                                this.resposta = "";
                                telas.jogo.capitulo2.fase3.principal.temporizador.texto = 10;
                                telas.jogo.capitulo2.fase3.principal.temporizador.counter = 0;
                            }

                            else if (letra == "Backspace") {
                                this.resposta = this.resposta.substring(0, this.resposta.length - 1);
                            }

                            else {
                                if (this.resposta.length < 12) {
                                    this.resposta += letra;
                                }
                                
                                else {
                                    alert("Número máximo de caracteres excedido!");
                                }
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;

                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 10;
                                    if (telas.jogo.capitulo2.fase3.principal.questao.quantQuestoes < 10) {
                                        let num = telas.jogo.capitulo2.fase3.principal.questao.numQuestao;

                                        while (num == telas.jogo.capitulo2.fase3.principal.questao.numQuestao) {
                                            num = telas.jogo.capitulo2.fase3.principal.questao.numQuestao;
                                            telas.jogo.capitulo2.fase3.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo2.fase3.principal.questao.banco.length);
                                        }

                                        telas.jogo.capitulo2.fase3.principal.questao.quantQuestoes ++;
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo2.fase3.parte = 3;
                                    }
    
                                    telas.jogo.capitulo2.fase3.principal.solucao.resposta = "";
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo2.fase3.allowBotoes) {
                            if (telas.jogo.capitulo2.fase3.points >= 7 || banco.capitulo2.fase3_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo2.fase3_pass = true;
                                    telas.lobby.capitulos[1].fase_4 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo2.fase3.points >= 7 || banco.capitulo2.fase3_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo2.fase3.points >= 7 || banco.capitulo2.fase3_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo2.fase3.points >= 7 || banco.capitulo2.fase3_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo2.fase3.points >= 7 || banco.capitulo2.fase3_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo2.fase3.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo2.fase3.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo2.fase3.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo2.fase3.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo2.fase3.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo2.fase3.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo2.fase3.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo2.fase3.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo2.fase3.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase4: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.resposta = "";
                    this.principal.solucao.alpha = 0;
                    this.principal.solucao.aparecendo = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            this.solucao.desenha();
                            this.temporizador.desenha();
                            this.questao.desenha();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Resolva a operação", canvas.width / 2, canvas.height / 2 + 150);
                            ctx.textAlign = "center";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.fillText("Clique para continuar", canvas.width / 2, canvas.height - 30);
                        }

                        else {
                            telas.jogo.capitulo2.fase4.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    questao: {
                        banco: [
                            {conta: "raiz²(49)", resposta: 7},
                            {conta: "raiz²(64)", resposta: 8},
                            {conta: "raiz²(36)", resposta: 6},
                            {conta: "raiz²(4)", resposta: 2},
                            {conta: "raiz²(1)", resposta: 1},
                            {conta: "raiz²(81)", resposta: 9},
                            {conta: "raiz²(25)", resposta: 5},
                            {conta: "raiz²(100)", resposta: 10},
                            {conta: "raiz²(16)", resposta: 4},
                            {conta: "raiz²(9)", resposta: 3},
                            {conta: "raiz²(144)", resposta: 12},
                            {conta: "4²", resposta: 16},
                            {conta: "1²", resposta: 1},
                            {conta: "10²", resposta: 100},
                            {conta: "5²", resposta: 25},
                            {conta: "7²", resposta: 49},
                            {conta: "11²", resposta: 121},
                            {conta: "8²", resposta: 64},
                            {conta: "2²", resposta: 4},
                            {conta: "6²", resposta: 36},
                            {conta: "3²", resposta: 9},
                            {conta: "9²", resposta: 81},
                            {conta: "12²", resposta: 144},
                            {conta: "0²", resposta: 0},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "center";
                            ctx.font = "100px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 50);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.lineWidth = 3;

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);
                        },

                        atualiza() {
                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 10;
                                    if (telas.jogo.capitulo2.fase4.principal.questao.quantQuestoes < 10) {
                                        telas.jogo.capitulo2.fase4.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo2.fase4.principal.questao.banco.length);
                                        telas.jogo.capitulo2.fase4.principal.questao.quantQuestoes ++;
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo2.fase4.parte = 3;
                                    }
    
                                    telas.jogo.capitulo2.fase4.principal.solucao.resposta = "";
                                }

                                this.counter = 0;
                            }
                        },
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 4",
                        descricao: "Potenciação e radiciação",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo2.fase4.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {conta: "raiz²(49)", resposta: 7},
                            {conta: "raiz²(64)", resposta: 8},
                            {conta: "raiz²(36)", resposta: 6},
                            {conta: "raiz²(4)", resposta: 2},
                            {conta: "raiz²(1)", resposta: 1},
                            {conta: "raiz²(81)", resposta: 9},
                            {conta: "raiz²(25)", resposta: 5},
                            {conta: "raiz²(100)", resposta: 10},
                            {conta: "raiz²(16)", resposta: 4},
                            {conta: "raiz²(9)", resposta: 3},
                            {conta: "raiz²(144)", resposta: 12},
                            {conta: "4²", resposta: 16},
                            {conta: "1²", resposta: 1},
                            {conta: "10²", resposta: 100},
                            {conta: "5²", resposta: 25},
                            {conta: "7²", resposta: 49},
                            {conta: "11²", resposta: 121},
                            {conta: "8²", resposta: 64},
                            {conta: "2²", resposta: 4},
                            {conta: "6²", resposta: 36},
                            {conta: "3²", resposta: 9},
                            {conta: "9²", resposta: 81},
                            {conta: "12²", resposta: 144},
                            {conta: "0²", resposta: 0},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "center";
                            ctx.font = "100px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 50);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.lineWidth = 3;

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }
                        },

                        inputs(letra) {
                            if (letra == "Enter") {
                                if (this.resposta == telas.jogo.capitulo2.fase4.principal.questao.banco[telas.jogo.capitulo2.fase4.principal.questao.numQuestao].resposta) {
                                    
                                    telas.jogo.capitulo2.fase4.points ++;
                                }

                                if (telas.jogo.capitulo2.fase4.principal.questao.quantQuestoes < 10) {
                                    let num = telas.jogo.capitulo2.fase4.principal.questao.numQuestao;
                                    
                                    while (num == telas.jogo.capitulo2.fase4.principal.questao.numQuestao) {
                                        num = telas.jogo.capitulo2.fase4.principal.questao.numQuestao;
                                        telas.jogo.capitulo2.fase4.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo2.fase4.principal.questao.banco.length);
                                    }

                                    telas.jogo.capitulo2.fase4.principal.questao.quantQuestoes ++;
                                }
                                
                                else {
                                    telas.jogo.capitulo2.fase4.parte = 3;
                                }

                                this.resposta = "";
                                telas.jogo.capitulo2.fase4.principal.temporizador.texto = 10;
                                telas.jogo.capitulo2.fase4.principal.temporizador.counter = 0;
                            }

                            else if (letra == "Backspace") {
                                this.resposta = this.resposta.substring(0, this.resposta.length - 1);
                            }

                            else {
                                if (this.resposta.length < 12) {
                                    this.resposta += letra;
                                }
                                
                                else {
                                    alert("Número máximo de caracteres excedido!");
                                }
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;

                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 68);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 10;
                                    if (telas.jogo.capitulo2.fase4.principal.questao.quantQuestoes < 10) {
                                        let num = telas.jogo.capitulo2.fase4.principal.questao.numQuestao;

                                        while (num == telas.jogo.capitulo2.fase4.principal.questao.numQuestao) {
                                            telas.jogo.capitulo2.fase4.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo2.fase4.principal.questao.banco.length);
                                        }

                                        telas.jogo.capitulo2.fase4.principal.questao.quantQuestoes ++;
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo2.fase4.parte = 3;
                                    }
    
                                    telas.jogo.capitulo2.fase4.principal.solucao.resposta = "";
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo2.fase4.allowBotoes) {
                            if (telas.jogo.capitulo2.fase4.points >= 7 || banco.capitulo2.fase4_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo2.fase4_pass = true;
                                    telas.lobby.capitulos[1].fase_5 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo2.fase4.points >= 7 || banco.capitulo2.fase4_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo2.fase4.points >= 7 || banco.capitulo2.fase4_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo2.fase4.points >= 7 || banco.capitulo2.fase4_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo2.fase4.points >= 7 || banco.capitulo2.fase4_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo2.fase4.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo2.fase4.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo2.fase4.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo2.fase4.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo2.fase4.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo2.fase4.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo2.fase4.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo2.fase4.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo2.fase4.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase5: {
                parte: 1,
                aprovado: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.aprovado = false;
                    this.parte = 1;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;
                    this.inicio.titulo.counter = 0;

                    this.principal.questao.numQuestao = 0;
                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.click = false;
                    this.principal.solucao.counter = 0;
                    this.principal.solucao.counter1 = 0;
                    this.principal.solucao.alter = null;
                    this.principal.allowClick = true;

                    this.principal.banco = [];

                    this.principal.solucao.alters.forEach(item => {
                        item.hover = false;
                    })

                    this.principal.temporizador.texto = 15;
                    this.principal.temporizador.counter = 0;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.play.hover = false;
                    this.final.text.onload = true;
                    this.final.text.onload1 = true;
                    this.final.text.spriteX = 0;
                    this.final.text.counter = 0;
                    this.final.text.counter1 = 0;
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },
                    },

                    titulo: {
                        nome: "Fase 5",
                        descricao: "O segundo desafio",
                        entrando: true,
                        saindo: false,
                        counter: 0,
                        alpha: 0,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.font = "120px 'Share Tech Mono'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.nome, canvas.width / 2, canvas.height / 2);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.fillText(this.descricao, canvas.width / 2, canvas.height / 2 + 200);
                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;

                                if (this.alpha >= 0.99) {
                                    this.counter ++;

                                    if (this.counter >= 100) {
                                        this.entrando = false;
                                        this.saindo = true;
                                    }
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo2.fase5.parte ++;
                                }
                            }
                        }
                    },
                },

                principal: {
                    allowClick: true,

                    banco: [],

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();
                    },

                    verificaOrdem(numPergunta) {
                        for (let i = 0; i < this.banco.length; i++) {
                            if (this.banco[i].numPergunta == numPergunta) {
                                return false;
                            }
                        }

                        this.banco.push(
                            {numPergunta: numPergunta}
                        );

                        return true;
                    },

                    background: {
                        spr: new Image(),
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )
                            
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {pergunta: "5 + 8 x 2", alter1: "26", alter2: "21", alter3: "16", alter4: "18", resposta: 2},
                            {pergunta: "79 : (80 - 1)", alter1: "1", alter2: "0", alter3: "1/80", alter4: "-1/80", resposta: 1},
                            {pergunta: "45 + 90 : 2", alter1: "2", alter2: "45", alter3: "67,5", alter4: "90", resposta: 4},
                            {pergunta: "78y = 156", alter1: "y = 10", alter2: "y = 2", alter3: "y = 20", alter4: "y = -2", resposta: 2},
                            {pergunta: "y³ = 10 - raiz²(4)", alter1: "y = 4", alter2: "y = 3", alter3: "y = 2", alter4: "y = 1", resposta: 3},
                            {pergunta: "34y + 16y = 100", alter1: "y = 0", alter2: "y = 100", alter3: "y = 1", alter4: "y = 2", resposta: 4},
                            {pergunta: "42y = 21y + 210", alter1: "y = 10", alter2: "y = 21", alter3: "y = 100", alter4: "y = -10", resposta: 1},
                            {pergunta: "600y² = 600y", alter1: "y = 1", alter2: "y = 0", alter3: "y = -1", alter4: "y = 2", resposta: 1},
                            {pergunta: "150 - 30y = 120y", alter1: "y = 150", alter2: "y = 10", alter3: "y = 1", alter4: "y = 0", resposta: 3},
                            {pergunta: "30 - 6 x 10 + 5", alter1: "245", alter2: "-25", alter3: "35", alter4: "25", resposta: 2},
                        ],

                        square: {
                            x: canvas.width / 2 - 500,
                            y: 10,
                            larg: 1000,
                            alt: 250,
                        },

                        numQuestao: 0,
                        quantQuestoes: 1,
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.textAlign = "center";
                            ctx.font = "55px 'Silkscreen'";
                            ctx.fillStyle = "black";
                            ctx.fillText(this.banco[this.numQuestao].pergunta, this.square.x + this.square.larg / 2 + 5, this.square.y + this.square.alt / 2 + 15 + 5);

                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].pergunta, this.square.x + this.square.larg / 2, this.square.y + this.square.alt / 2 + 15);
                        
                            ctx.lineWidth = 5;
                            ctx.strokeStyle = "black";

                            if (this.numQuestao < 4 || this.numQuestao == 7) {
                                ctx.beginPath();
                                ctx.moveTo(this.square.x + this.square.larg / 2 - 250 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                ctx.lineTo(this.square.x + this.square.larg / 2 + 250 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                ctx.stroke();
                                ctx.closePath();

                                ctx.strokeStyle = "white";
                                ctx.beginPath();
                                ctx.moveTo(this.square.x + this.square.larg / 2 - 250, this.square.y + this.square.alt / 2 + 35);
                                ctx.lineTo(this.square.x + this.square.larg / 2 + 250, this.square.y + this.square.alt / 2 + 35);
                                ctx.stroke();
                                ctx.closePath();
                            }

                            else {
                                ctx.beginPath();
                                ctx.moveTo(this.square.x + this.square.larg / 2 - 350 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                ctx.lineTo(this.square.x + this.square.larg / 2 + 350 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                ctx.stroke();
                                ctx.closePath();

                                ctx.strokeStyle = "white";
                                ctx.beginPath();
                                ctx.moveTo(this.square.x + this.square.larg / 2 - 350, this.square.y + this.square.alt / 2 + 35);
                                ctx.lineTo(this.square.x + this.square.larg / 2 + 350, this.square.y + this.square.alt / 2 + 35);
                                ctx.stroke();
                                ctx.closePath();
                            }
                        },

                        atualiza() {
                            if (this.onload) {
                                this.quantQuestoes ++;
                                this.onload = false;

                                do {
                                    this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                } while(!telas.jogo.capitulo2.fase5.principal.verificaOrdem(this.numQuestao));

                                telas.jogo.capitulo2.fase5.principal.solucao.alters[0].text = this.banco[this.numQuestao].alter1;
                                telas.jogo.capitulo2.fase5.principal.solucao.alters[1].text = this.banco[this.numQuestao].alter2;
                                telas.jogo.capitulo2.fase5.principal.solucao.alters[2].text = this.banco[this.numQuestao].alter3;
                                telas.jogo.capitulo2.fase5.principal.solucao.alters[3].text = this.banco[this.numQuestao].alter4;
                            }
                        },
                    },

                    solucao: {
                        click: false,
                        alter: 0,
                        counter: 0,
                        counter1: 0,

                        desenha() {
                            for (let i = 0; i < this.alters.length; i++) {
                                this.alters[i].desenha();
                            }

                            if (this.click) {
                                this.counter ++;
                                telas.jogo.capitulo2.fase5.principal.allowClick = false;

                                if (this.counter >= 75) {
                                    if (this.alter != telas.jogo.capitulo2.fase5.principal.questao.banco[telas.jogo.capitulo2.fase5.principal.questao.numQuestao].resposta) {
                                        telas.jogo.capitulo2.fase5.parte ++;
                                        telas.jogo.capitulo2.fase5.aprovado = false;
                                    }

                                    if (telas.jogo.capitulo2.fase5.principal.questao.quantQuestoes < 10) {
                                        telas.jogo.capitulo2.fase5.principal.questao.quantQuestoes ++;

                                        do {
                                            telas.jogo.capitulo2.fase5.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo2.fase5.principal.questao.banco.length);
                                        } while (!telas.jogo.capitulo2.fase5.principal.verificaOrdem(telas.jogo.capitulo2.fase5.principal.questao.numQuestao));
                                    
                                        this.alters[0].text = telas.jogo.capitulo2.fase5.principal.questao.banco[telas.jogo.capitulo2.fase5.principal.questao.numQuestao].alter1;
                                        this.alters[1].text = telas.jogo.capitulo2.fase5.principal.questao.banco[telas.jogo.capitulo2.fase5.principal.questao.numQuestao].alter2;
                                        this.alters[2].text = telas.jogo.capitulo2.fase5.principal.questao.banco[telas.jogo.capitulo2.fase5.principal.questao.numQuestao].alter3;
                                        this.alters[3].text = telas.jogo.capitulo2.fase5.principal.questao.banco[telas.jogo.capitulo2.fase5.principal.questao.numQuestao].alter4;
                                    }

                                    else {
                                        telas.jogo.capitulo2.fase5.parte ++;
                                        telas.jogo.capitulo2.fase5.aprovado = true;
                                    }

                                    this.alter = 0;
                                    this.click = false;
                                    this.counter = 0;
                                    telas.jogo.capitulo2.fase5.principal.allowClick = true;
                                }

                                telas.jogo.capitulo2.fase5.principal.temporizador.counter = 0;
                                telas.jogo.capitulo2.fase5.principal.temporizador.texto = 15;
                            }
                        },

                        alters: [
                            {
                                x: canvas.width / 2 - 510,
                                y: 350,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo2.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo2.fase5.principal.questao.banco[telas.jogo.capitulo2.fase5.principal.questao.numQuestao].resposta - 1 == 0) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 - 510,
                                y: 500,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo2.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo2.fase5.principal.questao.banco[telas.jogo.capitulo2.fase5.principal.questao.numQuestao].resposta - 1 == 1) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 + 10,
                                y: 350,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo2.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo2.fase5.principal.questao.banco[telas.jogo.capitulo2.fase5.principal.questao.numQuestao].resposta - 1 == 2) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 + 10,
                                y: 500,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo2.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo2.fase5.principal.questao.banco[telas.jogo.capitulo2.fase5.principal.questao.numQuestao].resposta - 1 == 3) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            }
                        ]
                    },
                    
                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 15,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;

                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 68);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 10) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 6) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 15;

                                    telas.jogo.capitulo2.fase5.principal.solucao.click = true;
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.text.desenha();

                        if (telas.jogo.capitulo2.fase5.aprovado || banco.capitulo2.fase5_pass) {
                            this.botoes.play.desenha();

                            if (this.onload) {
                                banco.capitulo2.fase5_pass = true;
                                telas.lobby.capitulos[2].fase_1 = false;
                                this.onload = false;
                            }
                        }
                        
                        this.botoes.exit.desenha();
                        this.botoes.retry.desenha();
                    },

                    text: {
                        s: new Image(),
                        onload: true,
                        onload1: true,

                        larg: 200,
                        spriteX: 0,
                        counter: 0,
                        counter1: 0,
                        texto: "",

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.s,
                                this.spriteX, 0,
                                this.larg, 200,
                                canvas.width / 2 - 100, canvas.height / 2 - 200,
                                200, 200
                            )
                        },

                        atualiza() {
                            if (this.onload) {
                                this.s.src = "./sprites/jogo/star/no colected.png";
                                this.onload = false;
                            }

                            if (this.counter >= 60) {
                                if (telas.jogo.capitulo2.fase5.aprovado) {
                                    if (this.onload1) {
                                        this.s.src = "./sprites/jogo/star/yes colected.png";
                                        this.larg = 200;
                                        this.onload1 = false;
                                    }

                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX < 2400) {
                                            this.spriteX += 200;
                                        }

                                        else {
                                            this.spriteX = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }
                            }

                            else {
                                this.counter ++;
                            }
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(canvas.width / 2 - 120, canvas.height / 2 - 200, 240, 220);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(canvas.width / 2 - 120, canvas.height / 2 - 200, 240, 220);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo2/spr - cap 2.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
         
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo2.fase5.points >= 7 || banco.capitulo2.fase5_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo2.fase5.points >= 7 || banco.capitulo2.fase5_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo2.fase5.points >= 7 || banco.capitulo2.fase5_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo2.fase5.points >= 7 || banco.capitulo2.fase5_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },
                },
            },
        },

        capitulo3: {
            //ingles

            fase1: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.resposta = "";
                    this.principal.solucao.alpha = 0;
                    this.principal.solucao.aparecendo = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            this.solucao.desenha();
                            this.temporizador.desenha();
                            this.questao.desenha();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Traduza os termos", canvas.width / 2, canvas.height / 2);

                            ctx.textAlign = "center";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.fillText("Clique para continuar", canvas.width / 2, canvas.height - 30);
                        }

                        else {
                            telas.jogo.capitulo3.fase1.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    questao: {
                        banco: [
                            {conta: "Pencil", resposta: "lapis"},
                            {conta: "Key", resposta: "chave"},
                            {conta: "Table", resposta: "mesa"},
                            {conta: "Chair", resposta: "cadeira"},
                            {conta: "Pen", resposta: "caneta"},
                            {conta: "Bed", resposta: "cama"},
                            {conta: "Ball", resposta: "bola"},
                            {conta: "Book", resposta: "livro"},
                            {conta: "Cup", resposta: "copo"},
                            {conta: "Bottle", resposta: "garrafa"},
                            {conta: "Car", resposta: "carro"},
                            {conta: "Airplane", resposta: "aviao"},
                            {conta: "Lamp", resposta: "lampada"},
                            {conta: "Bag", resposta: "bolsa"},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "center";
                            ctx.font = "100px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 50);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.lineWidth = 3;

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);
                        },
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 1",
                        descricao: "Objetos em inglês",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo3.fase1.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {conta: "Pencil", resposta: "lapis"},
                            {conta: "Key", resposta: "chave"},
                            {conta: "Table", resposta: "mesa"},
                            {conta: "Chair", resposta: "cadeira"},
                            {conta: "Pen", resposta: "caneta"},
                            {conta: "Bed", resposta: "cama"},
                            {conta: "Ball", resposta: "bola"},
                            {conta: "Book", resposta: "livro"},
                            {conta: "Cup", resposta: "copo"},
                            {conta: "Bottle", resposta: "garrafa"},
                            {conta: "Car", resposta: "carro"},
                            {conta: "Airplane", resposta: "aviao"},
                            {conta: "Lamp", resposta: "lampada"},
                            {conta: "Bag", resposta: "bolsa"},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "center";
                            ctx.font = "100px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 50);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.lineWidth = 3;

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }
                        },

                        inputs(letra) {
                            if (letra == "Enter") {
                                if (this.resposta == telas.jogo.capitulo3.fase1.principal.questao.banco[telas.jogo.capitulo3.fase1.principal.questao.numQuestao].resposta) {
                                    
                                    telas.jogo.capitulo3.fase1.points ++;
                                }

                                if (telas.jogo.capitulo3.fase1.principal.questao.quantQuestoes < 10) {
                                    let num = telas.jogo.capitulo3.fase1.principal.questao.numQuestao;

                                    while (num == telas.jogo.capitulo3.fase1.principal.questao.numQuestao) {
                                        telas.jogo.capitulo3.fase1.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo3.fase1.principal.questao.banco.length);
                                    }

                                    telas.jogo.capitulo3.fase1.principal.questao.quantQuestoes ++;
                                }
                                
                                else {
                                    telas.jogo.capitulo3.fase1.parte = 3;
                                }

                                this.resposta = "";
                                telas.jogo.capitulo3.fase1.principal.temporizador.texto = 10;
                                telas.jogo.capitulo3.fase1.principal.temporizador.counter = 0;
                            }

                            else if (letra == "Backspace") {
                                this.resposta = this.resposta.substring(0, this.resposta.length - 1);
                            }

                            else {
                                if (this.resposta.length < 12) {
                                    this.resposta += letra;
                                }
                                
                                else {
                                    alert("Número máximo de caracteres excedido!");
                                }
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 10;
                                    if (telas.jogo.capitulo3.fase1.principal.questao.quantQuestoes < 10) {
                                        let num = telas.jogo.capitulo3.fase1.principal.questao.numQuestao;

                                        while (num == telas.jogo.capitulo3.fase1.principal.questao.numQuestao) {
                                            telas.jogo.capitulo3.fase1.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo3.fase1.principal.questao.banco.length);
                                        }

                                        telas.jogo.capitulo3.fase1.principal.questao.quantQuestoes ++;
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo3.fase1.parte = 3;
                                    }
    
                                    telas.jogo.capitulo3.fase1.principal.solucao.resposta = "";
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo3.fase1.allowBotoes) {
                            if (telas.jogo.capitulo3.fase1.points >= 7 || banco.capitulo3.fase1_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    telas.lobby.capitulos[2].fase_2 = false;
                                    banco.capitulo3.fase1_pass = true;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo3.fase1.points >= 7 || banco.capitulo3.fase1_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo3.fase1.points >= 7 || banco.capitulo3.fase1_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo3.fase1.points >= 7 || banco.capitulo3.fase1_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo3.fase1.points >= 7 || banco.capitulo3.fase1_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo3.fase1.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo3.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo3.fase1.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo3.fase1.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo3.fase1.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo3.fase1.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo3.fase1.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo3.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo3.fase1.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase2: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.resposta = "";
                    this.principal.solucao.alpha = 0;
                    this.principal.solucao.aparecendo = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            this.solucao.desenha();
                            this.temporizador.desenha();
                            this.questao.desenha();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Traduza os termos", canvas.width / 2, canvas.height / 2);
                            ctx.textAlign = "center";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.fillText("Clique para continuar", canvas.width / 2, canvas.height - 30);
                        }

                        else {
                            telas.jogo.capitulo3.fase2.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    questao: {
                        banco: [
                            {conta: "One", resposta: "um"},
                            {conta: "Two", resposta: "dois"},
                            {conta: "Three", resposta: "tres"},
                            {conta: "Four", resposta: "quatro"},
                            {conta: "Five", resposta: "cinco"},
                            {conta: "Six", resposta: "seis"},
                            {conta: "Seven", resposta: "sete"},
                            {conta: "Eight", resposta: "oito"},
                            {conta: "Nine", resposta: "nove"},
                            {conta: "Ten", resposta: "dez"},
                            {conta: "Eleven", resposta: "onze"},
                            {conta: "Twelve", resposta: "doze"},
                            {conta: "Thirteen", resposta: "treze"},
                            {conta: "Fourteen", resposta: "quatorze"},
                            {conta: "Fifteen", resposta: "quinze"},
                            {conta: "Sixteen", resposta: "dezesseis"},
                            {conta: "Seventeen", resposta: "dezessete"},
                            {conta: "Zero", resposta: "zero"},
                            {conta: "eighteen", resposta: "dezoito"},
                            {conta: "nineteen", resposta: "dezenove"},
                            {conta: "twenty", resposta: "vinte"},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "center";
                            ctx.font = "100px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 50);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.lineWidth = 3;

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);
                        },
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 2",
                        descricao: "Números em inglês",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo3.fase2.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {conta: "One", resposta: "um"},
                            {conta: "Two", resposta: "dois"},
                            {conta: "Three", resposta: "tres"},
                            {conta: "Four", resposta: "quatro"},
                            {conta: "Five", resposta: "cinco"},
                            {conta: "Six", resposta: "seis"},
                            {conta: "Seven", resposta: "sete"},
                            {conta: "Eight", resposta: "oito"},
                            {conta: "Nine", resposta: "nove"},
                            {conta: "Ten", resposta: "dez"},
                            {conta: "Eleven", resposta: "onze"},
                            {conta: "Twelve", resposta: "doze"},
                            {conta: "Thirteen", resposta: "treze"},
                            {conta: "Fourteen", resposta: "quatorze"},
                            {conta: "Fifteen", resposta: "quinze"},
                            {conta: "Sixteen", resposta: "dezesseis"},
                            {conta: "Seventeen", resposta: "dezessete"},
                            {conta: "Zero", resposta: "zero"},
                            {conta: "eighteen", resposta: "dezoito"},
                            {conta: "nineteen", resposta: "dezenove"},
                            {conta: "twenty", resposta: "vinte"},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "center";
                            ctx.font = "100px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 50);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.lineWidth = 3;
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }
                        },

                        inputs(letra) {
                            if (letra == "Enter") {
                                if (this.resposta == telas.jogo.capitulo3.fase2.principal.questao.banco[telas.jogo.capitulo3.fase2.principal.questao.numQuestao].resposta) {
                                    
                                    telas.jogo.capitulo3.fase2.points ++;
                                }

                                if (telas.jogo.capitulo3.fase2.principal.questao.quantQuestoes < 10) {
                                    let num = telas.jogo.capitulo3.fase2.principal.questao.numQuestao;

                                    while (num == telas.jogo.capitulo3.fase2.principal.questao.numQuestao) {
                                        telas.jogo.capitulo3.fase2.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo3.fase2.principal.questao.banco.length);
                                    }

                                    telas.jogo.capitulo3.fase2.principal.questao.quantQuestoes ++;
                                }
                                
                                else {
                                    telas.jogo.capitulo3.fase2.parte = 3;
                                }

                                this.resposta = "";
                                telas.jogo.capitulo3.fase2.principal.temporizador.texto = 10;
                                telas.jogo.capitulo3.fase2.principal.temporizador.counter = 0;
                            }

                            else if (letra == "Backspace") {
                                this.resposta = this.resposta.substring(0, this.resposta.length - 1);
                            }

                            else {
                                if (this.resposta.length < 12) {
                                    this.resposta += letra;
                                }
                                
                                else {
                                    alert("Número máximo de caracteres excedido!");
                                }
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 10;
                                    if (telas.jogo.capitulo3.fase2.principal.questao.quantQuestoes < 10) {
                                        let num = telas.jogo.capitulo3.fase2.principal.questao.numQuestao;

                                        while (num == telas.jogo.capitulo3.fase2.principal.questao.numQuestao) {
                                            telas.jogo.capitulo3.fase2.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo3.fase2.principal.questao.banco.length);
                                        }
                                        
                                        telas.jogo.capitulo3.fase2.principal.questao.quantQuestoes ++;
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo3.fase2.parte = 3;
                                    }
    
                                    telas.jogo.capitulo3.fase2.principal.solucao.resposta = "";
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo3.fase2.allowBotoes) {
                            if (telas.jogo.capitulo3.fase2.points >= 7 || banco.capitulo3.fase2_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo3.fase2_pass = true;
                                    telas.lobby.capitulos[2].fase_3 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo3.fase2.points >= 7 || banco.capitulo3.fase2_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo3.fase2.points >= 7 || banco.capitulo3.fase2_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo3.fase2.points >= 7 || banco.capitulo3.fase2_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo3.fase2.points >= 7 || banco.capitulo3.fase2_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo3.fase2.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo3.fase2.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo3.fase2.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo3.fase2.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo3.fase2.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo3.fase2.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo3.fase2.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo3.fase2.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo3.fase2.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase3: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.resposta = "";
                    this.principal.solucao.alpha = 0;
                    this.principal.solucao.aparecendo = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.play.hover = false;
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            this.solucao.desenha();
                            this.temporizador.desenha();
                            this.questao.desenha();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Traduza os termos", canvas.width / 2, canvas.height / 2);
                            ctx.textAlign = "center";
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.fillText("Clique para continuar", canvas.width / 2, canvas.height - 30);
                        }

                        else {
                            telas.jogo.capitulo3.fase3.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    questao: {
                        banco: [
                            {conta: "yellow", resposta: 7},
                            {conta: "gray", resposta: 8},
                            {conta: "black", resposta: 6},
                            {conta: "purple", resposta: 2},
                            {conta: "red", resposta: 1},
                            {conta: "white", resposta: 9},
                            {conta: "blue", resposta: 5},
                            {conta: "green", resposta: 10},
                            {conta: "brown", resposta: 4},
                            {conta: "orange", resposta: 3},
                            {conta: "cyan", resposta: 12},
                            {conta: "pink", resposta: 16},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "center";
                            ctx.font = "100px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 50);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);
                        },
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 3",
                        descricao: "Cores em inglês",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo3.fase3.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {conta: "yellow", resposta: "amarelo"},
                            {conta: "gray", resposta: "cinza"},
                            {conta: "black", resposta: "preto"},
                            {conta: "purple", resposta: "roxo"},
                            {conta: "red", resposta: "vermelho"},
                            {conta: "white", resposta: "branco"},
                            {conta: "blue", resposta: "azul"},
                            {conta: "green", resposta: "verde"},
                            {conta: "brown", resposta: "marrom"},
                            {conta: "orange", resposta: "laranja"},
                            {conta: "cyan", resposta: "ciano"},
                            {conta: "pink", resposta: "rosa"},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "center";
                            ctx.font = "100px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].conta, canvas.width / 2, canvas.height / 2 - 50);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                this.atualiza();
                            }
                        },

                        inputs(letra) {
                            if (letra == "Enter") {
                                if (this.resposta == telas.jogo.capitulo3.fase3.principal.questao.banco[telas.jogo.capitulo3.fase3.principal.questao.numQuestao].resposta) {
                                    telas.jogo.capitulo3.fase3.points ++;
                                }

                                if (telas.jogo.capitulo3.fase3.principal.questao.quantQuestoes < 10) {
                                    telas.jogo.capitulo3.fase3.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo3.fase3.principal.questao.banco.length);
                                    telas.jogo.capitulo3.fase3.principal.questao.quantQuestoes ++;
                                }
                                
                                else {
                                    telas.jogo.capitulo3.fase3.parte = 3;
                                }

                                this.resposta = "";
                                telas.jogo.capitulo3.fase3.principal.temporizador.texto = 10;
                                telas.jogo.capitulo3.fase3.principal.temporizador.counter = 0;
                            }

                            else if (letra == "Backspace") {
                                this.resposta = this.resposta.substring(0, this.resposta.length - 1);
                            }

                            else {
                                if (this.resposta.length < 12) {
                                    this.resposta += letra;
                                }
                                
                                else {
                                    alert("Número máximo de caracteres excedido!");
                                }
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 10;

                                    if (telas.jogo.capitulo3.fase3.principal.questao.quantQuestoes < 10) {
                                        let num = telas.jogo.capitulo3.fase3.principal.questao.numQuestao;

                                        while (num == telas.jogo.capitulo3.fase3.principal.questao.numQuestao) {
                                            telas.jogo.capitulo3.fase3.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo3.fase3.principal.questao.banco.length);
                                        }

                                        telas.jogo.capitulo3.fase3.principal.questao.quantQuestoes ++;
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo3.fase3.parte = 3;
                                    }
    
                                    telas.jogo.capitulo3.fase3.principal.solucao.resposta = "";
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo3.fase3.allowBotoes) {
                            if (telas.jogo.capitulo3.fase3.points >= 7 || banco.capitulo3.fase3_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo3.fase3_pass = true;
                                    telas.lobby.capitulos[2].fase_4 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo3.fase3.points >= 7 || banco.capitulo3.fase3_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo3.fase3.points >= 7 || banco.capitulo3.fase3_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo3.fase3.points >= 7 || banco.capitulo3.fase3_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo3.fase3.points >= 7 || banco.capitulo3.fase3_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo3.fase3.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo3.fase3.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo3.fase3.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo3.fase3.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo3.fase3.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo3.fase3.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo3.fase3.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo3.fase3.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo3.fase3.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase4: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 5;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 4",
                        descricao: "Expressões em inglês",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo3.fase4.parte ++;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,

                    desenha() {
                        this.atualiza();

                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();

                        ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                        ctx.fillRect(0, 0, canvas.width, canvas.height);

                        ctx.font = "50px 'Silkscreen'";
                        ctx.textAlign = "center";
                        ctx.fillStyle = "white";
                        ctx.fillText("Selecione a opção que traduz", canvas.width / 2, canvas.height / 2 - 30);
                        ctx.fillText("corretamente as expressões", canvas.width / 2, canvas.height / 2 + 35);

                        ctx.textAlign = "center";
                        ctx.font = "30px 'Silkscreen'";
                        ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                        ctx.fillText("Clique para continuar", canvas.width / 2, canvas.height - 30);

                        if (this.parte == 2) {
                            telas.jogo.capitulo3.fase4.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {pergunta: "Good morning", alter1: "Bom dia", alter2: "Boa manhã", alter3: "Boa tarde", alter4: "Bom amanhecer", resposta: 1},
                            {pergunta: "Good night", alter1: "Boa noite", alter2: "Boa tarde", alter3: "Bom adormecer", alter4: "Noite boa", resposta: 1},
                            {pergunta: "Good afternoon", alter1: "Tarde incrível", alter2: "Dia belo", alter3: "Bom dia", alter4: "Boa tarde", resposta: 4},
                            {pergunta: "How are you?", alter1: "Você está bem?", alter2: "Como você está?", alter3: "Você está aqui?", alter4: "Como chegou aqui?", resposta: 2},
                            {pergunta: "What's your name?", alter1: "Meu nome é?", alter2: "Seu nome é?", alter3: "Qual é o seu nome?", alter4: "Seu nome, qual é?", resposta: 3},
                            {pergunta: "My name is...", alter1: "Mas meu nome é...", alter2: "Nosso nome é...", alter3: "Seu nome é...", alter4: "Meu nome é...", resposta: 4},
                            {pergunta: "The book is open", alter1: "O livro está aberto", alter2: "O livro está fechado", alter3: "O livro é longo", alter4: "O livro é curto", resposta: 1},
                            {pergunta: "The house is blue", alter1: "A casa é azul", alter2: "O céu é azul", alter3: "A rua é azul", alter4: "O pássaro é azul", resposta: 1},
                            {pergunta: "I love you", alter1: "Você não me ama", alter2: "Você me ama", alter3: "Eu te amo", alter4: "Eu não te amo", resposta: 3},
                            {pergunta: "But i need...", alter1: "Mas eu não preciso...", alter2: "Mas eu preciso...", alter3: "Mas eu quero...", alter4: "Mas eu não quero...", resposta: 2},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(canvas.width / 2 - 500, 10, 1000, 175);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "rgba(255, 255, 255, 0.8)";
                            ctx.strokeRect(canvas.width / 2 - 500, 10, 1000, 175);

                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.font = "50px 'Silkscreen'";
                            ctx.fillText(this.banco[this.numQuestao].pergunta, canvas.width / 2, 109);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        click: false,
                        x: canvas.width / 2 - 510 - 100,
                        x1: canvas.width / 2 + 10, 
                        y1: 350,
                        y2: 500,
                        y3: 350,
                        y4: 500,
                        largura: 600,
                        altura: 100,
                        alter: 0,
                        counter: 0,
                        counter1: 0,
                        numProblema: 0,

                        desenha() {
                            ctx.fillStyle = "rgba(60, 140, 60, 0.8)";
                            ctx.fillRect(this.x, this.y1, this.largura, this.altura);
                            ctx.fillRect(this.x, this.y2, this.largura, this.altura);
                            ctx.fillRect(this.x1, this.y3, this.largura, this.altura);
                            ctx.fillRect(this.x1, this.y4, this.largura, this.altura);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "rgba(0, 0, 0, 0.7)";

                            ctx.strokeRect(this.x, this.y1, this.largura, this.altura);
                            ctx.strokeRect(this.x, this.y2, this.largura, this.altura);
                            ctx.strokeRect(this.x1, this.y3, this.largura, this.altura);
                            ctx.strokeRect(this.x1, this.y4, this.largura, this.altura);

                            ctx.textAlign = "center";
                            ctx.font = "40px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(telas.jogo.capitulo3.fase4.principal.questao.banco[telas.jogo.capitulo3.fase4.principal.questao.numQuestao].alter1, this.x + this.largura / 2, this.y1 + this.altura / 2 + 15);
                            ctx.fillText(telas.jogo.capitulo3.fase4.principal.questao.banco[telas.jogo.capitulo3.fase4.principal.questao.numQuestao].alter2, this.x + this.largura / 2, this.y2 + this.altura / 2 + 15);
                            ctx.fillText(telas.jogo.capitulo3.fase4.principal.questao.banco[telas.jogo.capitulo3.fase4.principal.questao.numQuestao].alter3, this.x1 + this.largura / 2, this.y3 + this.altura / 2 + 15);
                            ctx.fillText(telas.jogo.capitulo3.fase4.principal.questao.banco[telas.jogo.capitulo3.fase4.principal.questao.numQuestao].alter4, this.x1 + this.largura / 2, this.y4 + this.altura / 2 + 15);
                        
                            
                            if (this.click) {
                                if (this.alter != telas.jogo.capitulo3.fase4.principal.questao.banco[telas.jogo.capitulo3.fase4.principal.questao.numQuestao].resposta) {
                                    telas.jogo.capitulo3.fase4.parte ++;
                                    telas.jogo.capitulo3.fase4.aprovado = false;
                                }

                                if (telas.jogo.capitulo3.fase4.principal.questao.quantQuestoes < 10) {
                                    telas.jogo.capitulo3.fase4.principal.questao.quantQuestoes ++;

                                    this.numProblema = telas.jogo.capitulo3.fase4.principal.questao.numQuestao;
                                    
                                    while(this.numProblema == telas.jogo.capitulo3.fase4.principal.questao.numQuestao) {
                                        telas.jogo.capitulo3.fase4.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo3.fase4.principal.questao.banco.length);
                                    }
                                }

                                else {
                                    telas.jogo.capitulo3.fase4.parte ++;
                                }
                                
                                this.click = false;
                                this.alter = 0;
                                telas.jogo.capitulo3.fase4.principal.temporizador.counter = 0;
                                telas.jogo.capitulo3.fase4.principal.temporizador.texto = 5;
                            }
                        },
                    },
                    
                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 5,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);
                        },
                    },
                },

                principal: {
                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {pergunta: "Good morning", alter1: "Bom dia", alter2: "Boa manhã", alter3: "Boa tarde", alter4: "Bom amanhecer", resposta: 1},
                            {pergunta: "Good night", alter1: "Boa noite", alter2: "Boa tarde", alter3: "Bom adormecer", alter4: "Noite boa", resposta: 1},
                            {pergunta: "Good afternoon", alter1: "Tarde incrível", alter2: "Dia belo", alter3: "Bom dia", alter4: "Boa tarde", resposta: 4},
                            {pergunta: "How are you?", alter1: "Você está bem?", alter2: "Como você está?", alter3: "Você está aqui?", alter4: "Como chegou aqui?", resposta: 2},
                            {pergunta: "What's your name?", alter1: "Meu nome é?", alter2: "Seu nome é?", alter3: "Qual é o seu nome?", alter4: "Seu nome, qual é?", resposta: 3},
                            {pergunta: "My name is...", alter1: "Mas meu nome é...", alter2: "Nosso nome é...", alter3: "Seu nome é...", alter4: "Meu nome é...", resposta: 4},
                            {pergunta: "The book is open", alter1: "O livro está aberto", alter2: "O livro está fechado", alter3: "O livro é longo", alter4: "O livro é curto", resposta: 1},
                            {pergunta: "The house is blue", alter1: "A casa é azul", alter2: "O céu é azul", alter3: "A rua é azul", alter4: "O pássaro é azul", resposta: 1},
                            {pergunta: "I love you", alter1: "Você não me ama", alter2: "Você me ama", alter3: "Eu te amo", alter4: "Eu não te amo", resposta: 3},
                            {pergunta: "But i need...", alter1: "Mas eu não preciso...", alter2: "Mas eu preciso...", alter3: "Mas eu quero...", alter4: "Mas eu não quero...", resposta: 2},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(canvas.width / 2 - 500, 10, 1000, 175);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "rgb(255, 255, 255)";
                            ctx.strokeRect(canvas.width / 2 - 500, 10, 1000, 175);

                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.font = "50px 'Silkscreen'";
                            ctx.fillText(this.banco[this.numQuestao].pergunta, canvas.width / 2, 109);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        click: false,
                        x: canvas.width / 2 - 510 - 100,
                        x1: canvas.width / 2 + 10, 
                        y1: 350,
                        y2: 500,
                        y3: 350,
                        y4: 500,
                        largura: 600,
                        altura: 100,
                        alter: 0,
                        counter: 0,
                        counter1: 0,
                        numProblema: 0,

                        desenha() {
                            ctx.fillStyle = "rgba(60, 140, 60, 0.8)";
                            ctx.fillRect(this.x, this.y1, this.largura, this.altura);
                            ctx.fillRect(this.x, this.y2, this.largura, this.altura);
                            ctx.fillRect(this.x1, this.y3, this.largura, this.altura);
                            ctx.fillRect(this.x1, this.y4, this.largura, this.altura);

                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "rgba(0, 0, 0, 0.8)";

                            ctx.strokeRect(this.x, this.y1, this.largura, this.altura);
                            ctx.strokeRect(this.x, this.y2, this.largura, this.altura);
                            ctx.strokeRect(this.x1, this.y3, this.largura, this.altura);
                            ctx.strokeRect(this.x1, this.y4, this.largura, this.altura);

                            ctx.textAlign = "center";
                            ctx.font = "40px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(telas.jogo.capitulo3.fase4.principal.questao.banco[telas.jogo.capitulo3.fase4.principal.questao.numQuestao].alter1, this.x + this.largura / 2, this.y1 + this.altura / 2 + 15);
                            ctx.fillText(telas.jogo.capitulo3.fase4.principal.questao.banco[telas.jogo.capitulo3.fase4.principal.questao.numQuestao].alter2, this.x + this.largura / 2, this.y2 + this.altura / 2 + 15);
                            ctx.fillText(telas.jogo.capitulo3.fase4.principal.questao.banco[telas.jogo.capitulo3.fase4.principal.questao.numQuestao].alter3, this.x1 + this.largura / 2, this.y3 + this.altura / 2 + 15);
                            ctx.fillText(telas.jogo.capitulo3.fase4.principal.questao.banco[telas.jogo.capitulo3.fase4.principal.questao.numQuestao].alter4, this.x1 + this.largura / 2, this.y4 + this.altura / 2 + 15);                        
                            
                            if (this.click) {
                                if (this.alter == telas.jogo.capitulo3.fase4.principal.questao.banco[telas.jogo.capitulo3.fase4.principal.questao.numQuestao].resposta) {
                                    telas.jogo.capitulo3.fase4.points ++;
                                }

                                if (telas.jogo.capitulo3.fase4.principal.questao.quantQuestoes < 10) {
                                    telas.jogo.capitulo3.fase4.principal.questao.quantQuestoes ++;

                                    this.numProblema = telas.jogo.capitulo3.fase4.principal.questao.numQuestao;
                                    
                                    while(this.numProblema == telas.jogo.capitulo3.fase4.principal.questao.numQuestao) {
                                        telas.jogo.capitulo3.fase4.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo3.fase4.principal.questao.banco.length);
                                    }
                                }

                                else {
                                    telas.jogo.capitulo3.fase4.parte ++;
                                }
                                
                                this.click = false;
                                this.alter = 0;
                                telas.jogo.capitulo3.fase4.principal.temporizador.counter = 0;
                                telas.jogo.capitulo3.fase4.principal.temporizador.texto = 5;
                            }
                        },
                    },
                    
                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 5,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 4) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 2) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 5;
                                    telas.jogo.capitulo3.fase4.principal.solucao.click = true;
                                    telas.jogo.capitulo3.fase4.principal.solucao.alter = 0;
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo3.fase4.allowBotoes) {
                            if (telas.jogo.capitulo3.fase4.points >= 7 || banco.capitulo3.fase4_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo3.fase4_pass = true;
                                    telas.lobby.capitulos[2].fase_5 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo3.fase4.points >= 7 || banco.capitulo3.fase4_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo3.fase4.points >= 7 || banco.capitulo3.fase4_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo3.fase4.points >= 7 || banco.capitulo3.fase4_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo3.fase4.points >= 7 || banco.capitulo3.fase4_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo3.fase4.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo3.fase4.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo3.fase4.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo3.fase4.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo3.fase4.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo3.fase4.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo3.fase4.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo3.fase4.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo3.fase4.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase5: {
                parte: 1,
                aprovado: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.aprovado = false;
                    this.parte = 1;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;
                    this.inicio.titulo.counter = 0;

                    this.principal.questao.numQuestao = 0;
                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.click = false;
                    this.principal.solucao.counter = 0;
                    this.principal.solucao.counter1 = 0;
                    this.principal.solucao.alter = null;
                    this.principal.allowClick = true;

                    this.principal.banco = [];

                    this.principal.solucao.alters.forEach(item => {
                        item.hover = false;
                    })

                    this.principal.temporizador.texto = 10;
                    this.principal.temporizador.counter = 0;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.play.hover = false;
                    this.final.text.onload = true;
                    this.final.text.onload1 = true;
                    this.final.text.spriteX = 0;
                    this.final.text.counter = 0;
                    this.final.text.counter1 = 0;
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },
                    },

                    titulo: {
                        nome: "Fase 5",
                        descricao: "O terceiro desafio",
                        entrando: true,
                        saindo: false,
                        counter: 0,
                        alpha: 0,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.font = "120px 'Share Tech Mono'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.nome, canvas.width / 2, canvas.height / 2);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.fillText(this.descricao, canvas.width / 2, canvas.height / 2 + 200);
                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;

                                if (this.alpha >= 0.99) {
                                    this.counter ++;

                                    if (this.counter >= 100) {
                                        this.entrando = false;
                                        this.saindo = true;
                                    }
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo3.fase5.parte ++;
                                }
                            }
                        }
                    },
                },

                principal: {
                    allowClick: true,
                    banco: [],

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();
                    },

                    verificaOrdem(numPergunta) {
                        for (let i = 0; i < this.banco.length; i++) {
                            if (this.banco[i].numPergunta == numPergunta) {
                                return false;
                            }
                        }

                        this.banco.push(
                            {numPergunta: numPergunta}
                        );

                        return true;
                    },

                    background: {
                        spr: new Image(),
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {pergunta: "Yellow:", alter1: "Amarelo", alter2: "Azul", alter3: "Verde", alter4: "Vermelho", resposta: 1},
                            {pergunta: "Good Morning:", alter1: "Boa Noite", alter2: "Boa Tarde", alter3: "Bom Dia", alter4: "Bom Amanhecer", resposta: 3},
                            {pergunta: "Eight:", alter1: "Nove", alter2: "Preto", alter3: "Oitenta", alter4: "Oito", resposta: 4},
                            {pergunta: "My pen is blue:", alter1: "Sua caneta é azul", alter2: "Minha caneta é azul", alter3: "Seu lápis é azul", alter4: "Meu lápis é azul", resposta: 2},
                            {pergunta: "Why I'm here?", alter1: "Por que eu estou aqui?", alter2: "Como eu cheguei aqui?", alter3: "Que lugar é esse?", alter4: "Por que eu cheguei aqui?", resposta: 1},
                            {pergunta: "Five red balls:", alter1: "Cinco bolas vermelhas", alter2: "Quatro bolas azuis", alter3: "Cinco bolas verde", alter4: "Seis bolas vermelhas", resposta: 1},
                            {pergunta: "Blue and red:", alter1: "Verde e Amarelo", alter2: "Azul e Vermelho", alter3: "Verde e Vermelho", alter4: "Azul e Verde", resposta: 2},
                            {pergunta: "The mirror are broken:", alter1: "A mesa está quebrada", alter2: "Estou quebrado", alter3: "A mesa quebrou", alter4: "O espelho está quebrado", resposta: 4},
                            {pergunta: "Eight days in the work:", alter1: "Oito dias no trabalho", alter2: "Sete dias no trabalho", alter3: "Oitenta dias no trabalho", alter4: "Nove dias no trabalho", resposta: 1},
                            {pergunta: "The cars are running:", alter1: "Os carros estão voando", alter2: "Os carros estão andando", alter3: "Os carros estão correndo", alter4: "Os carros estão parados", resposta: 3},
                        ],

                        square: {
                            x: canvas.width / 2 - 500,
                            y: 10,
                            larg: 1000,
                            alt: 250,
                        },

                        numQuestao: 0,
                        quantQuestoes: 0,
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.textAlign = "center";
                            ctx.font = "55px 'Silkscreen'";
                            ctx.fillStyle = "black";
                            ctx.fillText(this.banco[this.numQuestao].pergunta, this.square.x + this.square.larg / 2 + 5, this.square.y + this.square.alt / 2 + 15 + 5);

                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].pergunta, this.square.x + this.square.larg / 2, this.square.y + this.square.alt / 2 + 15);
                        
                            this.drawLine(this.numQuestao);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.quantQuestoes ++;
                                this.onload = false;

                                do {
                                    this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                } while(!telas.jogo.capitulo3.fase5.principal.verificaOrdem(this.numQuestao));

                                
                                telas.jogo.capitulo3.fase5.principal.solucao.alters[0].text = this.banco[this.numQuestao].alter1;
                                telas.jogo.capitulo3.fase5.principal.solucao.alters[1].text = this.banco[this.numQuestao].alter2;
                                telas.jogo.capitulo3.fase5.principal.solucao.alters[2].text = this.banco[this.numQuestao].alter3;
                                telas.jogo.capitulo3.fase5.principal.solucao.alters[3].text = this.banco[this.numQuestao].alter4;
                            }
                        },

                        drawLine(numPergunta) {
                            ctx.lineWidth = 5;
                            ctx.strokeStyle = "black";

                            switch(numPergunta) {
                                case 0: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 150 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 150 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 150, this.square.y + this.square.alt / 2 + 35);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 150, this.square.y + this.square.alt / 2 + 35);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                };

                                case 1: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 270 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 270 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 270, this.square.y + this.square.alt / 2 + 35);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 270, this.square.y + this.square.alt / 2 + 35);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                };

                                case 2: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 120 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 120 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 120, this.square.y + this.square.alt / 2 + 35);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 120, this.square.y + this.square.alt / 2 + 35);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                };

                                case 3: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 290 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 290 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 290, this.square.y + this.square.alt / 2 + 35);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 290, this.square.y + this.square.alt / 2 + 35);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                };

                                case 4: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 250 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 250 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 250, this.square.y + this.square.alt / 2 + 35);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 250, this.square.y + this.square.alt / 2 + 35);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                };

                                case 5: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 280 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 280 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 280, this.square.y + this.square.alt / 2 + 35);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 280, this.square.y + this.square.alt / 2 + 35);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                };

                                case 6: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 250 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 250 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 250, this.square.y + this.square.alt / 2 + 35);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 250, this.square.y + this.square.alt / 2 + 35);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                };

                                case 7: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 420 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 420 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 420, this.square.y + this.square.alt / 2 + 35);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 420, this.square.y + this.square.alt / 2 + 35);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                };

                                case 8: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 430 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 430 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 430, this.square.y + this.square.alt / 2 + 35);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 430, this.square.y + this.square.alt / 2 + 35);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                };

                                case 9: {
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 410 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 410 + 10, this.square.y + this.square.alt / 2 + 35 + 5);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.strokeStyle = "white";
                                    ctx.beginPath();
                                    ctx.moveTo(this.square.x + this.square.larg / 2 - 410, this.square.y + this.square.alt / 2 + 35);
                                    ctx.lineTo(this.square.x + this.square.larg / 2 + 410, this.square.y + this.square.alt / 2 + 35);
                                    ctx.stroke();
                                    ctx.closePath();

                                    break;
                                };
                            }
                        }
                    },

                    solucao: {
                        click: false,
                        alter: 0,
                        counter: 0,
                        counter1: 0,

                        desenha() {
                            for (let i = 0; i < this.alters.length; i++) {
                                this.alters[i].desenha();
                            }

                            if (this.click) {
                                this.counter ++;
                                telas.jogo.capitulo3.fase5.principal.allowClick = false;

                                if (this.counter >= 75) {
                                    if (this.alter != telas.jogo.capitulo3.fase5.principal.questao.banco[telas.jogo.capitulo3.fase5.principal.questao.numQuestao].resposta) {
                                        telas.jogo.capitulo3.fase5.parte ++;
                                        telas.jogo.capitulo3.fase5.aprovado = false;
                                    }

                                    if (telas.jogo.capitulo3.fase5.principal.questao.quantQuestoes < 10) {
                                        telas.jogo.capitulo3.fase5.principal.questao.quantQuestoes ++;
                                        
                                        do {
                                            telas.jogo.capitulo3.fase5.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo3.fase5.principal.questao.banco.length);
                                        }while(!telas.jogo.capitulo3.fase5.principal.verificaOrdem(telas.jogo.capitulo3.fase5.principal.questao.numQuestao));
                                    
                                        this.alters[0].text = telas.jogo.capitulo3.fase5.principal.questao.banco[telas.jogo.capitulo3.fase5.principal.questao.numQuestao].alter1;
                                        this.alters[1].text = telas.jogo.capitulo3.fase5.principal.questao.banco[telas.jogo.capitulo3.fase5.principal.questao.numQuestao].alter2;
                                        this.alters[2].text = telas.jogo.capitulo3.fase5.principal.questao.banco[telas.jogo.capitulo3.fase5.principal.questao.numQuestao].alter3;
                                        this.alters[3].text = telas.jogo.capitulo3.fase5.principal.questao.banco[telas.jogo.capitulo3.fase5.principal.questao.numQuestao].alter4;
                                    }

                                    else {
                                        telas.jogo.capitulo3.fase5.parte ++;
                                        telas.jogo.capitulo3.fase5.aprovado = true;
                                    }

                                    this.click = false;
                                    this.counter = 0;
                                    this.alter = 0;
                                    telas.jogo.capitulo3.fase5.principal.allowClick = true;
                                }

                                telas.jogo.capitulo3.fase5.principal.temporizador.counter = 0;
                                telas.jogo.capitulo3.fase5.principal.temporizador.texto = 10;
                            }
                        },

                        alters: [
                            {
                                x: canvas.width / 2 - 510,
                                y: 350,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo3.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo3.fase5.principal.questao.banco[telas.jogo.capitulo3.fase5.principal.questao.numQuestao].resposta - 1 == 0) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 - 510,
                                y: 500,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo3.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo3.fase5.principal.questao.banco[telas.jogo.capitulo3.fase5.principal.questao.numQuestao].resposta - 1 == 1) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 + 10,
                                y: 350,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo3.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo3.fase5.principal.questao.banco[telas.jogo.capitulo3.fase5.principal.questao.numQuestao].resposta - 1 == 2) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 + 10,
                                y: 500,
                                larg: 500,
                                alt: 100,

                                hover: false,
                                text: "",
                                cor: "rgba(0, 0, 0, 0.8)",

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.cor;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;
                                    ctx.fillRect(this.x + 50, this.y, this.larg - 100, this.alt);
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.moveTo(this.x + 50, this.y + this.alt);
                                    ctx.lineTo(this.x + 50 + this.larg - 100, this.y + this.alt);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + 50, this.y + 50, 50, Math.PI / 2, Math.PI + Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.beginPath();
                                    ctx.arc(this.x + this.larg - 50, this.y + this.alt - 50, 50, Math.PI + Math.PI / 2, Math.PI / 2);
                                    ctx.fill();
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "white";
                                    ctx.font = "27px 'Silkscreen'";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.text, this.x + this.larg / 2, this.y + this.alt / 2 + 12);
                                },

                                atualiza() {
                                    if (telas.jogo.capitulo3.fase5.principal.solucao.click) {
                                        if (telas.jogo.capitulo3.fase5.principal.questao.banco[telas.jogo.capitulo3.fase5.principal.questao.numQuestao].resposta - 1 == 3) {
                                            this.cor = "rgba(30, 127, 30, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(127, 30, 30, 0.8)";
                                        }
                                    }

                                    else {
                                        if (this.hover) {
                                            this.cor = "rgba(60, 60, 60, 0.8)";
                                        }

                                        else {
                                            this.cor = "rgba(0, 0, 0, 0.8)";
                                        }
                                    }
                                }
                            }
                        ]
                    },
                    
                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 10;

                                    telas.jogo.capitulo3.fase5.principal.solucao.click = true;
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.text.desenha();

                        if (telas.jogo.capitulo3.fase5.aprovado || banco.capitulo3.fase5_pass) {
                            this.botoes.play.desenha();

                            if (this.onload) {
                                banco.capitulo3.fase5_pass = true;
                                telas.lobby.capitulos[3].fase_1 = false;
                                this.onload = false;
                            }
                        }
                        
                        this.botoes.exit.desenha();
                        this.botoes.retry.desenha();
                    },

                    text: {
                        s: new Image(),
                        onload: true,
                        onload1: true,

                        larg: 200,
                        spriteX: 0,
                        counter: 0,
                        counter1: 0,
                        texto: "",

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.s,
                                this.spriteX, 0,
                                this.larg, 200,
                                canvas.width / 2 - 100, canvas.height / 2 - 200,
                                200, 200
                            )
                        },

                        atualiza() {
                            if (this.onload) {
                                this.s.src = "./sprites/jogo/star/no colected.png";
                                this.onload = false;
                            }

                            if (this.counter >= 60) {
                                if (telas.jogo.capitulo3.fase5.aprovado) {
                                    if (this.onload1) {
                                        this.s.src = "./sprites/jogo/star/yes colected.png";
                                        this.larg = 200;
                                        this.onload1 = false;
                                    }

                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX < 2400) {
                                            this.spriteX += 200;
                                        }

                                        else {
                                            this.spriteX = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }
                            }

                            else {
                                this.counter ++;
                            }
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(canvas.width / 2 - 120, canvas.height / 2 - 200, 240, 220);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(canvas.width / 2 - 120, canvas.height / 2 - 200, 240, 220);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo3/spr - cap 3.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
         
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo3.fase5.points >= 7 || banco.capitulo3.fase5_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo3.fase5.points >= 7 || banco.capitulo3.fase5_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo3.fase5.points >= 7 || banco.capitulo3.fase5_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo3.fase5.points >= 7 || banco.capitulo3.fase5_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },
                },
            },
        },

        capitulo4: {
            //memoria

            fase1: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.onload = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 5;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.exit.hover = false;
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();
                            this.questao.desenha();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Memorize e responda", canvas.width / 2, canvas.height / 2);
                            ctx.textAlign = "center";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.fillText("Clique para continuar", canvas.width / 2, canvas.height - 30);
                        }

                        else {
                            telas.jogo.capitulo4.fase1.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    questao: {
                        banco: [],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,
                        onload1: true,
                        
                        square: {
                            x: canvas.width / 2 - 300,
                            y: canvas.height / 2 - 225,
                            larg: 600,
                            alt: 450,
                        },

                        quantImages: 15,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "white";
                            ctx.fillRect(this.square.x, this.square.y, this.square.larg, this.square.alt);
                            ctx.strokeRect(this.square.x, this.square.y, this.square.larg, this.square.alt);
                            
                            this.banco.forEach((item) => {
                                ctx.drawImage(
                                    item.spr, item.x, item.y
                                )
                            })

                            ctx.drawImage(
                                this.banco[0].spr, this.banco[0].x, this.banco[0].y
                            )
                        },

                        atualiza() {
                            if (this.onload) {
                                for (let i = 0; i < this.quantImages; i++) {
                                    let pos = {};
                                    let image = Math.floor(Math.random() * 20);
                                    let spr = new Image();

                                    if (image == 0) {
                                        image = 1;
                                    }

                                    spr.src = "./sprites/jogo/capitulo4/fase 1/item " + image + ".png";

                                    pos = this.verificaPos();
                                    
                                    this.banco.push(
                                        {spr, x: pos.x, y: pos.y,}
                                    )
                                }
                                
                                this.onload = false;
                            }
                        },

                        verificaPos() {
                            let loop = false;
                            let x;
                            let y;

                            if (this.onload1) {
                                this.onload1 = false;
                                x = (Math.floor(Math.random() * this.square.larg + this.square.x));
                                y = (Math.floor(Math.random() * this.square.alt + this.square.y));
                                return {x: x, y: y};
                            }

                            do {
                                x = (Math.floor(Math.random() * this.square.larg + this.square.x));
                                y = (Math.floor(Math.random() * this.square.alt + this.square.y));
                                
                                for (let i = 0; i < this.banco.length; i++) {
                                    if (x + 64 >= this.banco[i].x &&
                                        x <= this.banco[i].x + 64 &&
                                        y + 64 >= this.banco[i].y &&
                                        y <= this.banco[i].y + 64 || this.verificaPos2(x, y)) {
                                        loop = true;
                                        break;
                                    }

                                    else {
                                        loop = false;
                                    }
                                }
                            }while (loop);

                            return {x, y};
                        },

                        verificaPos2(x, y) {
                            if (x + 64 >= this.square.x + this.square.larg) {
                                return true;
                            }

                            if (x <= this.square.x) {
                                return true;
                            }

                            if (y + 64 >= this.square.y + this.square.alt) {
                                return true;
                            }

                            if (y <= this.square.y) {
                                return true;
                            }

                            return false;
                        },
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                2180, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 1",
                        descricao: "Quantos haviam?",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo4.fase1.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    parte: 1,

                    desenha() {
                        this.background.desenha();

                        if (this.parte == 1) {
                            this.questao.desenha();
                        }

                        else {
                            this.solucao.desenha();
                        }
                        
                        this.temporizador.desenha();
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [],

                        onload: true,
                        onload1: true,
                        
                        square: {
                            x: canvas.width / 2 - 300,
                            y: canvas.height / 2 - 225,
                            larg: 600,
                            alt: 450,
                        },

                        quantImages: 20,
                        quantQuestoes: 0,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "white";
                            ctx.fillRect(this.square.x, this.square.y, this.square.larg, this.square.alt);
                            ctx.strokeRect(this.square.x, this.square.y, this.square.larg, this.square.alt);
                            
                            this.banco.forEach((item) => {
                                ctx.drawImage(
                                    item.spr, item.x, item.y
                                )
                            })

                            ctx.drawImage(
                                this.banco[0].spr, this.banco[0].x, this.banco[0].y
                            )

                            ctx.font = "40px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "black";
                            ctx.fillText("Memorize", canvas.width / 2 + 5, 75);
                            ctx.fillStyle = "white";
                            ctx.fillText("Memorize", canvas.width / 2, 70);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.banco = [];

                                for (let i = 0; i < this.quantImages; i++) {
                                    let pos = {};
                                    let image = Math.floor(Math.random() * 20);
                                    let spr = new Image();

                                    if (image == 0) {
                                        image = 1;
                                    }

                                    spr.src = "./sprites/jogo/capitulo4/fase 1/item " + image + ".png";

                                    pos = this.verificaPos();
                                    
                                    this.banco.push(
                                        {spr: spr, x: pos.x, y: pos.y, image: image}
                                    )
                                }
                                
                                this.onload = false;
                            }
                        },

                        verificaPos() {
                            let loop = false;
                            let x;
                            let y;

                            if (this.onload1) {
                                this.onload1 = false;
                                x = (Math.floor(Math.random() * this.square.larg + this.square.x));
                                y = (Math.floor(Math.random() * this.square.alt + this.square.y));
                                return {x: x, y: y};
                            }

                            do {
                                x = (Math.floor(Math.random() * this.square.larg + this.square.x));
                                y = (Math.floor(Math.random() * this.square.alt + this.square.y));
                                
                                for (let i = 0; i < this.banco.length; i++) {
                                    if (x + 64 >= this.banco[i].x &&
                                        x <= this.banco[i].x + 64 &&
                                        y + 64 >= this.banco[i].y &&
                                        y <= this.banco[i].y + 64 || this.verificaPos2(x, y)) {
                                        loop = true;
                                        break;
                                    }

                                    else {
                                        loop = false;
                                    }
                                }
                            }while (loop);

                            return {x, y};
                        },

                        verificaPos2(x, y) {
                            if (x + 64 >= this.square.x + this.square.larg) {
                                return true;
                            }

                            if (x <= this.square.x) {
                                return true;
                            }

                            if (y + 64 >= this.square.y + this.square.alt) {
                                return true;
                            }

                            if (y <= this.square.y) {
                                return true;
                            }

                            return false;
                        },
                    },

                    solucao: {
                        s: new Image(),
                        click: false,
                        x: canvas.width / 2 - 510 - 100,
                        x1: canvas.width / 2 + 10, 
                        y: 350,
                        y1: 500,
                        larg: 600,
                        alt: 100,

                        imagem: 0,
                        onload: true,

                        alternativas: {
                            alter1: 0,
                            alter2: 0,
                            alter3: 0,
                            alter4: 0,
                            resposta: 0,
                            click: 0,
                        },

                        resposta: 1,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "black";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;

                            ctx.fillRect(canvas.width / 2 - 500, 50, 1000, 100);
                            ctx.strokeRect(canvas.width / 2 - 500, 50, 1000, 100);

                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.font = "40px 'Silkscreen'";
                            ctx.fillText("Quantos elementos do tipo    haviam?", canvas.width / 2, 113);

                            ctx.drawImage(
                                this.s,
                                canvas.width / 2 + 207, 70
                            )

                            ctx.fillStyle = "rgb(60, 140, 60)";
                            ctx.strokeStyle = "white";

                            ctx.fillRect(this.x, this.y, this.larg, this.alt);
                            ctx.strokeRect(this.x, this.y, this.larg, this.alt);

                            ctx.fillRect(this.x, this.y1, this.larg, this.alt);
                            ctx.strokeRect(this.x, this.y1, this.larg, this.alt);

                            ctx.fillRect(this.x1, this.y, this.larg, this.alt);
                            ctx.strokeRect(this.x1, this.y, this.larg, this.alt);

                            ctx.fillRect(this.x1, this.y1, this.larg, this.alt);
                            ctx.strokeRect(this.x1, this.y1, this.larg, this.alt);

                            ctx.fillStyle = "white";

                            ctx.fillText(this.alternativas.alter4, this.x1 + this.larg / 2, this.y1 + this.alt / 2 + 15);
                            ctx.fillText(this.alternativas.alter1, this.x + this.larg / 2, this.y + this.alt / 2 + 15);
                            ctx.fillText(this.alternativas.alter3, this.x1 + this.larg / 2, this.y + this.alt / 2 + 15);
                            ctx.fillText(this.alternativas.alter2, this.x + this.larg / 2, this.y1 + this.alt / 2 + 15);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.resposta = 0;

                                this.imagem = Math.floor(Math.random() * telas.jogo.capitulo4.fase1.principal.questao.banco.length);
                                this.s.src = telas.jogo.capitulo4.fase1.principal.questao.banco[this.imagem].spr.src;

                                for (let i = 0; i < telas.jogo.capitulo4.fase1.principal.questao.banco.length; i++) {
                                    if (telas.jogo.capitulo4.fase1.principal.questao.banco[i].image == telas.jogo.capitulo4.fase1.principal.questao.banco[this.imagem].image) {
                                        this.resposta ++;
                                    }
                                }
                                
                                switch(Math.floor(Math.random() * 4)) {
                                    case 0: {
                                        this.alternativas.alter1 = this.resposta;
                                        this.alternativas.alter2 = this.resposta + 1;
                                        this.alternativas.alter3 = this.resposta + 2;
                                        this.alternativas.alter4 = this.resposta - 1;
                                        this.alternativas.resposta = 1;
                                        break;
                                    }

                                    case 1: {
                                        this.alternativas.alter2 = this.resposta;
                                        this.alternativas.alter1 = this.resposta + 1;
                                        this.alternativas.alter3 = this.resposta + 2;
                                        this.alternativas.alter4 = this.resposta - 1;
                                        this.alternativas.resposta = 2;
                                        break;
                                    }

                                    case 2: {
                                        this.alternativas.alter3 = this.resposta;
                                        this.alternativas.alter2 = this.resposta + 1;
                                        this.alternativas.alter1 = this.resposta + 2;
                                        this.alternativas.alter4 = this.resposta - 1;
                                        this.alternativas.resposta = 3;
                                        break;
                                    }

                                    case 3: {
                                        this.alternativas.alter4 = this.resposta;
                                        this.alternativas.alter2 = this.resposta + 1;
                                        this.alternativas.alter3 = this.resposta + 2;
                                        this.alternativas.alter1 = this.resposta - 1;
                                        this.alternativas.resposta = 4;
                                        break;
                                    }
                                }

                                this.onload = false;
                            }

                            if (this.click) {
                                if (this.alternativas.click == this.alternativas.resposta) {
                                    telas.jogo.capitulo4.fase1.points ++;
                                }

                                this.onload = true;
                                telas.jogo.capitulo4.fase1.principal.questao.onload = true;
                                telas.jogo.capitulo4.fase1.principal.parte = 1;
                                telas.jogo.capitulo4.fase1.principal.questao.quantQuestoes ++;

                                this.click = false;
                                telas.jogo.capitulo4.fase1.principal.temporizador.texto = 5;

                                if (telas.jogo.capitulo4.fase1.principal.questao.quantQuestoes >= 5) {
                                    telas.jogo.capitulo4.fase1.parte ++;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 5,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;

                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 4) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 2) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 5;

                                    if (telas.jogo.capitulo4.fase1.principal.parte == 1) {
                                        telas.jogo.capitulo4.fase1.principal.parte = 2;
                                    }

                                    else {
                                        telas.jogo.capitulo4.fase1.principal.solucao.click = true;
                                    }
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo4.fase1.allowBotoes) {
                            if (telas.jogo.capitulo4.fase1.points >= 5 || banco.capitulo4.fase1_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo4.fase1_pass = true;
                                    telas.lobby.capitulos[3].fase_2 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo4.fase1.points >= 3 || banco.capitulo4.fase1_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo4.fase1.points >= 3 || banco.capitulo4.fase1_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo4.fase1.points >= 3 || banco.capitulo4.fase1_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo4.fase1.points >= 3 || banco.capitulo4.fase1_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo4.fase1.points >= 1) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo4.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo4.fase1.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo4.fase1.points > 2) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo4.fase1.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo4.fase1.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo4.fase1.points == 5) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo4.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo4.fase1.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            //jogo da memoria

            fase2: {
                parte: 1,
                points: 0,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.comecou = true;
                    this.principal.acabou = false;

                    this.principal.questao.counter = 0;
                    this.principal.questao.onload = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 1;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.exit.hover = false;

                    this.principal.questao.counter = 0;
                    this.principal.questao.clickAllow = true;

                    this.principal.fim.tamanho = 500;
                    this.principal.fim.counter = 0;
                    this.principal.fim.alpha = 0;
                    
                    this.principal.inicio.texto = 3;
                    this.principal.inicio.counter = 0
                    this.principal.inicio.transicao = false;
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();

                        telas.jogo.capitulo4.fase2.principal.questao.atualiza();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 2",
                        descricao: "Jogo da Memória",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo4.fase2.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    acabou: false,
                    comecou: true,

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.temporizador.desenha();

                        if (this.comecou) {
                            this.inicio.desenha();
                        }

                        if (this.acabou) {
                            this.fim.desenha();
                        }
                        
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [],

                        onload: true,
                        
                        square: {
                            x: canvas.width / 2 - 454 / 2,
                            y: canvas.height / 2 - 454 / 2,
                            larg: 454,
                            alt: 454,
                        },

                        counter: 0,
                        clickAllow: true,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "white";
                            ctx.fillRect(this.square.x, this.square.y, this.square.larg, this.square.alt);
                            ctx.strokeRect(this.square.x, this.square.y, this.square.larg, this.square.alt);
                            
                            this.banco.forEach((item) => {
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(item.x, item.y, 64, 64);

                                if (item.cover) {
                                    ctx.fillStyle = "rgb(60, 60, 140)";
                                }

                                else {
                                    ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                                }

                                ctx.fillRect(item.x, item.y, 64, 64);
                                
                                if (!item.cover) {
                                    ctx.drawImage(
                                        item.spr, item.x, item.y
                                    )
                                }
                            })
                        },

                        atualiza() {
                            if (this.onload) {
                                this.banco = [];

                                for (let i = 0; i < 18; i++) {
                                    let pos = {};
                                    let image;
                                    let spr = new Image();

                                    do {
                                        image = Math.floor(Math.random() * 20);

                                        if (image == 0) {
                                            image = 1;
                                        }
                                    }while(this.verificaImagem(image));

                                    spr.src = "./sprites/jogo/capitulo4/fase 1/item " + image + ".png";

                                    pos = this.verificaPos();
                                    
                                    this.banco.push(
                                        {spr: spr, x: pos.x, y: pos.y, image: image, cover: true, solid: false}
                                    )

                                    pos = this.verificaPos();
                                    
                                    this.banco.push(
                                        {spr: spr, x: pos.x, y: pos.y, image: image, cover: true, solid: false}
                                    )
                                }
                                
                                this.onload = false;
                            }

                            let quantImages = 0;

                            for (let i = 0; i < this.banco.length; i++) {
                                if (!this.banco[i].cover && !this.banco[i].solid) {
                                    quantImages ++;
                                }
                            }

                            this.verificaFim();

                            if (quantImages >= 2) {
                                this.clickAllow = false;
                                this.counter ++;

                                if (this.counter >= 60) {
                                    this.verificaPares();
                                    this.counter = 0;
                                    this.clickAllow = true;
                                }
                            }
                        },

                        verificaPos() {
                            let pos;
                            let loop = false;
                            let x, y;

                            do {
                                loop = false;

                                pos = Math.floor(Math.random() * 36);
                                
                                if (pos < 6) {
                                    x = (pos * 64) + this.square.x + 10 + ((pos % 6) * 10);
                                    y = 10 + this.square.y;
                                }

                                else if (pos < 12) {
                                    x = ((pos - 6) * 64) + this.square.x + 10 + (((pos - 6) % 6) * 10);
                                    y = 20 + this.square.y + 64;
                                }

                                else if (pos < 18) {
                                    x = ((pos - 12) * 64) + this.square.x + 10 + (((pos - 12) % 6) * 10);
                                    y = 30 + this.square.y + 128;
                                }

                                else if (pos < 24) {
                                    x = ((pos - 18) * 64) + this.square.x + 10 + (((pos - 18) % 6) * 10);
                                    y = 40 + this.square.y + 192;
                                }

                                else if (pos < 30) {
                                    x = ((pos - 24) * 64) + this.square.x + 10 + (((pos - 24) % 6) * 10);
                                    y = 50 + this.square.y + 256;
                                }

                                else {
                                    x = ((pos - 30) * 64) + this.square.x + 10 + (((pos - 30) % 6) * 10);
                                    y = 60 + this.square.y + 320;
                                }

                                for (let i = 0; i < this.banco.length; i++) {
                                    if (x == this.banco[i].x &&
                                        y == this.banco[i].y) {
                                        loop = true;
                                        break;
                                    }

                                    else {
                                        loop = false;
                                    }
                                }
                            }while(loop);

                            return {x, y};
                        },

                        verificaImagem(image) {
                            let jaPossui = false;

                            for (let i = 0; i < this.banco.length; i++) {
                                if (image == this.banco[i].image) {
                                    jaPossui = true;
                                    break;
                                }

                                else {
                                    jaPossui = false;
                                }
                            }

                            return jaPossui;
                        },

                        verificaPares() {
                            for (let i = 0; i < this.banco.length; i++) {
                                if (!this.banco[i].cover && !this.banco[i].solid) {
                                    for (let j = 0; j < this.banco.length; j++) {
                                        if (!this.banco[j].cover && !this.banco[j].solid) {
                                            if (this.banco[i].image == this.banco[j].image && i != j) {
                                                this.banco[i].cover = false;
                                                this.banco[j].cover = false;

                                                this.banco[i].solid = true;
                                                this.banco[j].solid = true;
                                            }
                                        }

                                        if (!this.banco[j].solid) {
                                            this.banco[j].cover = true;
                                        }
                                    }
                                }

                                if (!this.banco[i].solid) {
                                    this.banco[i].cover = true;
                                }
                            }
                        },

                        verificaFim() {
                            let quantItems = 0;

                            for (let i = 0; i < this.banco.length; i++) {
                                if (!this.banco[i].cover) {
                                    quantItems ++;
                                }

                                else {
                                    quantItems = 0;
                                    break;
                                }
                            }

                            if (quantItems >= 36) {
                                telas.jogo.capitulo4.fase2.principal.acabou = true;
                            }
                        },
                    },

                    solucao: {
                        atualiza(x, y) {
                            for (let i = 0; i < telas.jogo.capitulo4.fase2.principal.questao.banco.length; i++) {
                                if (x >= telas.jogo.capitulo4.fase2.principal.questao.banco[i].x &&
                                    x <= telas.jogo.capitulo4.fase2.principal.questao.banco[i].x + 64 &&
                                    y >= telas.jogo.capitulo4.fase2.principal.questao.banco[i].y &&
                                    y <= telas.jogo.capitulo4.fase2.principal.questao.banco[i].y + 64) {
                                    telas.jogo.capitulo4.fase2.principal.questao.banco[i].cover = false;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 1,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;

                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            if (!telas.jogo.capitulo4.fase2.principal.comecou) {
                                this.counter ++;
                            }

                            if (this.texto <= 80) {
                                this.cor = "green";
                            }

                            else if (this.texto <= 90) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (!telas.jogo.capitulo4.fase2.principal.acabou) {
                                    this.texto ++;
                                }
                                
                                this.counter = 0;

                                if (this.texto >= 99) {
                                    telas.jogo.capitulo4.fase2.principal.acabou = true;
                                }
                            }
                        },
                    },

                    fim: {
                        tamanho: 500,
                        counter: 0,
                        alpha: 0,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);

                            ctx.fillStyle = "white";
                            ctx.font = this.tamanho + "px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText("Fim", canvas.width / 2, canvas.height / 2 + 15);
                        },

                        atualiza() {
                            if (this.alpha < 0.8) {
                                this.alpha += 0.01;
                            }

                            else {
                                this.alpha = 0.8;
                            }

                            if (this.tamanho > 70) {
                                this.tamanho -= 5;
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 90) {
                                    telas.jogo.capitulo4.fase2.parte ++;
                                }
                            }
                        }
                    },

                    inicio: {
                        texto: 3,
                        transicao: false,
                        counter: 0,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);

                            ctx.fillStyle = "white";
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width / 2, canvas.height / 2 + 15);
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.counter >= 60) {
                                if (this.transicao) {
                                    telas.jogo.capitulo4.fase2.principal.comecou = false;
                                }

                                else {
                                    if (this.texto > 1) {
                                        this.texto --;
                                    }

                                    else {
                                        this.texto = "Vai!";
                                        this.transicao = true;
                                    }
                                }

                                this.counter = 0;
                            }
                        }
                    }
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo4.fase2.allowBotoes) {
                            if (telas.jogo.capitulo4.fase2.principal.temporizador.texto <= 90 ||
                                banco.capitulo4.fase2_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo4.fase2_pass = true;
                                    telas.lobby.capitulos[3].fase_3 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo4.fase2.principal.temporizador.texto <= 90 || banco.capitulo4.fase2_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo4.fase2.principal.temporizador.texto <= 90 || banco.capitulo4.fase2_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo4.fase2.principal.temporizador.texto <= 90 || banco.capitulo4.fase2_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo4.fase2.principal.temporizador.texto <= 90 || banco.capitulo4.fase2_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo4.fase2.principal.temporizador.texto < 99) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo4.fase2.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo4.fase2.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo4.fase2.principal.temporizador.texto <= 90) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo4.fase2.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo4.fase2.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo4.fase2.principal.temporizador.texto <= 80) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo4.fase2.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo4.fase2.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            //em que número cheguei

            fase3: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.resposta = "";
                    this.principal.solucao.alpha = 0;
                    this.principal.solucao.aparecendo = true;

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 15;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.play.hover = false;
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            this.solucao.desenha();
                            this.temporizador.desenha();
                            this.questao.desenha();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Reverta os passos", canvas.width / 2, canvas.height / 2 - 32);
                            ctx.fillText("e encontre o número inicial", canvas.width / 2, canvas.height / 2 + 33);
                            ctx.textAlign = "center";
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.fillText("Clique para continuar", canvas.width / 2, canvas.height - 30);
                        }

                        else {
                            telas.jogo.capitulo4.fase3.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    questao: {
                        banco: [
                            {passo1: "1° - Somando 2", passo2: "2° - Multiplicando por 3", passo3: "3° - Diminuindo 8", passo4: "4° - Dividindo por 2", passo5: "5° - Somando 1", resultado: 9, resposta: 6},
                            {passo1: "1° - Multiplicando por 7", passo2: "2° - Diminuindo 21", passo3: "3° - Multiplicando por 4", passo4: "4° - Diminuindo 2", passo5: "5° - Dividindo por 9", resultado: 6, resposta: 5},
                            {passo1: "1° - Somando 37", passo2: "2° - Multiplicando por 2", passo3: "3° - Diminuindo 39", passo4: "4° - Dividindo por 7", passo5: "5° - Diminuindo 5", resultado: 0, resposta: 0},
                            {passo1: "1° - Dividindo por 2", passo2: "2° - Multiplicando por 11", passo3: "3° - Somando 9", passo4: "4° - Multiplicando por 0.5", passo5: "5° - Dividindo por 0.25", resultado: 40, resposta: 2},
                            {passo1: "1° - Somando 95", passo2: "2° - Dividindo por 3", passo3: "3° - Somando 8", passo4: "4° - Dividindo por 5", passo5: "5° - Diminuindo 5", resultado: 3, resposta: 1},
                            {passo1: "1° - Multiplicando por 7", passo2: "2° - Somando 7", passo3: "3° - Dividindo por 7", passo4: "4° - Somando 1", passo5: "5° - Multiplicando por 7", resultado: 77, resposta: 9},
                            {passo1: "1° - Diminuindo 3", passo2: "2° - Multiplicando por 9", passo3: "3° - Somando 2", passo4: "4° - Dividindo por 5", passo5: "5° - Somando -4", resultado: 0, resposta: 5},
                            {passo1: "1° - Dividindo por 5", passo2: "2° - Multiplicando por 9", passo3: "3° - Diminuindo 13", passo4: "4° - Somando 1", passo5: "5° - Dividindo por 30", resultado: 0.2, resposta: 10},
                            {passo1: "1° - Somando 6", passo2: "2° - Dividindo por 5", passo3: "3° - Multiplicando por 46", passo4: "4° - Somando 7", passo5: "5° - Dividindo por 11", resultado: 9, resposta: 4},
                            {passo1: "1° - Multiplicando por 15", passo2: "2° - Diminuindo 15", passo3: "3° - Somando 3", passo4: "4° - Dividindo por 11", passo5: "5° - Diminuindo 4", resultado: -1, resposta: 3},
                            {passo1: "1° - Elevando ao quadrado", passo2: "2° - Dividindo por 6", passo3: "3° - Somando 6", passo4: "4° - Multiplicando por 2", passo5: "5° - Diminuindo 27", resultado: 33, resposta: 12},
                            {passo1: "1° - Dividindo por 8", passo2: "2° - Somando 7", passo3: "3° - Multiplicando por 11", passo4: "4° - Somando 3", passo5: "5° - Dividindo por 6", resultado: 17, resposta: 16},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "left";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].passo1, canvas.width / 2 - 200, canvas.height / 2 - 250);
                            ctx.fillText(this.banco[this.numQuestao].passo2, canvas.width / 2 - 200, canvas.height / 2 + 55 - 250);
                            ctx.fillText(this.banco[this.numQuestao].passo3, canvas.width / 2 - 200, canvas.height / 2 + 55 * 2 - 250);
                            ctx.fillText(this.banco[this.numQuestao].passo4, canvas.width / 2 - 200, canvas.height / 2 + 55 * 3 - 250);
                            ctx.fillText(this.banco[this.numQuestao].passo5, canvas.width / 2 - 200, canvas.height / 2 + 55 * 4 - 250);

                            ctx.font = "40px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText("É obtido " + this.banco[this.numQuestao].resultado, canvas.width / 2, canvas.height / 2 + 55 * 5 - 200);
                        
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 170 - 10, canvas.height / 2 + 55 * 5 - 200 - 30 + 50);
                            ctx.lineTo(canvas.width / 2 - 170 - 10 + 350, canvas.height / 2 + 55 * 5 - 200 - 30 + 50);
                            ctx.stroke();
                            ctx.closePath();
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 150);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 150);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 70 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 70 + 150);
                                this.atualiza();
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 15,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);
                        },
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 3",
                        descricao: "De onde parti?",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo4.fase3.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();
                        this.temporizador.desenha();
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {passo1: "1° - Somando 2", passo2: "2° - Multiplicando por 3", passo3: "3° - Diminuindo 8", passo4: "4° - Dividindo por 2", passo5: "5° - Somando 1", resultado: 9, resposta: 6},
                            {passo1: "1° - Multiplicando por 7", passo2: "2° - Diminuindo 21", passo3: "3° - Multiplicando por 4", passo4: "4° - Diminuindo 2", passo5: "5° - Dividindo por 9", resultado: 6, resposta: 5},
                            {passo1: "1° - Somando 37", passo2: "2° - Multiplicando por 2", passo3: "3° - Diminuindo 39", passo4: "4° - Dividindo por 7", passo5: "5° - Diminuindo 5", resultado: 0, resposta: 0},
                            {passo1: "1° - Dividindo por 2", passo2: "2° - Multiplicando por 11", passo3: "3° - Somando 9", passo4: "4° - Multiplicando por 0.5", passo5: "5° - Dividindo por 0.25", resultado: 40, resposta: 2},
                            {passo1: "1° - Somando 95", passo2: "2° - Dividindo por 3", passo3: "3° - Somando 8", passo4: "4° - Dividindo por 5", passo5: "5° - Diminuindo 5", resultado: 3, resposta: 1},
                            {passo1: "1° - Multiplicando por 7", passo2: "2° - Somando 7", passo3: "3° - Dividindo por 7", passo4: "4° - Somando 1", passo5: "5° - Multiplicando por 7", resultado: 77, resposta: 9},
                            {passo1: "1° - Diminuindo 3", passo2: "2° - Multiplicando por 9", passo3: "3° - Somando 2", passo4: "4° - Dividindo por 5", passo5: "5° - Somando -4", resultado: 0, resposta: 5},
                            {passo1: "1° - Dividindo por 5", passo2: "2° - Multiplicando por 9", passo3: "3° - Diminuindo 13", passo4: "4° - Somando 1", passo5: "5° - Dividindo por 30", resultado: 0.2, resposta: 10},
                            {passo1: "1° - Somando 6", passo2: "2° - Dividindo por 5", passo3: "3° - Multiplicando por 46", passo4: "4° - Somando 7", passo5: "5° - Dividindo por 11", resultado: 9, resposta: 4},
                            {passo1: "1° - Multiplicando por 15", passo2: "2° - Diminuindo 15", passo3: "3° - Somando 3", passo4: "4° - Dividindo por 11", passo5: "5° - Diminuindo 4", resultado: -1, resposta: 3},
                            {passo1: "1° - Elevando ao quadrado", passo2: "2° - Dividindo por 6", passo3: "3° - Somando 6", passo4: "4° - Multiplicando por 2", passo5: "5° - Diminuindo 27", resultado: 33, resposta: 12},
                            {passo1: "1° - Dividindo por 8", passo2: "2° - Somando 7", passo3: "3° - Multiplicando por 11", passo4: "4° - Somando 3", passo5: "5° - Dividindo por 6", resultado: 17, resposta: 16},
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        desenha() {
                            this.atualiza();
                            ctx.textAlign = "left";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.fillText(this.banco[this.numQuestao].passo1, canvas.width / 2 - 200, canvas.height / 2 - 250);
                            ctx.fillText(this.banco[this.numQuestao].passo2, canvas.width / 2 - 200, canvas.height / 2 + 55 - 250);
                            ctx.fillText(this.banco[this.numQuestao].passo3, canvas.width / 2 - 200, canvas.height / 2 + 55 * 2 - 250);
                            ctx.fillText(this.banco[this.numQuestao].passo4, canvas.width / 2 - 200, canvas.height / 2 + 55 * 3 - 250);
                            ctx.fillText(this.banco[this.numQuestao].passo5, canvas.width / 2 - 200, canvas.height / 2 + 55 * 4 - 250);
                            
                            ctx.font = "40px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText("É obtido " + this.banco[this.numQuestao].resultado, canvas.width / 2, canvas.height / 2 + 55 * 5 - 200);
                        
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 170 - 10, canvas.height / 2 + 55 * 5 - 200 - 30 + 50);
                            ctx.lineTo(canvas.width / 2 - 170 - 10 + 350, canvas.height / 2 + 55 * 5 - 200 - 30 + 50);
                            ctx.stroke();
                            ctx.closePath();
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.quantQuestoes ++;
                                this.onload = false;
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        alpha: 0,
                        aparecendo: true,

                        desenha() {
                            ctx.strokeStyle = "black";
                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 150);
                            ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 150);
                            ctx.stroke();
                            ctx.closePath();

                            ctx.font = "70px 'Silkscreen'";
                            ctx.fillStyle = "white";
                            ctx.textAlign = "center";
                            ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 70 + 150);

                            if (this.resposta.length == 0) {
                                ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 70 + 150);
                                this.atualiza();
                            }
                        },

                        inputs(letra) {
                            if (letra == "Enter") {
                                if (this.resposta == telas.jogo.capitulo4.fase3.principal.questao.banco[telas.jogo.capitulo4.fase3.principal.questao.numQuestao].resposta) {
                                    telas.jogo.capitulo4.fase3.points ++;
                                }

                                if (telas.jogo.capitulo4.fase3.principal.questao.quantQuestoes < 10) {
                                    let num = telas.jogo.capitulo4.fase3.principal.questao.numQuestao;

                                    while (num == telas.jogo.capitulo4.fase3.principal.questao.numQuestao) {
                                        telas.jogo.capitulo4.fase3.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo4.fase3.principal.questao.banco.length);
                                    }

                                    telas.jogo.capitulo4.fase3.principal.questao.quantQuestoes ++;
                                }
                                
                                else {
                                    telas.jogo.capitulo4.fase3.parte = 3;
                                }

                                this.resposta = "";
                                telas.jogo.capitulo4.fase3.principal.temporizador.texto = 15;
                                telas.jogo.capitulo4.fase3.principal.temporizador.counter = 0;
                            }

                            else if (letra == "Backspace") {
                                this.resposta = this.resposta.substring(0, this.resposta.length - 1);
                            }

                            else {
                                if (this.resposta.length < 4) {
                                    this.resposta += letra;
                                }
                                
                                else {
                                    alert("Número máximo de caracteres excedido!");
                                }
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        }
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 15,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 65);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 15;

                                    if (telas.jogo.capitulo4.fase3.principal.questao.quantQuestoes < 10) {
                                        let num = telas.jogo.capitulo4.fase3.principal.questao.numQuestao;

                                        while (num == telas.jogo.capitulo4.fase3.principal.questao.numQuestao) {
                                            telas.jogo.capitulo4.fase3.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo4.fase3.principal.questao.banco.length);
                                        }

                                        telas.jogo.capitulo4.fase3.principal.questao.quantQuestoes ++;
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo4.fase3.parte = 3;
                                    }
    
                                    telas.jogo.capitulo4.fase3.principal.solucao.resposta = "";
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo4.fase3.allowBotoes) {
                            if (telas.jogo.capitulo4.fase3.points >= 7 || banco.capitulo4.fase3_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo4.fase3_pass = true;
                                    telas.lobby.capitulos[3].fase_4 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo4.fase3.points >= 7 || banco.capitulo4.fase3_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo4.fase3.points >= 7 || banco.capitulo4.fase3_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo4.fase3.points >= 7 || banco.capitulo4.fase3_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo4.fase3.points >= 7 || banco.capitulo4.fase3_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo4.fase3.points >= 3) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo4.fase3.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo4.fase3.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo4.fase3.points > 6) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo4.fase3.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo4.fase3.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo4.fase3.points == 10) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo4.fase3.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo4.fase3.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            //perguntas aleatórias

            fase4: {
                parte: 1,
                points: 0,
                tutorialAllow: true,
                allowBotoes: false,
                allowClick: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.parte = 1;

                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.quantQuestoes1 = 0;
                    this.principal.questao.onload = true;

                    this.principal.solucao.resposta = "";
                    this.principal.solucao.resposta1 = "";
                    this.principal.solucao.alpha = 0;
                    this.principal.solucao.aparecendo = true;
                    this.principal.solucao.questoes = [];
                    this.principal.solucao.questoes1 = [];
                    this.principal.solucao.questoes2 = [];

                    this.principal.temporizador.counter = 0;
                    this.principal.temporizador.texto = 10;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX3 = 0;

                    this.final.botoes.exit.hover = false;
                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                },

                tutorial: {
                    parte: 1,
                    counter: 0,
                    alpha: 1,

                    desenha() {
                        this.background.desenha();
                        
                        if (this.parte == 1) {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillStyle = "white";
                            ctx.fillText("Memorize suas respostas :)", canvas.width / 2, canvas.height / 2);
                            ctx.textAlign = "center";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.fillText("Clique para continuar", canvas.width / 2, canvas.height - 30);
                        }

                        else {
                            telas.jogo.capitulo4.fase4.tutorialAllow = false;
                        }
                    },

                    atualiza() {
                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 4",
                        descricao: "Perguntas variadas",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo4.fase4.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    parte: 1,

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.solucao.desenha();

                        if (this.parte == 2) {
                            this.temporizador.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [
                            {pergunta: "Você tem medo de altura?", resposta: "", ordem: null},
                            {pergunta: "Qual sua cor favorita?", resposta: "", ordem: null},
                            {pergunta: "Você já tomou água hoje?", resposta: "", ordem: null},
                            {pergunta: "Que horas são agora?", resposta: "", ordem: null},
                            {pergunta: "Você dormiu bem esta noite?", resposta: "", ordem: null},
                            {pergunta: "Você já tomou café da manhã hoje?", resposta: "", ordem: null},
                            {pergunta: "Você possui algum animal de estimação?", resposta: "", ordem: null},
                            {pergunta: "Você tem quantos anos de idade?", resposta: "", ordem: null},
                            {pergunta: "Você está sentado?", resposta: "", ordem: null},
                            {pergunta: "Você gostou deste jogo?", resposta: "", ordem: null},
                            {pergunta: "Você está usando sapatos?", resposta: "", ordem: null},
                            {pergunta: "Você é inteligente?", resposta: "", ordem: null},
                            {pergunta: "Você já tomou banho hoje?", resposta: "", ordem: null},
                            {pergunta: "Você pratica algum tipo de atividade física?", resposta: "", ordem: null},
                        ],

                        banco2: [
                            {pergunta: "Qual foi sua resposta para a  ° questão?", qualQuestao: 0},
                            {pergunta: "Qual foi a  ° questão que você respondeu?", qualQuestao: 0}
                        ],

                        numQuestao: 0,
                        quantQuestoes: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2 - 100,

                        onload: true,

                        quantQuestoes1: 0,
                        numQuestao1: 0,

                        desenha() {
                            this.atualiza();

                            if (telas.jogo.capitulo4.fase4.principal.parte == 1) {
                                ctx.textAlign = "center";
                                ctx.font = "35px 'Silkscreen'";
                                ctx.fillStyle = "white";
                                ctx.fillText(this.banco[this.numQuestao].pergunta, canvas.width / 2, canvas.height / 2 - 200);

                                ctx.strokeStyle = "white";
                                ctx.lineWidth = 3;
                                ctx.beginPath();
                                ctx.moveTo(canvas.width / 2 - 500, canvas.height / 2 - 190);
                                ctx.lineTo(canvas.width / 2 - 500 + 1000, canvas.height / 2 - 190);
                                ctx.stroke();
                                ctx.closePath();
                            }

                            else {
                                let texto = "";

                                if (this.numQuestao1 == 0) {
                                    texto = this.banco2[0].pergunta.substring(0, 29) + (this.banco2[0].qualQuestao + 1) + this.banco2[0].pergunta.substring(30, 40);
                                }

                                else {
                                    texto = this.banco2[1].pergunta.substring(0, 11) + (this.banco2[1].qualQuestao + 1) + this.banco2[1].pergunta.substring(12, 43);
                                }

                                ctx.fillStyle = "black";
                                ctx.strokeStyle = "white";
                                ctx.fillRect(canvas.width / 2 - 450, canvas.height / 2 - 200 - 60, 900, 100);
                                ctx.strokeRect(canvas.width / 2 - 450, canvas.height / 2 - 200 - 60, 900, 100);

                                ctx.fillStyle = "white";
                                ctx.font = "30px 'Silkscreen'";
                                ctx.fillText(texto, canvas.width / 2, canvas.height / 2 - 200);
                            }
                        },

                        atualiza() {
                            if (this.onload) {
                                this.numQuestao = Math.floor(Math.random() * this.banco.length);
                                this.banco[this.numQuestao].ordem = this.quantQuestoes;
                                this.quantQuestoes ++;
                                this.onload = false;

                                telas.jogo.capitulo4.fase4.principal.solucao.questoes.push(
                                    {questao: this.numQuestao}
                                )
                            }
                        },
                    },

                    solucao: {
                        resposta: "",
                        resposta1: "",
                        alpha: 0,
                        aparecendo: true,

                        questoes: [],
                        questoes1: [],
                        questoes2: [],
                        
                        click: false,
                        x: canvas.width / 2 - 510 - 100,
                        x1: canvas.width / 2 + 10, 
                        y1: 350,
                        y2: 500,
                        y3: 350,
                        y4: 500,
                        largura: 600,
                        altura: 100,
                        alter: null,
                        counter: 0,
                        counter1: 0,
                        numProblema: 0,

                        alter1: null,
                        alter2: null,
                        alter3: null,
                        alter4: null,

                        desenha() {
                            if (telas.jogo.capitulo4.fase4.principal.parte == 1) {
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;

                                ctx.beginPath();
                                ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                                ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                                ctx.stroke();
                                ctx.closePath();

                                ctx.font = "70px 'Silkscreen'";
                                ctx.fillStyle = "white";
                                ctx.textAlign = "center";
                                ctx.fillText(this.resposta, canvas.width / 2, canvas.height / 2 + 150);

                                if (this.resposta.length == 0) {
                                    ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                    ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                    this.atualiza();
                                }
                            }

                            else {
                                if (telas.jogo.capitulo4.fase4.principal.questao.numQuestao1 == 0) {
                                    ctx.strokeStyle = "black";
                                    ctx.lineWidth = 3;

                                    ctx.beginPath();
                                    ctx.moveTo(canvas.width / 2 - 400, canvas.height / 2 + 80 + 100);
                                    ctx.lineTo(canvas.width / 2 - 400 + 800, canvas.height / 2 + 80 + 100);
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.font = "70px 'Silkscreen'";
                                    ctx.fillStyle = "white";
                                    ctx.textAlign = "center";
                                    ctx.fillText(this.resposta1, canvas.width / 2, canvas.height / 2 + 150);

                                    if (this.resposta1.length == 0) {
                                        ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                                        ctx.fillText("Escreva aqui", canvas.width / 2, canvas.height / 2 + 150);
                                        this.atualiza();
                                    }
                                }

                                else {
                                    ctx.fillStyle = "rgba(60, 140, 60, 0.8)";
                                    ctx.fillRect(this.x, this.y1, this.largura, this.altura);
                                    ctx.fillRect(this.x, this.y2, this.largura, this.altura);
                                    ctx.fillRect(this.x1, this.y3, this.largura, this.altura);
                                    ctx.fillRect(this.x1, this.y4, this.largura, this.altura);

                                    ctx.lineWidth = 3;
                                    ctx.strokeStyle = "rgba(0, 0, 0, 0.8)";

                                    ctx.strokeRect(this.x, this.y1, this.largura, this.altura);
                                    ctx.strokeRect(this.x, this.y2, this.largura, this.altura);
                                    ctx.strokeRect(this.x1, this.y3, this.largura, this.altura);
                                    ctx.strokeRect(this.x1, this.y4, this.largura, this.altura);

                                    ctx.textAlign = "center";
                                    ctx.font = "20px 'Silkscreen'";
                                    ctx.fillStyle = "white";

                                    ctx.fillText(this.alter1, this.x + this.largura / 2, this.y1 + this.altura / 2 + 10);
                                    ctx.fillText(this.alter2, this.x + this.largura / 2, this.y2 + this.altura / 2 + 10);
                                    ctx.fillText(this.alter3, this.x1 + this.largura / 2, this.y3 + this.altura / 2 + 10);
                                    ctx.fillText(this.alter4, this.x1 + this.largura / 2, this.y4 + this.altura / 2 + 10);                        
                                    
                                    if (this.click) {
                                        if (this.alter == telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta) {
                                            telas.jogo.capitulo4.fase4.points ++;
                                            console.log("+1 ponto");
                                        }

                                        else {
                                            console.log("no points");
                                            console.log(this.alter + " != " + telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao);
                                        }

                                        if (telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes1 < 5) {
                                            console.log(telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes1);
                                            telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes1 ++;
    
                                            if (Math.floor(Math.random() * 2) == 0) {
                                                telas.jogo.capitulo4.fase4.principal.questao.numQuestao1 = 0;
    
                                                do {
                                                    telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao = Math.floor(Math.random() * 10);
                                                } while(!this.verificaQuestao1(telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao));
    
                                                this.questoes1.push(
                                                    {questao: telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao}
                                                )
                                            }
    
                                            else {
                                                telas.jogo.capitulo4.fase4.principal.questao.numQuestao1 = 1;
    
                                                do {
                                                    telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao = Math.floor(Math.random() * 10);
                                                } while(!this.verificaQuestao2(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao));
                                            
                                                this.questoes2.push(
                                                    {questao: telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao}
                                                )
    
                                                switch(Math.floor(Math.random() * 4)) {
                                                    case 0: {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;
    
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;
    
                                                            if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
    
                                                            else {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                            }
                                                        }
    
                                                        else {
                                                            if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
    
                                                            else {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
                                                        }
    
                                                        break;
                                                    }
                                                    
                                                    case 1: {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;
    
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;
    
                                                            if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
    
                                                            else {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                            }
                                                        }
    
                                                        else {
                                                            if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
    
                                                            else {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
                                                        }
    
                                                        break;
                                                    }
    
                                                    case 2: {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;
    
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;
    
                                                            if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
    
                                                            else {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                            }
                                                        }
    
                                                        else {
                                                            if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
    
                                                            else {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
                                                        }
    
                                                        break;
                                                    }
    
                                                    case 3: {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;
    
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;
    
                                                            if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
    
                                                            else {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                            }
                                                        }
    
                                                        else {
                                                            if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
    
                                                            else {
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                                telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                            }
                                                        }
    
                                                        break;
                                                    }
                                                }
                                            }
                                        }

                                        else {
                                            telas.jogo.capitulo4.fase4.parte ++;
                                        }
                                        
                                        this.click = false;
                                        this.alter = null;
                                        telas.jogo.capitulo4.fase4.principal.temporizador.counter = 0;
                                        telas.jogo.capitulo4.fase4.principal.temporizador.texto = 10;
                                    }
                                }
                            }
                        },

                        inputs(letra) {
                            if (telas.jogo.capitulo4.fase4.principal.parte == 1) {
                                if (letra == "Enter") {
                                    if (this.resposta.length > 0) {
                                        telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.questao.numQuestao].resposta = this.resposta;
                                        this.resposta = "";

                                        if (telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes < 10) {
                                            do {
                                                telas.jogo.capitulo4.fase4.principal.questao.numQuestao = Math.floor(Math.random() * telas.jogo.capitulo4.fase4.principal.questao.banco.length);
                                            }while (!this.verificaQuestao(telas.jogo.capitulo4.fase4.principal.questao.numQuestao));
                                            
                                            telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.questao.numQuestao].ordem = telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes;
                                            telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes ++;
    
                                            this.questoes.push(
                                                {questao: telas.jogo.capitulo4.fase4.principal.questao.numQuestao}
                                            )
                                        }
                                        
                                        else {
                                            telas.jogo.capitulo4.fase4.principal.parte ++;

                                            telas.jogo.capitulo4.fase4.principal.questao.numQuestao1 = Math.floor(Math.random() * telas.jogo.capitulo4.fase4.principal.questao.banco2.length);

                                            if (telas.jogo.capitulo4.fase4.principal.questao.numQuestao1 == 0) {
                                                telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao = Math.floor(Math.random() * 10);

                                                telas.jogo.capitulo4.fase4.principal.solucao.questoes1.push(
                                                    {questao: telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao}
                                                )
                                            }

                                            else {
                                                telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao = Math.floor(Math.random() * 10);

                                                telas.jogo.capitulo4.fase4.principal.solucao.questoes2.push(
                                                    {questao: telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao}
                                                )
                                            }
                                            
                                            telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes1 ++;

                                            switch(Math.floor(Math.random() * 4)) {
                                                case 0: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }
                                                
                                                case 1: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }

                                                case 2: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }

                                                case 3: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }
                                            }
                                        }
                                    }

                                    else {
                                        alert("ERROR!\nInsira algo em sua resposta!");
                                    }
                                }

                                else if (letra == "Backspace") {
                                    this.resposta = this.resposta.substring(0, this.resposta.length - 1);
                                }

                                else {
                                    if (this.resposta.length < 12) {
                                        this.resposta += letra;
                                    }
                                    
                                    else {
                                        alert("Número máximo de caracteres excedido!");
                                    }
                                }
                            }
                            
                            else {
                                if (letra == "Enter") {
                                    if (this.resposta1 === this.verificaOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao)) {
                                        telas.jogo.capitulo4.fase4.points ++;
                                        console.log("+1 ponto");
                                    }

                                    else {
                                        console.log("no points");
                                        console.log(this.resposta1 + " != " + this.verificaOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao));
                                        console.log("ordem = " + telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao + ".");
                                    }

                                    if (telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes1 < 5) {
                                        console.log(telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes1);
                                        telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes1 ++;

                                        if (Math.floor(Math.random() * 2) == 0) {
                                            telas.jogo.capitulo4.fase4.principal.questao.numQuestao1 = 0;

                                            do {
                                                telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao = Math.floor(Math.random() * 10);
                                            } while(!this.verificaQuestao1(telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao));

                                            this.questoes1.push(
                                                {questao: telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao}
                                            )
                                        }

                                        else {
                                            telas.jogo.capitulo4.fase4.principal.questao.numQuestao1 = 1;

                                            do {
                                                telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao = Math.floor(Math.random() * 10);
                                            } while(!this.verificaQuestao2(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao));
                                        
                                            this.questoes2.push(
                                                {questao: telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao}
                                            )

                                            switch(Math.floor(Math.random() * 4)) {
                                                case 0: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }
                                                
                                                case 1: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }

                                                case 2: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }

                                                case 3: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[this.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }
                                            }
                                        }
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo4.fase4.parte ++;
                                    }

                                    this.resposta1 = "";
                                    telas.jogo.capitulo4.fase4.principal.temporizador.texto = 10;
                                    telas.jogo.capitulo4.fase4.principal.temporizador.counter = 0;
                                }

                                else if (letra == "Backspace") {
                                    this.resposta1 = this.resposta1.substring(0, this.resposta1.length - 1);
                                }

                                else {
                                    if (this.resposta1.length < 12) {
                                        this.resposta1 += letra;
                                    }
                                    
                                    else {
                                        alert("Número máximo de caracteres excedido!");
                                    }
                                }
                            }
                        },

                        atualiza() {
                            if (this.aparecendo) {
                                if (this.alpha < 0.99) {
                                    this.alpha += 0.01;
                                }

                                else {
                                    this.aparecendo = false;
                                }
                            }

                            else {
                                if (this.alpha > 0.01) {
                                    this.alpha -= 0.01;
                                }

                                else {
                                    this.aparecendo = true;
                                }
                            }
                        },

                        verificaQuestao(questao) {
                            for (let i = 0; i < this.questoes.length; i++) {
                                if (questao == this.questoes[i].questao) {
                                    return false;
                                }
                            }

                            return true;
                        },

                        verificaQuestao1(questao) {
                            for (let i = 0; i < this.questoes1.length; i++) {
                                if (questao == this.questoes1[i].questao) {
                                    return false;
                                }
                            }

                            if (telas.jogo.capitulo4.fase4.principal.questao.banco[questao].resposta != "") {
                                return true;
                            }

                            else {
                                return false;
                            }                      
                        },

                        verificaQuestao2(questao) {
                            for (let i = 0; i < this.questoes2.length; i++) {
                                if (questao == this.questoes2[i].questao) {
                                    return false;
                                }
                            }

                            if (telas.jogo.capitulo4.fase4.principal.questao.banco[questao].resposta != "") {
                                return true;
                            }

                            else {
                                return false;
                            }
                        },

                        verificaOrdem(pos) {
                            for (let i = 0; i < telas.jogo.capitulo4.fase4.principal.questao.banco.length; i++) {
                                if (telas.jogo.capitulo4.fase4.principal.questao.banco[i].ordem == pos) {
                                    return telas.jogo.capitulo4.fase4.principal.questao.banco[i].resposta;
                                }
                            }

                            return null;
                        },

                        descobreOrdem(pos) {
                            for (let i = 0; i < telas.jogo.capitulo4.fase4.principal.questao.banco.length; i++) {
                                if (telas.jogo.capitulo4.fase4.principal.questao.banco[i].ordem == pos) {
                                    return i;
                                }
                            }

                            return null;
                        },
                    },

                    temporizador: {
                        counter: 0,
                        cor: "green",
                        texto: 10,

                        desenha() {
                            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;

                            ctx.fillRect(canvas.width - 80 - 40, 50 - 40, 80, 80);
                            ctx.strokeRect(canvas.width - 80 - 40, 50 - 40, 80, 80);

                            ctx.fillStyle = this.cor;
                            ctx.font = "50px 'Silkscreen'";
                            ctx.textAlign = "center";
                            ctx.fillText(this.texto, canvas.width - 80, 68);

                            this.atualiza();
                        },

                        atualiza() {
                            this.counter ++;

                            if (this.texto >= 7) {
                                this.cor = "green";
                            }

                            else if (this.texto >= 4) {
                                this.cor = "yellow";
                            }

                            else {
                                this.cor = "red";
                            }

                            if (this.counter >= 60) {
                                if (this.texto > 1) {
                                    this.texto --;
                                }

                                else {
                                    this.texto = 10;

                                    if (telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes1 < 5) {
                                        telas.jogo.capitulo4.fase4.principal.questao.quantQuestoes1 ++;

                                        if (Math.floor(Math.random() * 2) == 0) {
                                            telas.jogo.capitulo4.fase4.principal.questao.numQuestao1 = 0;

                                            do {
                                                telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao = Math.floor(Math.random() * 10);
                                            } while(!telas.jogo.capitulo4.fase4.principal.solucao.verificaQuestao1(telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao));

                                            telas.jogo.capitulo4.fase4.principal.solucao.questoes1.push(
                                                {questao: telas.jogo.capitulo4.fase4.principal.questao.banco2[0].qualQuestao}
                                            )
                                        }

                                        else {
                                            telas.jogo.capitulo4.fase4.principal.questao.numQuestao1 = 1;

                                            do {
                                                telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao = Math.floor(Math.random() * 10);
                                            } while(!telas.jogo.capitulo4.fase4.principal.solucao.verificaQuestao2(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao));
                                        
                                            telas.jogo.capitulo4.fase4.principal.solucao.questoes2.push(
                                                {questao: telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao}
                                            )

                                            switch(Math.floor(Math.random() * 4)) {
                                                case 0: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }
                                                
                                                case 1: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }

                                                case 2: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }

                                                case 3: {
                                                    telas.jogo.capitulo4.fase4.principal.solucao.alter4 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao)].pergunta;

                                                    if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2 < 10) {
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                        telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 2)].pergunta;

                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1 >= 0) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 3)].pergunta;
                                                        }
                                                    }

                                                    else {
                                                        if (telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1 < 10) {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao + 1)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }

                                                        else {
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter1 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 3)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter2 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 2)].pergunta;
                                                            telas.jogo.capitulo4.fase4.principal.solucao.alter3 = telas.jogo.capitulo4.fase4.principal.questao.banco[telas.jogo.capitulo4.fase4.principal.solucao.descobreOrdem(telas.jogo.capitulo4.fase4.principal.questao.banco2[1].qualQuestao - 1)].pergunta;
                                                        }
                                                    }

                                                    break;
                                                }
                                            }
                                        }
                                    }
                                    
                                    else {
                                        telas.jogo.capitulo4.fase4.parte = 3;
                                    }
    
                                    telas.jogo.capitulo4.fase4.principal.solucao.resposta1 = "";
                                    telas.jogo.capitulo4.fase4.principal.solucao.click = false;
                                    telas.jogo.capitulo4.fase4.principal.solucao.alter = null;
                                }

                                this.counter = 0;
                            }
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo4.fase4.allowBotoes) {
                            if (telas.jogo.capitulo4.fase4.points >= 3 || banco.capitulo4.fase4_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo4.fase4_pass = true;
                                    telas.lobby.capitulos[3].fase_5 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo4.fase4.points >= 3 || banco.capitulo4.fase4_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo4.fase4.points >= 3 || banco.capitulo4.fase4_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo4.fase4.points >= 3 || banco.capitulo4.fase4_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo4.fase4.points >= 3 || banco.capitulo4.fase4_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo4.fase4.points >= 1) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo4.fase4.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo4.fase4.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo4.fase4.points >= 3) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo4.fase4.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo4.fase4.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo4.fase4.points == 5) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo4.fase4.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo4.fase4.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            //siga a sequencia

            fase5: {
                parte: 1,
                points: 0,
                allowBotoes: false,
                allowClick: false,
                aprovado: false,
                tutorialAllow: true,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.parte = 1;
                    this.principal.questao.ordem = [];
                    this.principal.questao.onload = true;
                    this.principal.questao.counter = 0;
                    this.principal.questao.quantOrdem = 0;
                    this.principal.questao.quantQuestoes = 0;
                    this.principal.questao.ordem1 = 0;
                    this.principal.questao.counter = 0;
                    this.principal.questao.counterDraw = 0;
                    this.principal.questao.onload = true;
                    this.principal.questao.click = false;
                    this.principal.questao.acerto = null;
                    this.principal.questao.ganhou = false;
                    this.principal.questao.clickAllow = false;

                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.exit.hover = false;
                    
                    this.final.text.onload = true;
                    this.final.text.onload1 = true;
                    this.final.text.spriteX = 0;
                    this.final.text.counter = 0;
                    this.final.text.counter1 = 0;
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 5",
                        descricao: "O quarto desafio",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo4.fase5.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                tutorial: {
                    alpha: 1,
                    counter: 0,

                    desenha() {
                        this.atualiza();

                        this.backgroud.desenha();

                        ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                        ctx.fillRect(0, 0, canvas.width, canvas.height);

                        ctx.fillStyle = "white";
                        ctx.font = "70px 'Silkscreen'";
                        ctx.textAlign = "center";
                        ctx.fillText("Reproduza o padrão", canvas.width / 2, canvas.height / 2);

                        ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                        ctx.font = "30px 'Silkscreen'";
                        ctx.textAlign = "center";
                        ctx.fillText("Clique para continuar", canvas.width / 2, canvas.height - 50);
                    },

                    atualiza() {
                        this.counter ++;

                        if (this.counter < 30) {
                            this.alpha = 1;
                        }

                        else if (this.counter < 60) {
                            this.alpha = 0;
                        }

                        else {
                            this.counter = 0;
                        }
                    },

                    backgroud: {
                        s: new Image(),
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.s,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )
                        },

                        atualiza() {
                            if (this.onload) {
                                this.s.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    }
                },

                principal: {
                    parte: 1,

                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        ordem: [],

                        alters: [
                            {
                                x: canvas.width / 2 - 430 / 2 + 10,
                                y: canvas.height / 2 - 430 / 2 + 10,
                                larg: 200,
                                alt: 200,
                                
                                cor: "rgb(127, 50, 50)",
                                corHover: "rgb(255, 100, 100)",
                                corAtual: "rgb(127, 50, 50)",

                                hover: false,

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.corAtual;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;

                                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                },

                                atualiza() {
                                    if (this.hover) {
                                        this.corAtual = this.corHover;
                                    }

                                    else {
                                        this.corAtual = this.cor;
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 - 430 / 2 + 20 + 200,
                                y: canvas.height / 2 - 430 / 2 + 10,
                                larg: 200,
                                alt: 200,
                                
                                cor: "rgb(50, 127, 127)",
                                corHover: "rgb(100, 255, 255)",
                                corAtual: "rgb(50, 127, 127)",

                                hover: false,

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.corAtual;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;

                                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                },

                                atualiza() {
                                    if (this.hover) {
                                        this.corAtual = this.corHover;
                                    }

                                    else {
                                        this.corAtual = this.cor;
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 - 430 / 2 + 10,
                                y: canvas.height / 2 - 430 / 2 + 20 + 200,
                                larg: 200,
                                alt: 200,
                                
                                cor: "rgb(50, 50, 127)",
                                corHover: "rgb(100, 100, 255)",
                                corAtual: "rgb(50, 50, 127)",

                                hover: false,

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.corAtual;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;

                                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                },

                                atualiza() {
                                    if (this.hover) {
                                        this.corAtual = this.corHover;
                                    }

                                    else {
                                        this.corAtual = this.cor;
                                    }
                                }
                            },

                            {
                                x: canvas.width / 2 - 430 / 2 + 20 + 200,
                                y: canvas.height / 2 - 430 / 2 + 20 + 200,
                                larg: 200,
                                alt: 200,
                                
                                cor: "rgb(50, 127, 50)",
                                corHover: "rgb(100, 255, 100)",
                                corAtual: "rgb(50, 127, 50)",

                                hover: false,

                                desenha() {
                                    this.atualiza();

                                    ctx.fillStyle = this.corAtual;
                                    ctx.strokeStyle = "white";
                                    ctx.lineWidth = 3;

                                    ctx.fillRect(this.x, this.y, this.larg, this.alt);
                                    ctx.strokeRect(this.x, this.y, this.larg, this.alt);
                                },

                                atualiza() {
                                    if (this.hover) {
                                        this.corAtual = this.corHover;
                                    }

                                    else {
                                        this.corAtual = this.cor;
                                    }
                                }
                            }
                        ],
                        
                        square: {
                            x: canvas.width / 2 - 430 / 2,
                            y: canvas.height / 2 - 430 / 2,
                            larg: 430,
                            alt: 430,
                        },

                        counter: 0,
                        quantOrdem: 0,
                        quantQuestoes: 0,
                        ordem1: 0,
                        counter: 0,
                        counterDraw: 0,

                        onload: true,
                        click: false,
                        acerto: null,
                        ganhou: false,
                        clickAllow: false,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "white";
                            ctx.fillRect(this.square.x, this.square.y, this.square.larg, this.square.alt);
                            ctx.strokeRect(this.square.x, this.square.y, this.square.larg, this.square.alt);
                            
                            ctx.fillStyle = "white";
                            ctx.font = "30px 'Silkscreen'";
                            ctx.textAlign = "center";

                            if (telas.jogo.capitulo4.fase5.principal.parte == 1) {
                                ctx.fillText("Decore", canvas.width / 2, 65);
                            }

                            else {
                                ctx.fillText("Reproduza", canvas.width / 2, 65);
                            }

                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;

                            ctx.beginPath();
                            ctx.moveTo(canvas.width / 2 - 110, 75);
                            ctx.lineTo(canvas.width / 2 + 110, 75);
                            ctx.stroke();
                            ctx.closePath();

                            if (this.counterDraw >= 60) {
                                for (let i = 0; i < this.alters.length; i++) {
                                    if (telas.jogo.capitulo4.fase5.principal.parte == 1) {
                                        if (i == this.ordem[this.ordem1]) {
                                            this.counter ++;
                                            this.alters[i].hover = true;
    
                                            if (this.counter > 30) {
                                                this.alters[i].hover = false;
    
                                                if (this.counter > 50) {
                                                    this.counter = 0;
    
                                                    if (this.ordem.length - 1 > this.ordem1) {
                                                        this.ordem1 ++;
                                                    }
        
                                                    else {
                                                        telas.jogo.capitulo4.fase5.principal.parte ++;
                                                        this.clickAllow = true;
                                                    }
                                                }
                                            }
                                        }
    
                                        else {
                                            this.alters[i].hover = false;
                                        }
                                    }
    
                                    this.alters[i].desenha();
                                }
                            }
                            
                            else {
                                this.counterDraw ++;

                                this.alters.forEach(item => {
                                    item.hover = false;
                                    item.desenha();
                                })
                            }

                            if (this.click) {
                                this.clickAnimation.desenha();
                            }
                        },

                        atualiza() {
                            if (this.onload) {
                                for (let i = 0; i < 3; i++) {
                                    this.ordem.push(
                                        Math.floor(Math.random() * 4)
                                    )
                                }
                                
                                this.onload = false;
                                this.quantQuestoes ++;
                            }
                        },

                        criaOrdem() {
                            this.ordem.push(
                                Math.floor(Math.random() * 4)
                            )
                            
                            this.ordem1 = 0;
                            telas.jogo.capitulo4.fase5.principal.parte = 1;
                        },

                        verificaClick(x, y) {
                            for (let i = 0; i < this.alters.length; i++) {
                                if (x >= this.alters[i].x &&
                                    x <= this.alters[i].x + this.alters[i].larg &&
                                    y >= this.alters[i].y &&
                                    y <= this.alters[i].y + this.alters[i].alt) {
                                    if (i == this.ordem[this.quantOrdem]) {
                                        if (this.ordem.length - 1 > this.quantOrdem) {
                                            this.quantOrdem ++;
                                        }
                                        
                                        else {
                                            if (this.quantQuestoes < 8) {
                                                this.quantQuestoes ++;
                                                this.clickAnimation.final = true;
                                                this.criaOrdem();
                                                this.clickAllow = false;
                                                this.quantOrdem = 0;
                                                this.ganhou = false;
                                            }

                                            else {
                                                this.clickAnimation.final = true;
                                                this.ganhou = true;
                                            }
                                        }

                                        this.acerto = true;
                                    }

                                    else {
                                        this.acerto = false;
                                    }

                                    this.clickAnimation.mouseX = x;
                                    this.clickAnimation.mouseY = y;
                                    this.click = true;
                                    
                                    return;
                                }
                            }
                        },

                        clickAnimation: {
                            counter: 0,
                            alpha: 0.6,
                            alpha1: 0,
                            x: canvas.width / 2 + 430 / 2 + 150,
                            y: canvas.height / 2,
                            mouseX: 0,
                            mouseY: 0,
                            radius: 12,

                            final: false,
                            entrando: true,
                            saindo: false,

                            desenha() {
                                if (!telas.jogo.capitulo4.fase5.principal.questao.acerto) {
                                    ctx.fillStyle = "rgba(0, 0, 0 , " + this.alpha1 + ")";
                                    ctx.strokeStyle = "rgba(255, 255, 255, " + this.alpha1 + ")";
                                    ctx.lineWidth = 3;
                                    
                                    ctx.fillRect(this.x - 95, this.y - 115, 230, 230);
                                    ctx.strokeRect(this.x - 95, this.y - 115, 230, 230);

                                    ctx.strokeStyle = "rgba(255, 0, 0, " + this.alpha1 + ")";
                                    ctx.fillStyle = "rgba(255, 0, 0, " + this.alpha1 + ")";
                                    ctx.lineWidth = 30;

                                    ctx.beginPath();
                                    ctx.moveTo(this.x - 95 + 115 - 50, this.y - 50);
                                    ctx.lineTo(this.x - 95 + 115 + 50, this.y + 50);
                                    ctx.stroke();
                                    ctx.closePath();
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(this.x - 95 + 115 + 50, this.y - 50);
                                    ctx.lineTo(this.x - 95 + 115 - 50, this.y + 50);
                                    ctx.stroke();
                                    ctx.closePath();
                                }

                                if (this.final) {
                                    if (telas.jogo.capitulo4.fase5.principal.questao.acerto) {
                                        ctx.fillStyle = "rgba(0, 0, 0 , " + this.alpha1 + ")";
                                        ctx.strokeStyle = "rgba(255, 255, 255, " + this.alpha1 + ")";
                                        ctx.lineWidth = 5;

                                        ctx.fillRect(this.x - 95, this.y - 115, 230, 230);
                                        ctx.strokeRect(this.x - 95, this.y - 115, 230, 230);

                                        ctx.strokeStyle = "rgba(0, 255, 0, " + this.alpha1 + ")";
                                        ctx.fillStyle = "rgba(0, 255, 0, " + this.alpha1 + ")";
                                        ctx.lineWidth = 30;

                                        ctx.beginPath();
                                        ctx.moveTo(this.x, this.y + 30);
                                        ctx.lineTo(this.x - 60, this.y + 30 - 60);
                                        ctx.stroke();
                                        ctx.closePath();

                                        ctx.beginPath();
                                        ctx.moveTo(this.x, this.y + 51);
                                        ctx.lineTo(this.x + 100, this.y + 51 - 102);
                                        ctx.stroke();
                                        ctx.closePath();
                                    }
                                }
                                
                                ctx.beginPath();
                                ctx.fillStyle = "rgba(200, 50, 0, " + this.alpha + ")";
                                ctx.arc(this.mouseX, this.mouseY, this.radius, 0, Math.PI * 2);
                                ctx.fill();
                                ctx.closePath();

                                this.atualiza();
                            },

                            atualiza() {
                                telas.jogo.capitulo4.fase5.principal.questao.clickAllow = false;

                                if (this.final || !telas.jogo.capitulo4.fase5.principal.questao.acerto) {
                                    if (this.entrando) {
                                        if (this.alpha1 < 1) {
                                            this.alpha1 += 0.2;
                                        }

                                        else {
                                            this.entrando = false;
                                            this.saindo = true;
                                            this.counter ++;
                                        }
                                    }
                                    
                                    else {
                                        this.counter ++;
                                    }
                                }

                                else {
                                    this.counter ++;
                                }

                                if (this.counter > 10) {
                                    if (this.alpha > 0) {
                                        this.alpha -= 0.1;
                                    }

                                    if (this.saindo) {
                                        if (this.final || !telas.jogo.capitulo4.fase5.principal.questao.acerto) {
                                            if (this.alpha1 > 0) {
                                                this.alpha1 -= 0.2;
                                            }
    
                                            else {
                                                this.saindo = false;
                                                this.final = false;
                                            }
                                        }
                                    }

                                    else if (this.alpha <= 0) {
                                        if (!telas.jogo.capitulo4.fase5.principal.questao.acerto) {
                                            telas.jogo.capitulo4.fase5.parte ++;
                                            telas.jogo.capitulo4.fase5.aprovado = false;
                                        }

                                        else {
                                            telas.jogo.capitulo4.fase5.principal.questao.clickAllow = true;
                                        }

                                        if (telas.jogo.capitulo4.fase5.principal.questao.ganhou) {
                                            telas.jogo.capitulo4.fase5.parte ++;
                                            telas.jogo.capitulo4.fase5.aprovado = true;
                                        }

                                        telas.jogo.capitulo4.fase5.principal.questao.click = false;
                                        this.counter = 0;
                                        this.alpha = 0.6;
                                        this.entrando = true;
                                    }
                                }
                            }
                        }
                    },
                },

                final: {
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.text.desenha();

                        if (telas.jogo.capitulo4.fase5.aprovado || banco.capitulo4.fase5_pass) {
                            this.botoes.play.desenha();

                            if (this.onload) {
                                banco.capitulo4.fase5_pass = true;
                                telas.lobby.capitulos[4].fase_1 = false;
                                this.onload = false;
                            }
                        }
                        
                        this.botoes.exit.desenha();
                        this.botoes.retry.desenha();
                    },

                    text: {
                        s: new Image(),
                        onload: true,
                        onload1: true,

                        larg: 200,
                        spriteX: 0,
                        counter: 0,
                        counter1: 0,
                        texto: "",

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.s,
                                this.spriteX, 0,
                                this.larg, 200,
                                canvas.width / 2 - 100, canvas.height / 2 - 200,
                                200, 200
                            )
                        },

                        atualiza() {
                            if (this.onload) {
                                this.s.src = "./sprites/jogo/star/no colected.png";
                                this.onload = false;
                            }

                            if (this.counter >= 60) {
                                if (telas.jogo.capitulo4.fase5.aprovado) {
                                    if (this.onload1) {
                                        this.s.src = "./sprites/jogo/star/yes colected.png";
                                        this.larg = 200;
                                        this.onload1 = false;
                                    }

                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX < 2400) {
                                            this.spriteX += 200;
                                        }

                                        else {
                                            this.spriteX = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }
                            }

                            else {
                                this.counter ++;
                            }
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(canvas.width / 2 - 120, canvas.height / 2 - 200, 240, 220);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(canvas.width / 2 - 120, canvas.height / 2 - 200, 240, 220);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo4/spr - cap 4.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
         
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo4.fase5.aprovado || banco.capitulo4.fase5_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo4.fase5.aprovado || banco.capitulo4.fase5_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo4.fase5.aprovado || banco.capitulo4.fase5_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo4.fase5.aprovado || banco.capitulo4.fase5_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },
                },
            },
        },

        capitulo5: {
            //raciocínio lógico

            fase1: {
                parte: 1,
                points: 0,
                allowBotoes: false,
                allowClick: false,
                tutorialAllow: false,

                desenha() {
                    if (this.parte == 1) {
                        this.inicio.desenha();
                    }

                    else if (this.tutorialAllow) {
                        this.tutorial.desenha();
                    }

                    else if (this.parte == 2) {
                        this.principal.desenha();
                    }

                    else {
                        this.final.desenha();
                    }
                },

                reset() {
                    this.parte = 1;
                    this.points = 0;
                    this.allowBotoes = false;
                    this.allowClick = false;

                    this.inicio.titulo.alpha = 0;
                    this.inicio.titulo.counter = 0;
                    this.inicio.titulo.entrando = true;
                    this.inicio.titulo.saindo = false;

                    this.principal.questao.onload = true;
                    this.principal.botao_exit.hover = false;

                    this.final.aprovado = false;
                    this.final.stars.counter = 0;
                    this.final.stars.onload = true;
                    this.final.stars.disparaCounter = true;

                    this.final.stars.spriteX1 = 0;
                    this.final.stars.spriteX2 = 0;
                    this.final.stars.spriteX2 = 0;

                    this.final.botoes.play.hover = false;
                    this.final.botoes.retry.hover = false;
                    this.final.botoes.exit.hover = false;
                },

                inicio: {
                    desenha() {
                        this.background.desenha();
                        this.titulo.desenha();

                        telas.jogo.capitulo5.fase1.principal.questao.atualiza();
                    },

                    titulo: {
                        alpha: 0,
                        counter: 0,
                        x: canvas.width / 2,
                        y: canvas.height / 2,
                        x1: canvas.width / 2,
                        y1: canvas.height / 2 + 165,

                        text: "Fase 1",
                        descricao: "Sudoku",

                        entrando: true,
                        saindo: false,

                        desenha() {
                            ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                            ctx.textAlign = "center";
                            ctx.font = "120px 'Share Tech Mono'";

                            ctx.fillText(this.text, this.x, this.y);

                            ctx.font = "50px 'Silkscreen'";

                            ctx.fillText(this.descricao, this.x1, this.y1);

                            this.atualiza();
                        },

                        atualiza() {
                            if (this.entrando) {
                                this.alpha += 0.01;
                                if (this.alpha >= 0.99) {
                                    this.entrando = false;
                                    this.alpha = 1;
                                }
                            }

                            else if (this.saindo) {
                                this.alpha -= 0.01;

                                if (this.alpha <= 0.01) {
                                    telas.jogo.capitulo5.fase1.parte = 2;
                                }
                            }

                            else {
                                this.counter ++;

                                if (this.counter >= 200) {
                                    this.saindo = true;
                                    this.counter = 0;
                                }
                            }
                        },
                    },

                    background: {
                        desenha() {
                            ctx.fillStyle = "black";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }
                    }
                },

                principal: {
                    desenha() {
                        this.background.desenha();
                        this.questao.desenha();
                        this.botao_exit.desenha();
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.6)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo5/spr - cap 5.png";
                                this.onload = false;
                            }
                        },
                    },

                    questao: {
                        banco: [],
                        banco2: [],
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            ctx.fillRect(387.5, 62.5, 55 * 9 + 5, 55 * 9 + 5);

                            this.banco2.forEach(item => {
                                item.compartimento.desenha();
                            })

                            ctx.lineWidth = 5;
                            ctx.strokeStyle = "black";
                        },

                        atualiza() {
                            class Compartimento {
                                constructor(i, j) {
                                    this.linha = j;
                                    this.coluna = i;
                                    this.num = "";
                                    this.fixed = false;
                                    this.posX = 392.5 + this.coluna % 9 * 55;
                                    this.posY = 67.5 + this.linha * 55;
                                    this.selected = false;
                                    this.hover = false;
                                    this.counter = 0;
                                    this.alpha = 0;

                                    if (this.linha < 3) {
                                        if (this.coluna < 3) {
                                            this.quadrante = 1;
                                        }

                                        else if (this.coluna < 6) {
                                            this.quadrante = 2;
                                        }

                                        else {
                                            this.quadrante = 3;
                                        }
                                    }

                                    else if (this.linha < 6) {
                                        if (this.coluna < 3) {
                                            this.quadrante = 4;
                                        }

                                        else if (this.coluna < 6) {
                                            this.quadrante = 5;
                                        }

                                        else {
                                            this.quadrante = 6;
                                        }
                                    }

                                    else {
                                        if (this.coluna < 3) {
                                            this.quadrante = 7;
                                        }

                                        else if (this.coluna < 6) {
                                            this.quadrante = 8;
                                        }

                                        else {
                                            this.quadrante = 9;
                                        }
                                    }
                                }

                                atualizarValores(num) {
                                    this.num = num;
                                    this.fixed = true;
                                }

                                desenha() {
                                    switch(this.quadrante) {
                                        case 1: {
                                            ctx.fillStyle = "rgb(160, 160, 255)";
                                            break;
                                        }

                                        case 2: {
                                            ctx.fillStyle = "rgb(160, 255, 160)";
                                            break;
                                        }

                                        case 3: {
                                            ctx.fillStyle = "rgb(255, 160, 160)";
                                            break;
                                        }

                                        case 4: {
                                            ctx.fillStyle = "rgb(160, 160, 160)";
                                            break;
                                        }

                                        case 5: {
                                            ctx.fillStyle = "rgb(255, 255, 160)";
                                            break;
                                        }

                                        case 6: {
                                            ctx.fillStyle = "rgb(160, 255, 255)";
                                            break;
                                        }

                                        case 7: {
                                            ctx.fillStyle = "rgb(255, 160, 255)";
                                            break;
                                        }

                                        case 8: {
                                            ctx.fillStyle = "rgb(255, 255, 255)";
                                            break;
                                        }

                                        default: {
                                            ctx.fillStyle = "rgb(255, 255, 40)";
                                            break;
                                        }
                                    }

                                    ctx.globalAlpha = 0.7;
                                    ctx.fillRect(this.posX, this.posY, 50, 50);
                                    ctx.globalAlpha = 1;

                                    if (this.fixed) { 
                                        ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                                        ctx.fillRect(this.posX, this.posY, 50, 50);
                                    }

                                    else if (this.selected) {
                                        this.counter ++;

                                        if (this.counter < 30) {
                                            this.alpha = 0.7;
                                        }

                                        else if (this.counter < 60) {
                                            this.alpha = 0;
                                        }

                                        else {
                                            this.counter = 0;
                                        }

                                        ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                                        ctx.fillRect(this.posX, this.posY, 50, 50);
                                    }

                                    if (!this.fixed && this.hover) {
                                        ctx.strokeStyle = "white";
                                        ctx.lineWidth = 3;
                                        ctx.strokeRect(this.posX, this.posY, 50, 50);
                                    }

                                    if (this.num != "") {
                                        if (this.fixed) {
                                            ctx.fillStyle = "black";
                                        }

                                        else if (this.num == telas.jogo.capitulo5.fase1.principal.questao.banco[this.encontraIndex()].compartimento.num) {
                                            ctx.fillStyle = "rgb(0, 255, 0)";
                                        }

                                        else {
                                            ctx.fillStyle = "red";
                                        }
                                        
                                        ctx.font = "30px 'Silkscreen'";
                                        ctx.textAlign = "center";
                                        ctx.fillText(this.num, this.posX + 50 / 2, this.posY + 50 / 2 + 9);
                                    }
                                }

                                encontraIndex() {
                                    for (let i = 0; i < telas.jogo.capitulo5.fase1.principal.questao.banco.length; i++) {
                                        if (telas.jogo.capitulo5.fase1.principal.questao.banco[i].compartimento.linha == this.linha &&
                                            telas.jogo.capitulo5.fase1.principal.questao.banco[i].compartimento.coluna == this.coluna) {
                                            return i;
                                        }
                                    }
                                }
                            }
                            
                            if (this.onload) {
                                this.banco = [];
                                this.banco2 = [];
                                let i2 = 0;

                                for (let i = 0; i < 81; i++) {
                                    if (i % 9 == 0 && i > 0) {
                                        i2 ++;
                                    }

                                    this.banco.push({
                                        compartimento: new Compartimento(i % 9, i2)
                                    })

                                    this.banco2.push({
                                        compartimento: new Compartimento(i % 9, i2)
                                    })
                                }

                                let quantNum = 81, pos = {x: null, y: null}, num, loop;

                                for (let i = 0; i < quantNum; i++) {
                                    do {
                                        do {
                                            pos.x = Math.floor(Math.random() * 9);
                                            pos.y = Math.floor(Math.random() * 9);
                                        } while(this.verificaPos(pos));
                                        
                                        for (let j = 0; j < 9; j++) {
                                            num = j + 1;

                                            if (this.verificaNum(num, pos)) {
                                                loop = false;
                                                break;
                                            }

                                            else {
                                                loop = true;

                                                if (j >= 8) {
                                                    i = 0;
                                                    this.banco.forEach(item => {
                                                        item.compartimento.num = "";
                                                        item.compartimento.fixed = false;
                                                    })
                                                }
                                            }
                                        }
                                    } while(loop);

                                    let index;

                                    for (let i = 0; i < this.banco.length; i++) {
                                        if (this.banco[i].compartimento.linha == pos.y && this.banco[i].compartimento.coluna == pos.x) {
                                            index = i;
                                            break;
                                        }
                                    }

                                    this.banco[index].compartimento.atualizarValores(num);
                                }

                                for (let i = 0; i < 25; i++) {
                                    let index = Math.floor(Math.random() * this.banco.length);

                                    this.banco2[index] = this.banco[index];
                                }

                                this.onload = false;
                            }

                            if (this.verificaFim()) {
                                this.counter ++;

                                if (this.counter >= 100) {
                                    telas.jogo.capitulo5.fase1.final.aprovado = true;
                                    telas.jogo.capitulo5.fase1.parte ++;
                                }
                            }
                        },

                        verificaNum(num, pos) {
                            let atualBanco;

                            for (let i = 0; i < this.banco.length; i++) {
                                if (this.banco[i].compartimento.linha == pos.y && this.banco[i].compartimento.coluna == pos.x) {
                                    atualBanco = this.banco[i];
                                    break;
                                }
                            }

                            for (let i = 0; i < this.banco.length; i++) {
                                if (this.banco[i].compartimento.coluna == atualBanco.compartimento.coluna) {
                                    if (this.banco[i].compartimento.num == num) {
                                        return false;
                                    }
                                }

                                if (this.banco[i].compartimento.linha == atualBanco.compartimento.linha) {
                                    if (this.banco[i].compartimento.num == num) {
                                        return false;
                                    }
                                }

                                if (this.banco[i].compartimento.quadrante == atualBanco.compartimento.quadrante) {
                                    if (this.banco[i].compartimento.num == num) {
                                        return false;
                                    }
                                }
                            }

                            return true;
                        },

                        verificaPos(pos) {
                            for (let i = 0; i < this.banco.length; i++) {
                                if (this.banco[i].compartimento.linha == pos.y &&
                                    this.banco[i].compartimento.coluna == pos.x) {
                                    if (this.banco[i].compartimento.fixed) {
                                        return true;
                                    }

                                    else {
                                        return false;
                                    }
                                }
                            }
                        },

                        verificaFim() {
                            for (let i = 0; i < this.banco.length; i++) {
                                if (this.banco[i].compartimento.num != this.banco2[i].compartimento.num) {
                                    return false;
                                }
                            }

                            return true;
                        }
                    },

                    botao_exit: {
                        x: canvas.width - 70,
                        y: 10,
                        larg: 50,

                        hover: false,

                        desenha() {
                            if (this.hover) {
                                ctx.fillStyle = "rgba(80, 80, 80, 0.7)";
                            }

                            else {
                                ctx.fillStyle = "rgba(0, 0, 0, 0.7)";
                            }
                            
                            ctx.fillRect(this.x, this.y, this.larg, this.larg);

                            ctx.strokeStyle = "white";
                            ctx.lineWidth = 3;
                            ctx.strokeRect(this.x, this.y ,this.larg, this.larg);

                            ctx.strokeStyle = "red";
                            ctx.lineWidth = 5;

                            ctx.beginPath();
                            ctx.moveTo(this.x + 15, this.y + 15);
                            ctx.lineTo(this.x + 50 - 15, this.y + 50 - 15);
                            ctx.stroke();
                            
                            ctx.beginPath();
                            ctx.moveTo(this.x + 50 - 15, this.y + 15);
                            ctx.lineTo(this.x + 15, this.y + 50 - 15);
                            ctx.stroke();
                        },
                    },
                },

                final: {
                    aprovado: false,
                    onload: true,

                    desenha() {
                        this.background.desenha();
                        this.stars.desenha();

                        if (telas.jogo.capitulo5.fase1.allowBotoes) {
                            if (this.aprovado || banco.capitulo5.fase1_pass) {
                                this.botoes.play.desenha();
                                this.aprovado = true;

                                if (this.onload) {
                                    banco.capitulo5.fase1_pass = true;
                                    telas.lobby.capitulos[4].fase_2 = false;
                                    this.onload = false;
                                }
                            }
                            
                            this.botoes.exit.desenha();
                            this.botoes.retry.desenha();
                        }
                    },

                    background: {
                        spr: new Image(), 
                        onload: true,

                        desenha() {
                            this.atualiza();

                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                3840, 2160,
                                0, 0,
                                1280, 720
                            )

                            ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            ctx.fillStyle = "rgba(100, 100, 100, 0.5)";
                            ctx.fillRect(340, 90, 600, 300);
                            ctx.lineWidth = 3;
                            ctx.strokeStyle = "black";
                            ctx.strokeRect(340, 90, 600, 300);
                        },

                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/capitulo5/spr - cap 5.png";
                                this.onload = false;
                            }
                        },
                    },

                    botoes: {
                        retry: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.lineWidth = 3;
                                ctx.strokeStyle = "black";
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/retry 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo5.fase1.final.aprovado || banco.capitulo5.fase1_pass) {
                                        this.x = canvas.width / 2 - 50 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.cor = "rgba(120, 255, 120, 0.5)";
                                }
        
                                else {
                                    if (telas.jogo.capitulo5.fase1.final.aprovado || banco.capitulo5.fase1_pass) {
                                        this.x = canvas.width / 2 - 50;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 - 100 - 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                }
                            }
                        },
        
                        play: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 - 50 - 100 - 20,
                            y: 450,
                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,
        
                            hover: false,
                            onload: true,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/play 13.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                    this.y = 450 - 10;
        
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;

                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(120, 120, 255, 0.5)";
                                }
        
                                else {
                                    this.cor = "rgba(120, 120, 120, 0.5)";

                                    this.x = canvas.width / 2 - 50 - 100 - 20;
                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
        
                        exit: {
                            spr: new Image(),
                            largura: 128,
                            altura: 128,
                            largura1: 100,
                            altura1: 100,
                            x: canvas.width / 2 + 50 + 20,
                            y: 450,
        
                            hover: false,
                            onload: true,

                            acrescimoX: 50 / 2,
                            acrescimoY: 50 / 2,

                            cor: "rgba(120, 120, 120, 0.5)",
        
                            desenha() {
                                this.atualiza();
        
                                ctx.fillStyle = this.cor;
                                ctx.fillRect(this.x, this.y, this.largura1, this.altura1);
                                ctx.strokeStyle = "black";
                                ctx.lineWidth = 3;
                                ctx.strokeRect(this.x, this.y, this.largura1, this.altura1);

                                ctx.drawImage(
                                    this.spr,
                                    0, 0,
                                    this.largura, this.altura,
                                    this.x + this.acrescimoX, this.y + this.acrescimoY,
                                    this.largura1, this.altura1
                                )
                            },
        
                            atualiza() {
                                if (this.onload) {
                                    this.spr.src = "./sprites/jogo/botoes/exit 24.png";
                                    this.onload = false;
                                }
        
                                if (this.hover) {
                                    if (telas.jogo.capitulo5.fase1.final.aprovado || banco.capitulo5.fase1_pass) {
                                        this.x = canvas.width / 2 + 50 + 20 - 10;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20 - 10;
                                    }

                                    this.y = 450 - 10;
        
                                    this.largura1 = 120;
                                    this.altura1 = 120;

                                    this.cor = "rgba(255, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2 + 5;
                                    this.acrescimoY = 50 / 2 + 5;
                                }
        
                                else {
                                    if (telas.jogo.capitulo5.fase1.final.aprovado || banco.capitulo5.fase1_pass) {
                                        this.x = canvas.width / 2 + 50 + 20;
                                    }
                                    
                                    else {
                                        this.x = canvas.width / 2 + 20;
                                    }

                                    this.y = 450;
                                    this.largura1 = 100;
                                    this.altura1 = 100;

                                    this.cor = "rgba(120, 120, 120, 0.5)";
                                    this.acrescimoX = 50 / 2;
                                    this.acrescimoY = 50 / 2;
                                }
                            }
                        },
                    },

                    stars: {
                        spr1: new Image(),
                        spr2: new Image(),
                        star1: new Image(),
                        star2: new Image(),
                        star3: new Image(),
        
                        x: canvas.width / 2 - 300,
                        y: canvas.height / 2 - 180,
                        y1: canvas.height / 2 - 210,
                        largura1: 200,
                        altura1: 200,
                        largura: 200,
                        altura: 200,

                        spriteX1: 0,
                        spriteX2: 0,
                        spriteX3: 0,
                        counter: 0,
                        counter1: 0,
                        counter2: 0,
                        counter3: 0,
        
                        onload: true,
                        disparaCounter: true,
        
                        desenha() {
                            this.atualiza();
                            
                            ctx.drawImage(
                                this.star1,
                                this.spriteX1, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star2,
                                this.spriteX2, 0,
                                this.largura, this.altura,
                                this.x + 200, this.y1,
                                this.largura1, this.altura1
                            )
        
                            ctx.drawImage(
                                this.star3,
                                this.spriteX3, 0,
                                this.largura, this.altura,
                                this.x + 400, this.y,
                                this.largura1, this.altura1
                            )
                        },
        
                        atualiza() {
                            if (this.onload) {
                                this.spr1.src = "./sprites/jogo/star/yes colected.png";
                                this.spr2.src = "./sprites/jogo/star/no colected.png";
        
                                this.star1.src = this.spr2.src;
                                this.star2.src = this.spr2.src;
                                this.star3.src = this.spr2.src;
        
                                this.onload = false;
                            }
        
                            if (this.disparaCounter) {
                                this.counter ++;
                            }

                            else {
                                if (this.star1.src == this.spr1.src) {
                                    this.counter1 ++;

                                    if (this.counter1 > 7) {
                                        if (this.spriteX1 < 2400) {
                                            this.spriteX1 += 200;
                                        }

                                        else {
                                            this.spriteX1 = 0;
                                        }

                                        this.counter1 = 0;
                                    }
                                }

                                else {
                                    this.spriteX1 = 0;
                                }

                                if (this.star2.src == this.spr1.src) {
                                    this.counter2 ++;

                                    if (this.counter2 > 7) {
                                        if (this.spriteX2 < 2400) {
                                            this.spriteX2 += 200;
                                        }

                                        else {
                                            this.spriteX2 = 0;
                                        }

                                        this.counter2 = 0;
                                    }
                                }

                                else {
                                    this.spriteX2 = 0;
                                }

                                if (this.star3.src == this.spr1.src) {
                                    this.counter3 ++;

                                    if (this.counter3 > 7) {
                                        if (this.spriteX3 < 2400) {
                                            this.spriteX3 += 200;
                                        }

                                        else {
                                            this.spriteX3 = 0;
                                        }

                                        this.counter3 = 0;
                                    }
                                }

                                else {
                                    this.spriteX3 = 0;
                                }
                            }
        
                            if (this.counter >= 90) {
                                if (telas.jogo.capitulo5.fase1.final.aprovado) {
                                    this.star1.src = this.spr1.src;
                                }
        
                                else {
                                    this.counter = 0;
                                    telas.jogo.capitulo5.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo5.fase1.allowBotoes = true;
                                }
        
                                if (this.counter >= 150) {
                                    if (telas.jogo.capitulo5.fase1.final.aprovado) {
                                        this.star2.src = this.spr1.src;
                                    }

                                    else {
                                        this.counter = 0;
                                        telas.jogo.capitulo5.fase1.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo5.fase1.allowBotoes = true;
                                    }
                                }
        
                                if (this.counter >= 210) {
                                    if (telas.jogo.capitulo5.fase1.final.aprovado) {
                                        this.star3.src = this.spr1.src;
                                    }
                                    
                                    this.counter = 0;
                                    telas.jogo.capitulo5.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo5.fase1.allowBotoes = true;
                                }
                            }
                        },
                    },
                },
            },

            fase69: {
                intro: true,
                inicio: true,
                final: false,
                acabou: false,
                retry: false,
                goBack: false,
                allowClick: true,
                allowBotoes: false,
    
                points: 0,
    
                desenha() {
                    this.background.desenha();
    
                    if (this.intro) {
                        this.titulo.desenha();
    
                        if (this.inicio) {
                            this.blackScreen.desenha();
                        }
                    }
    
                    else if (this.final) {
                        this.telaFinal.desenha();
    
                        if (this.allowBotoes) {
                            this.botoes.play.desenha();
                            this.botoes.retry.desenha();
                            this.botoes.exit.desenha();
                        }
    
                        if (this.acabou) {
                            this.blackScreen1.desenha();
                        }
                    }
    
                    else {
                        this.contador.desenha();
                        this.problema.desenha();
                    }
                },
    
                reset() {
                    this.inicio = true;
                    this.intro = true;
                    this.final = false;
                    this.acabou = false;
                    this.retry = false;
                    this.goBack = false;
                    this.allowClick = true;
                    this.allowBotoes = false;
                    this.points = 0;
    
                    this.titulo.alpha = 1;
                    this.titulo.counter = 0;
    
                    this.blackScreen.alpha = 1;
                    this.blackScreen1.alpha = 0;
    
                    this.contador.counter = 0;
                    this.contador.qualProblema = 0;
                    this.contador.largura = 0;
                    this.contador.onload = true;
                    this.contador.red = 0;
                    this.contador.green = 255;
    
                    this.problema.numProblema = 0;
                    this.problema.quantProblemas = 0;
                    this.problema.onload = true;
    
                    this.telaFinal.onload = true;
                    this.telaFinal.disparaCounter = true;
                },
    
                background: {
                    spr: new Image(),
                    x: 0,
                    y: 0,
                    hsped: -0.2,
                    vsped: -0.2,
    
                    onload: true,
    
                    desenha() {
                        this.atualiza();
                        
                        ctx.drawImage(this.spr, this.x, this.y);
                    },
    
                    atualiza() {
                        if (this.onload) {
                            this.spr.src = "./sprites/jogo/capitulo5/spr - cap 5.png";
                            this.onload = false;
                        }
    
                        if (this.x <= -600) {
                            this.hsped = 0.2;
                        }
    
                        else if (this.x >= -50) {
                            this.hsped = -0.2;
                        }
    
                        if (this.y <= -300) {
                            this.vsped = 0.2;
                        }
    
                        else if (this.y >= -50) {
                            this.vsped = -0.2;
                        }
    
                        this.x += this.hsped;
                        this.y += this.vsped;
                    },
                },
    
                titulo: {
                    alpha: 1,
                    counter: 0,
    
                    desenha() {
                        this.atualiza();
    
                        ctx.font = "100px 'Carter One'";
                        ctx.textAlign = "center";
                        ctx.fillText("Fase 4", canvas.width / 2, canvas.height / 2);
    
                        ctx.font = "50px 'Carter One'";
                        ctx.fillText("Acerte a letra", canvas.width / 2, canvas.height / 2 + 200);
                    },
    
                    atualiza() {
                        if (!telas.jogo.capitulo5.fase1.inicio) {
                            this.counter ++;
        
                            if (this.counter >= 175) {
                                this.alpha -= 0.01;
                            }
                        }
    
                        if (this.alpha <= 0.01) {
                            telas.jogo.capitulo5.fase1.intro = false;
                        }
    
                        ctx.fillStyle = "rgba(255, 255, 255, " + this.alpha + ")";
                    },
                },
    
                blackScreen: {
                    alpha: 1,
    
                    desenha() {
                        this.atualiza();
                        ctx.fillRect(0, 0, canvas.width, canvas.height);
                    },
    
                    atualiza() {
                        this.alpha -= 0.005;
    
                        if (this.alpha <= 0.05) {
                            telas.jogo.capitulo5.fase1.inicio = false;
                        }
    
                        ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                    }
                },
    
                contador: {
                    counter: 0,
                    qualProblema: 0,
                    largura: 0,
    
                    onload: true,
                    red: 0,
                    green: 252,
    
                    desenha() {
                        this.atualiza();
    
                        ctx.strokeStyle = "white";
                        ctx.strokeRect(canvas.width / 2 - 121, 99, 242, 32);
    
                        this.atualizaCor();
                        ctx.fillRect(canvas.width / 2 - 120, 100, this.largura, 30);
                    },
    
                    atualiza() {
                        if (this.onload) {
                            this.qualProblema = telas.jogo.capitulo5.fase1.problema.numProblema;
                            this.onload = false;
                        }
    
                        if (telas.jogo.capitulo5.fase1.problema.numProblema != this.qualProblema) {
                            this.qualProblema = telas.jogo.capitulo5.fase1.problema.numProblema;
                            this.counter = 0;
                        }
    
                        this.counter ++;
    
                        if (this.counter >= 60) {
                            this.counter = 0;
    
                            if (telas.jogo.capitulo5.fase1.problema.quantProblemas < 10) {
                                telas.jogo.capitulo5.fase1.problema.numProblema = Math.floor(Math.random() * 26);
                                telas.jogo.capitulo5.fase1.problema.quantProblemas ++;
                            }
    
                            else {
                                telas.jogo.capitulo5.fase1.final = true;
                            }
    
                            this.red = 0;
                            this.green = 255;
                            this.qualProblema = telas.jogo.capitulo5.fase1.problema.numProblema;
                        }
                    },
    
                    atualizaCor() {
                        this.largura = this.counter * 4;
                        this.green -= 4.2;
                        this.red += 4.2;
    
                        ctx.fillStyle = "rgb(" + this.red + ", " + this.green + ", 0)";
                    }
                },
    
                problema: {
                    problemas: [
                        {problema: "A"},
                        {problema: "B"},
                        {problema: "C"},
                        {problema: "D"},
                        {problema: "E"},
                        {problema: "F"},
                        {problema: "G"},
                        {problema: "H"},
                        {problema: "I"},
                        {problema: "J"},
                        {problema: "K"},
                        {problema: "L"},
                        {problema: "M"},
                        {problema: "N"},
                        {problema: "O"},
                        {problema: "P"},
                        {problema: "Q"},
                        {problema: "R"},
                        {problema: "S"},
                        {problema: "T"},
                        {problema: "U"},
                        {problema: "V"},
                        {problema: "W"},
                        {problema: "X"},
                        {problema: "Y"},
                        {problema: "Z"},
                    ],
    
                    numProblema: 0,
                    quantProblemas: 0,
                    onload: true,
    
                    desenha() {
                        this.atualiza();
    
                        ctx.fillStyle = "white";
                        ctx.arc(canvas.width / 2, canvas.height / 2 + 50, 100, 0, Math.PI * 2);
                        ctx.fill();
    
                        ctx.strokeStyle = "black";
                        ctx.stroke();
    
                        ctx.font = "100px 'Carter One'";
                        ctx.textAlign = "center";
                        ctx.fillStyle = "black";
                        ctx.fillText(this.problemas[this.numProblema].problema, canvas.width / 2, canvas.height / 2 + 80);
                    },
    
                    atualiza() {
                        if (this.onload) {
                            this.numProblema = Math.floor(Math.random() * 26);
                            this.quantProblemas ++;
                            this.onload = false;
                        }
                    }
                },
    
                solucao: {
                    inputs(letra) {
                        if (letra == "Key" + telas.jogo.capitulo5.fase1.problema.problemas[telas.jogo.capitulo5.fase1.problema.numProblema].problema) {
                            telas.jogo.capitulo5.fase1.points ++;
    
                        }
    
                        if (telas.jogo.capitulo5.fase1.problema.quantProblemas < 10) {
                            telas.jogo.capitulo5.fase1.problema.numProblema = Math.floor(Math.random() * 26);
                            telas.jogo.capitulo5.fase1.problema.quantProblemas ++;
                            telas.jogo.capitulo5.fase1.contador.counter = 0;
                        }
                        
                        else {
                            telas.jogo.capitulo5.fase1.final = true;
                        }
    
                        telas.jogo.capitulo5.fase1.contador.red = 0;
                        telas.jogo.capitulo5.fase1.contador.green = 252;
                    },
                },
    
                telaFinal: {
                    spr1: new Image(),
                    spr2: new Image(),
                    star1: new Image(),
                    star2: new Image(),
                    star3: new Image(),
    
                    x: canvas.width / 2 - 350,
                    y: canvas.height / 2 - 180,
                    y1: canvas.height / 2 - 210,
                    largura1: 200,
                    altura1: 194,
                    largura: 920,
                    altura: 892,
                    counter: 0,
    
                    onload: true,
                    disparaCounter: true,
    
                    desenha() {
                        this.atualiza();
                        
                        ctx.drawImage(
                            this.star1,
                            0, 0,
                            this.largura, this.altura,
                            this.x, this.y,
                            this.largura1, this.altura1
                        )
    
                        ctx.drawImage(
                            this.star2,
                            0, 0,
                            this.largura, this.altura,
                            this.x + 250, this.y1,
                            this.largura1, this.altura1
                        )
    
                        ctx.drawImage(
                            this.star3,
                            0, 0,
                            this.largura, this.altura,
                            this.x + 500, this.y,
                            this.largura1, this.altura1
                        )
                    },
    
                    atualiza() {
                        if (this.onload) {
                            this.spr1.src = "./sprites/jogo/star/colected.png";
                            this.spr2.src = "./sprites/jogo/star/empty.png";
    
                            this.star1.src = this.spr2.src;
                            this.star2.src = this.spr2.src;
                            this.star3.src = this.spr2.src;
    
                            this.onload = false;
                        }
    
                        if (this.disparaCounter) {
                            this.counter ++;
                        }
    
                        if (this.counter >= 90) {
                            if (telas.jogo.capitulo5.fase1.points > 3) {
                                this.star1.src = this.spr1.src;
    
                                if (telas.jogo.capitulo5.fase1.points < 3) {
                                    this.counter = 0;
                                    telas.jogo.capitulo5.fase1.allowClick = true;
                                    this.disparaCounter = false;
                                    telas.jogo.capitulo5.fase1.allowBotoes = true;
                                }
                            }
    
                            else {
                                this.counter = 0;
                                telas.jogo.capitulo5.fase1.allowClick = true;
                                this.disparaCounter = false;
                                telas.jogo.capitulo5.fase1.allowBotoes = true;
                            }
    
                            if (this.counter >= 60 + 90) {
                                if (telas.jogo.capitulo5.fase1.points >= 7) {
                                    this.star2.src = this.spr1.src;
    
                                    if (telas.jogo.capitulo5.fase1.points < 5) {
                                        this.counter = 0;
                                        telas.jogo.capitulo5.fase1.allowClick = true;
                                        this.disparaCounter = false;
                                        telas.jogo.capitulo5.fase1.allowBotoes = true;
                                    }
                                }
                            }
    
                            if (this.counter >= 90 + 60 + 60) {
                                if (telas.jogo.capitulo5.fase1.points == 10) {
                                    this.star3.src = this.spr1.src;
                                }
    
                                this.counter = 0;
                                telas.jogo.capitulo5.fase1.allowClick = true;
                                this.disparaCounter = false;
                                telas.jogo.capitulo5.fase1.allowBotoes = true;
                            }
                        }
                    },
                },
    
                botoes: {
                    retry: {
                        spr: new Image(),
                        largura: 980,
                        altura: 980,
                        largura1: 100,
                        altura1: 100,
                        x: canvas.width / 2 - 50,
                        y: 450,
    
                        hover: false,
                        onload: true,
    
                        desenha() {
                            this.atualiza();
    
                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
                        },
    
                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/botoes/retry 1.png";
                                this.onload = false;
                            }
    
                            if (this.hover) {
                                this.x = canvas.width / 2 - 50 - 10;
                                this.y = 450 - 10;
    
                                this.largura1 = 120;
                                this.altura1 = 120;
                            }
    
                            else {
                                this.x = canvas.width / 2 - 50;
                                this.y = 450;
                                this.largura1 = 100;
                                this.altura1 = 100;
                            }
                        }
                    },
    
                    play: {
                        spr: new Image(),
                        largura: 256,
                        altura: 256,
                        largura1: 100,
                        altura1: 100,
                        x: canvas.width / 2 - 50 - 100 - 20,
                        y: 450,
    
                        hover: false,
                        onload: true,
    
                        desenha() {
                            this.atualiza();
    
                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
                        },
    
                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/botoes/play 1.png";
                                this.onload = false;
                            }
    
                            if (this.hover) {
                                this.x = canvas.width / 2 - 50 - 100 - 20 - 10;
                                this.y = 450 - 10;
    
                                this.largura1 = 120;
                                this.altura1 = 120;
                            }
    
                            else {
                                this.x = canvas.width / 2 - 50 - 100 - 20;
                                this.y = 450;
                                this.largura1 = 100;
                                this.altura1 = 100;
                            }
                        }
                    },
    
                    exit: {
                        spr: new Image(),
                        largura: 512,
                        altura: 512,
                        largura1: 100,
                        altura1: 100,
                        x: canvas.width / 2 + 50 + 20,
                        y: 450,
    
                        hover: false,
                        onload: true,
    
                        desenha() {
                            this.atualiza();
    
                            ctx.drawImage(
                                this.spr,
                                0, 0,
                                this.largura, this.altura,
                                this.x, this.y,
                                this.largura1, this.altura1
                            )
                        },
    
                        atualiza() {
                            if (this.onload) {
                                this.spr.src = "./sprites/jogo/botoes/exit 1.png";
                                this.onload = false;
                            }
    
                            if (this.hover) {
                                this.x = canvas.width / 2 + 50 + 20 - 10;
                                this.y = 450 - 10;
    
                                this.largura1 = 120;
                                this.altura1 = 120;
                            }
    
                            else {
                                this.x = canvas.width / 2 + 50 + 20;
                                this.y = 450;
                                this.largura1 = 100;
                                this.altura1 = 100;
                            }
                        }
                    },
                },
    
                blackScreen1: {
                    alpha: 0,
    
                    desenha() {
                        this.alpha += 0.005;
    
                        ctx.fillStyle = "rgba(0, 0, 0, " + this.alpha + ")";
                        ctx.fillRect(0, 0, canvas.width, canvas.height);
    
                        if (this.alpha >= 0.995) {
                            if (telas.jogo.capitulo5.fase1.retry) {
                                telas.jogo.capitulo5.fase1.reset();
                                mudaTela(telas.jogo.capitulo5.fase1);
                            }
    
                            else if (telas.jogo.capitulo5.fase1.goBack) {
                                telas.jogo.capitulo5.fase1.reset();
                                telas.menuInicial.reset();
                                mudaTela(telas.menuInicial);
                            }
    
                            else {
                                mudaTela(telas.jogo.fase5);
                            }
                        }
                    },
                },
            },
        },
    },
}

let saves = {
    nome: nome,
    banco: banco,
    capitulos: telas.lobby.capitulos,
    tempo: tempo
}

window.onload = function() {
    if (load(0) == null) {
        save(0);
    }
}

window.addEventListener("keydown", function(event) {
    if (telaAtiva == telas.lobby) {
        if (telas.lobby.clickAllow) {
            switch(event.key) {
                case "ArrowLeft": {
                    if (telas.lobby.levels.selected > 0) {
                        if (!telas.lobby.levels.level[telas.lobby.levels.selected - 1].block) {
                            telas.lobby.levels.selected--;
                        }
                    }

                    break;
                }

                case "ArrowRight": {
                    if (telas.lobby.levels.selected < 4) {
                        if (!telas.lobby.levels.level[telas.lobby.levels.selected + 1].block) {
                            telas.lobby.levels.selected++;
                        }
                    }
                    
                    break;
                }

                case "Enter": {
                    if (telas.lobby.arrow.allow) {
                        switch(telas.lobby.page) {
                            case 1: {
                                switch(telas.lobby.levels.selected) {
                                    case 0: {
                                        telas.jogo.capitulo1.fase1.reset();
                                        mudaTela(telas.jogo.capitulo1.fase1);
                                        break;
                                    }
        
                                    case 1: {
                                        telas.jogo.capitulo1.fase2.reset();
                                        mudaTela(telas.jogo.capitulo1.fase2);
                                        break;
                                    }
        
                                    case 2: {
                                        telas.jogo.capitulo1.fase3.reset();
                                        mudaTela(telas.jogo.capitulo1.fase3);
                                        break;
                                    }
        
                                    case 3: {
                                        telas.jogo.capitulo1.fase4.reset();
                                        mudaTela(telas.jogo.capitulo1.fase4);
                                        break;
                                    }
        
                                    case 4: {
                                        telas.jogo.capitulo1.fase5.reset();
                                        mudaTela(telas.jogo.capitulo1.fase5);
                                        break;
                                    }
                                }

                                break;
                            }

                            case 2: {
                                switch(telas.lobby.levels.selected) {
                                    case 0: {
                                        telas.jogo.capitulo2.fase1.reset();
                                        mudaTela(telas.jogo.capitulo2.fase1);
                                        break;
                                    }
        
                                    case 1: {
                                        telas.jogo.capitulo2.fase2.reset();
                                        mudaTela(telas.jogo.capitulo2.fase2);
                                        break;
                                    }
        
                                    case 2: {
                                        telas.jogo.capitulo2.fase3.reset();
                                        mudaTela(telas.jogo.capitulo2.fase3);
                                        break;
                                    }
        
                                    case 3: {
                                        telas.jogo.capitulo2.fase4.reset();
                                        mudaTela(telas.jogo.capitulo2.fase4);
                                        break;
                                    }
        
                                    case 4: {
                                        telas.jogo.capitulo2.fase5.reset();
                                        mudaTela(telas.jogo.capitulo2.fase5);
                                        break;
                                    }
                                }

                                break;
                            }
                            
                            case 3: {
                                switch(telas.lobby.levels.selected) {
                                    case 0: {
                                        telas.jogo.capitulo3.fase1.reset();
                                        mudaTela(telas.jogo.capitulo3.fase1);
                                        break;
                                    }
        
                                    case 1: {
                                        telas.jogo.capitulo3.fase2.reset();
                                        mudaTela(telas.jogo.capitulo3.fase2);
                                        break;
                                    }
        
                                    case 2: {
                                        telas.jogo.capitulo3.fase3.reset();
                                        mudaTela(telas.jogo.capitulo3.fase3);
                                        break;
                                    }
        
                                    case 3: {
                                        telas.jogo.capitulo3.fase4.reset();
                                        mudaTela(telas.jogo.capitulo3.fase4);
                                        break;
                                    }
        
                                    case 4: {
                                        telas.jogo.capitulo3.fase5.reset();
                                        mudaTela(telas.jogo.capitulo3.fase5);
                                        break;
                                    }
                                }

                                break;
                            }
                            
                            case 4: {
                                switch(telas.lobby.levels.selected) {
                                    case 0: {
                                        telas.jogo.capitulo4.fase1.reset();
                                        mudaTela(telas.jogo.capitulo4.fase1);
                                        break;
                                    }
        
                                    case 1: {
                                        telas.jogo.capitulo4.fase2.reset();
                                        mudaTela(telas.jogo.capitulo4.fase2);
                                        break;
                                    }
        
                                    case 2: {
                                        telas.jogo.capitulo4.fase3.reset();
                                        mudaTela(telas.jogo.capitulo4.fase3);
                                        break;
                                    }
        
                                    case 3: {
                                        telas.jogo.capitulo4.fase4.reset();
                                        mudaTela(telas.jogo.capitulo4.fase4);
                                        break;
                                    }
        
                                    case 4: {
                                        telas.jogo.capitulo4.fase5.reset();
                                        mudaTela(telas.jogo.capitulo4.fase5);
                                        break;
                                    }
                                }

                                break;
                            }
                            
                            case 5: {
                                switch(telas.lobby.levels.selected) {
                                    case 0: {
                                        telas.jogo.capitulo5.fase1.reset();
                                        mudaTela(telas.jogo.capitulo5.fase1);
                                        break;
                                    }
        
                                    case 1: {
                                        telas.jogo.capitulo5.fase2.reset();
                                        mudaTela(telas.jogo.capitulo5.fase2);
                                        break;
                                    }
        
                                    case 2: {
                                        telas.jogo.capitulo5.fase3.reset();
                                        mudaTela(telas.jogo.capitulo5.fase3);
                                        break;
                                    }
        
                                    case 3: {
                                        telas.jogo.capitulo5.fase4.reset();
                                        mudaTela(telas.jogo.capitulo5.fase4);
                                        break;
                                    }
        
                                    case 4: {
                                        telas.jogo.capitulo5.fase5.reset();
                                        mudaTela(telas.jogo.capitulo5.fase5);
                                        break;
                                    }
                                }

                                break;
                            }
                        }
                    }

                    break;
                }

                case "Escape": {
                    save(qualSave);
                    telas.lobby.drawSave = true;
                    telas.lobby.clickAllow = false;

                    break;
                }
            }
        }
    }

    else if (telaAtiva == telas.save) {
        if (telas.save.drawName) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.save.campo.input(event.key);
            }

            else if (event.key == "Escape") {
                telas.save.drawName = false;
                telas.save.campo.texto = "";
                telas.save.botao.click = false;
                telas.save.botao.hover = false;
                telas.save.allowClick = true;
            }
        }

        else {
            switch(event.key) {
                case "Escape": {
                    telas.save.saves.forEach((item) => {
                        if (item.draw_part2) {
                            telas.save.reset();
                            return;
                        }
                    })

                    break;
                }

                case "Delete": {
                    for (let i = 0; i < telas.save.saves.length; i++) {
                        if (telas.save.saves[i].draw_part2 && telas.save.saves[i].save1 != null) {
                            telas.save.saves[i].excluir = true;
                        }
                    }

                    break;
                }
            }
        }
    }

    else if (telaAtiva == telas.cutscenes.intro) {
        if (event.key == "Enter") { 
            if (telas.cutscenes.intro.dialog.qualFala < telas.cutscenes.intro.dialog.falas.length - 1) {
                telas.cutscenes.intro.dialog.qualFala ++;
                telas.cutscenes.intro.dialog.limChar = 0;
                telas.cutscenes.intro.dialog.counter = 0;
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo1.fase1) {
        if (telas.jogo.capitulo1.fase1.tutorialAllow && telas.jogo.capitulo1.fase1.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo1.fase1.tutorial.parte ++;
        }

        else if (telas.jogo.capitulo1.fase1.parte == 2 && !telas.jogo.capitulo1.fase1.tutorialAllow) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.jogo.capitulo1.fase1.principal.solucao.inputs(event.key);
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo1.fase2) {
        if (telas.jogo.capitulo1.fase2.tutorialAllow && telas.jogo.capitulo1.fase2.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo1.fase2.tutorial.parte ++;
        }
    }

    else if (telaAtiva == telas.jogo.capitulo1.fase3) {
        if (telas.jogo.capitulo1.fase3.tutorialAllow && telas.jogo.capitulo1.fase3.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo1.fase3.tutorial.parte ++;
        }
    }

    else if (telaAtiva == telas.jogo.capitulo1.fase4) {
        if (telas.jogo.capitulo1.fase4.tutorialAllow && telas.jogo.capitulo1.fase4.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo1.fase4.tutorial.parte ++;
        }
    }

    else if (telaAtiva == telas.jogo.capitulo2.fase1) {
        if (telas.jogo.capitulo2.fase1.tutorialAllow && telas.jogo.capitulo2.fase1.parte != 1) {
            if (event.key == "Enter") {
                telas.jogo.capitulo2.fase1.tutorial.parte ++;
            }
        }

        else if (telas.jogo.capitulo2.fase1.parte == 2) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.jogo.capitulo2.fase1.principal.solucao.inputs(event.key);
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo2.fase2) {
        if (telas.jogo.capitulo2.fase2.tutorialAllow && telas.jogo.capitulo2.fase2.parte != 1) {
            if (event.key == "Enter") {
                telas.jogo.capitulo2.fase2.tutorial.parte ++;
            }
        }

        else if (telas.jogo.capitulo2.fase2.parte == 2) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.jogo.capitulo2.fase2.principal.solucao.inputs(event.key);
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo2.fase3) {
        if (telas.jogo.capitulo2.fase3.tutorialAllow && telas.jogo.capitulo2.fase3.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo2.fase3.tutorial.parte ++;
        }

        else if (telas.jogo.capitulo2.fase3.parte == 2) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.jogo.capitulo2.fase3.principal.solucao.inputs(event.key);
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo2.fase4) {
        if (telas.jogo.capitulo2.fase4.tutorialAllow && telas.jogo.capitulo2.fase4.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo2.fase4.tutorial.parte ++;
        }

        else if (telas.jogo.capitulo2.fase4.parte == 2) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.jogo.capitulo2.fase4.principal.solucao.inputs(event.key);
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo3.fase1) {
        if (telas.jogo.capitulo3.fase1.tutorialAllow && telas.jogo.capitulo3.fase1.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo3.fase1.tutorial.parte ++;
        }

        else if (telas.jogo.capitulo3.fase1.parte == 2) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.jogo.capitulo3.fase1.principal.solucao.inputs(event.key);
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo3.fase2) {
        if (telas.jogo.capitulo3.fase2.tutorialAllow && telas.jogo.capitulo3.fase2.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo3.fase2.tutorial.parte ++;
        }

        else if (telas.jogo.capitulo3.fase2.parte == 2) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.jogo.capitulo3.fase2.principal.solucao.inputs(event.key);
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo3.fase3) {
        if (telas.jogo.capitulo3.fase3.tutorialAllow && telas.jogo.capitulo3.fase3.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo3.fase3.tutorial.parte ++;
        }

        else if (telas.jogo.capitulo3.fase3.parte == 2) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.jogo.capitulo3.fase3.principal.solucao.inputs(event.key);
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo3.fase4) {
        if (telas.jogo.capitulo3.fase4.tutorialAllow && telas.jogo.capitulo3.fase4.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo3.fase4.tutorial.parte ++;
        }
    }

    else if (telaAtiva == telas.jogo.capitulo4.fase1) {
        if (telas.jogo.capitulo4.fase1.tutorialAllow && telas.jogo.capitulo4.fase1.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo4.fase1.tutorial.parte ++;
        }
    }

    else if (telaAtiva == telas.jogo.capitulo4.fase2) {
        if (telas.jogo.capitulo4.fase2.tutorialAllow && telas.jogo.capitulo4.fase2.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo4.fase2.tutorial.parte ++;
        }
    }

    else if (telaAtiva == telas.jogo.capitulo4.fase3) {
        if (telas.jogo.capitulo3.fase4.tutorialAllow && telas.jogo.capitulo3.fase4.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo3.fase4.tutorial.parte ++;
        }

        else if (telas.jogo.capitulo4.fase3.parte == 2) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.jogo.capitulo4.fase3.principal.solucao.inputs(event.key);
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo4.fase4) {
        if (telas.jogo.capitulo4.fase4.tutorialAllow && telas.jogo.capitulo4.fase4.parte != 1 && event.key == "Enter") {
            telas.jogo.capitulo4.fase4.tutorial.parte ++;
        }

        else if (telas.jogo.capitulo4.fase4.parte == 2) {
            if (event.key == "Enter" || event.key == "Backspace" || event.key.length == 1) {
                telas.jogo.capitulo4.fase4.principal.solucao.inputs(event.key);
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo5.fase1) {
        if (telas.jogo.capitulo5.fase1.parte == 2) {
            for (let i = 0; i < telas.jogo.capitulo5.fase1.principal.questao.banco2.length; i++) {
                if (telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.selected &&
                    !telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.fixed) {
                    switch(event.key) {
                        case "1": {
                            telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.num = 1;
                            break;
                        }
                        
                        case "2": {
                            telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.num = 2;
                            break;
                        }
                        
                        case "3": {
                            telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.num = 3;
                            break;
                        }
                        
                        case "4": {
                            telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.num = 4;
                            break;
                        }
                        
                        case "5": {
                            telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.num = 5;
                            break;
                        }
                        
                        case "6": {
                            telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.num = 6;
                            break;
                        }
                        
                        case "7": {
                            telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.num = 7;
                            break;
                        }
                        
                        case "8": {
                            telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.num = 8;
                            break;
                        }
                        
                        case "9": {
                            telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.num = 9;
                            break;
                        }
                    }

                    break;
                }
            }
        }
    }
})

canvas.onmousedown = function(event) {
    if (mouseClick) {
        if (telaAtiva == telas.menuInicial) {
            if (!telas.menuInicial.entrando) {
                telas.menuInicial.transicao = true;
            }
        }

        else if (telaAtiva == telas.save) {
            if (telas.save.allowClick) {
                for (let i = 0; i < telas.save.saves.length; i++) {
                    if (event.clientX >= telas.save.saves[i].x &&
                        event.clientX <= telas.save.saves[i].x + telas.save.saves[i].larg &&
                        event.clientY >= telas.save.saves[i].y &&
                        event.clientY <= telas.save.saves[i].y + telas.save.saves[i].alt) {
                        if (!telas.save.saves[i].draw_part2) {
                            telas.save.saves[i].click = true;
                            telas.save.qual = i;
                        }

                        else if (!telas.save.saves[i].excluir){
                            if (event.clientX >= telas.save.botao.x &&
                                event.clientX <= telas.save.botao.x + telas.save.botao.larg &&
                                event.clientY >= telas.save.botao.y &&
                                event.clientY <= telas.save.botao.y + telas.save.botao.alt) {
                                telas.save.botao.click = true;
                            }
                        }

                        else {
                            if (event.clientX >= telas.save.saves[i].drawExcluir.botao_sim.x &&
                                event.clientX <= telas.save.saves[i].drawExcluir.botao_sim.x + telas.save.saves[i].drawExcluir.botao_sim.larg &&
                                event.clientY >= telas.save.saves[i].drawExcluir.botao_sim.y &&
                                event.clientY <= telas.save.saves[i].drawExcluir.botao_sim.y + telas.save.saves[i].drawExcluir.botao_sim.alt) {
                                telas.save.saves[i].drawExcluir.botao_sim.click = true;
                            }
                            
                            if (event.clientX >= telas.save.saves[i].drawExcluir.botao_nao.x &&
                                event.clientX <= telas.save.saves[i].drawExcluir.botao_nao.x + telas.save.saves[i].drawExcluir.botao_nao.larg &&
                                event.clientY >= telas.save.saves[i].drawExcluir.botao_nao.y &&
                                event.clientY <= telas.save.saves[i].drawExcluir.botao_nao.y + telas.save.saves[i].drawExcluir.botao_nao.alt) {
                                telas.save.saves[i].drawExcluir.botao_nao.click = true;
                            }
                        }
                    }
                }
            }
        }

        else if (telaAtiva == telas.lobby) {
            if (telas.lobby.clickAllow) {
                if (telas.lobby.setaAllow) {
                    if (event.clientX >= telas.lobby.seta.x &&
                        event.clientX <= telas.lobby.seta.x + telas.lobby.seta.larg1 &&
                        event.clientY >= telas.lobby.seta.y &&
                        event.clientY <= telas.lobby.seta.y + telas.lobby.seta.alt1
                    ) {
                        telas.lobby.page ++;
                        telas.lobby.background.onload = true;
                        telas.lobby.levels.onload = true;
                    }
                }
                
                if (telas.lobby.setaAllow2) {
                    if (event.clientX >= telas.lobby.seta2.x &&
                        event.clientX <= telas.lobby.seta2.x + telas.lobby.seta2.larg1 &&
                        event.clientY >= telas.lobby.seta2.y &&
                        event.clientY <= telas.lobby.seta2.y + telas.lobby.seta2.alt1
                    ) {
                        telas.lobby.page --;
                        telas.lobby.background.onload = true;
                        telas.lobby.levels.onload = true;
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo1.fase1) {
            if (telas.jogo.capitulo1.fase1.parte == 3) {
                if (telas.jogo.capitulo1.fase1.allowClick) {
                    if (event.clientX >= telas.jogo.capitulo1.fase1.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo1.fase1.final.botoes.exit.x + telas.jogo.capitulo1.fase1.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase1.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo1.fase1.final.botoes.exit.y + telas.jogo.capitulo1.fase1.final.botoes.exit.altura1) {
                        telas.lobby.reset();
                        mudaTela(telas.lobby);
                    }
        
                    if (event.clientX >= telas.jogo.capitulo1.fase1.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo1.fase1.final.botoes.retry.x + telas.jogo.capitulo1.fase1.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase1.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo1.fase1.final.botoes.retry.y + telas.jogo.capitulo1.fase1.final.botoes.retry.altura1) {
                        telas.jogo.capitulo1.fase1.reset();
                        mudaTela(telas.jogo.capitulo1.fase1);
                    }
        
                    if (telas.jogo.capitulo1.fase1.final.aprovado || banco.capitulo1.fase1_pass) {
                        if (event.clientX >= telas.jogo.capitulo1.fase1.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo1.fase1.final.botoes.play.x + telas.jogo.capitulo1.fase1.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo1.fase1.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo1.fase1.final.botoes.play.y + telas.jogo.capitulo1.fase1.final.botoes.play.altura1) {
                            telas.jogo.capitulo1.fase2.reset();
                            mudaTela(telas.jogo.capitulo1.fase2);
                        }
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo1.fase2) {
            if (telas.jogo.capitulo1.fase2.parte == 2 && !telas.jogo.capitulo1.fase2.tutorialAllow) {
                for (let i = 0; i < telas.jogo.capitulo1.fase2.principal.solucao.alters.length; i++) {
                    if (event.clientX >= telas.jogo.capitulo1.fase2.principal.solucao.alters[i].x &&
                        event.clientX <= telas.jogo.capitulo1.fase2.principal.solucao.alters[i].x + telas.jogo.capitulo1.fase2.principal.solucao.alters[i].larg &&
                        event.clientY >= telas.jogo.capitulo1.fase2.principal.solucao.alters[i].y &&
                        event.clientY <= telas.jogo.capitulo1.fase2.principal.solucao.alters[i].y + telas.jogo.capitulo1.fase2.principal.solucao.alters[i].alt) {
                        telas.jogo.capitulo1.fase2.principal.solucao.click(i + 1);
                    }
                }
            }

            else if (telas.jogo.capitulo1.fase2.parte == 3) {
                if (telas.jogo.capitulo1.fase2.allowClick) {
                    if (telas.jogo.capitulo1.fase2.final.aprovado || banco.capitulo1.fase2_pass) {
                        if (event.clientX >= telas.jogo.capitulo1.fase2.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo1.fase2.final.botoes.play.x + telas.jogo.capitulo1.fase2.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo1.fase2.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo1.fase2.final.botoes.play.y + telas.jogo.capitulo1.fase2.final.botoes.play.altura1) {
                            mudaTela(telas.jogo.capitulo1.fase3);
                            telas.jogo.capitulo1.fase2.allowClick = false;
                        }
                    }
                    
    
                    if (event.clientX >= telas.jogo.capitulo1.fase2.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo1.fase2.final.botoes.exit.x + telas.jogo.capitulo1.fase2.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase2.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo1.fase2.final.botoes.exit.y + telas.jogo.capitulo1.fase2.final.botoes.exit.altura1) {
                        mudaTela(telas.lobby);
                        telas.lobby.reset();
                        telas.jogo.capitulo1.fase2.allowClick = false;
                    }
    
                    if (event.clientX >= telas.jogo.capitulo1.fase2.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo1.fase2.final.botoes.retry.x + telas.jogo.capitulo1.fase2.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase2.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo1.fase2.final.botoes.retry.y + telas.jogo.capitulo1.fase2.final.botoes.retry.altura1) {
                        mudaTela(telas.jogo.capitulo1.fase2);
                        telas.jogo.capitulo1.fase2.reset();
                        telas.jogo.capitulo1.fase2.allowClick = false;
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo1.fase3) {
            if (telas.jogo.capitulo1.fase3.parte == 2 && !telas.jogo.capitulo1.fase2.tutorialAllow) {
                for (let i = 0; i < telas.jogo.capitulo1.fase3.principal.solucao.alters.length; i++) {
                    if (event.clientX >= telas.jogo.capitulo1.fase3.principal.solucao.alters[i].x &&
                        event.clientX <= telas.jogo.capitulo1.fase3.principal.solucao.alters[i].x + telas.jogo.capitulo1.fase3.principal.solucao.alters[i].larg &&
                        event.clientY >= telas.jogo.capitulo1.fase3.principal.solucao.alters[i].y &&
                        event.clientY <= telas.jogo.capitulo1.fase3.principal.solucao.alters[i].y + telas.jogo.capitulo1.fase3.principal.solucao.alters[i].alt) {
                        telas.jogo.capitulo1.fase3.principal.solucao.click(i + 1);
                    }
                }
            }

            else if (telas.jogo.capitulo1.fase3.parte == 3) {
                if (telas.jogo.capitulo1.fase3.allowClick) {
                    if (telas.jogo.capitulo1.fase3.final.aprovado || banco.capitulo1.fase3_pass) {
                        if (event.clientX >= telas.jogo.capitulo1.fase3.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo1.fase3.final.botoes.play.x + telas.jogo.capitulo1.fase3.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo1.fase3.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo1.fase3.final.botoes.play.y + telas.jogo.capitulo1.fase3.final.botoes.play.altura1) {
                            telas.jogo.capitulo1.fase4.reset();
                            mudaTela(telas.jogo.capitulo1.fase4);
                            telas.jogo.capitulo1.fase3.allowClick = false;
                        }
                    }
    
                    if (event.clientX >= telas.jogo.capitulo1.fase3.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo1.fase3.final.botoes.exit.x + telas.jogo.capitulo1.fase3.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase3.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo1.fase3.final.botoes.exit.y + telas.jogo.capitulo1.fase3.final.botoes.exit.altura1) {
                        mudaTela(telas.lobby);
                        telas.lobby.reset();
                        telas.jogo.capitulo1.fase3.allowClick = false;
                    }
    
                    if (event.clientX >= telas.jogo.capitulo1.fase3.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo1.fase3.final.botoes.retry.x + telas.jogo.capitulo1.fase3.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase3.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo1.fase3.final.botoes.retry.y + telas.jogo.capitulo1.fase3.final.botoes.retry.altura1) {
                        mudaTela(telas.jogo.capitulo1.fase3);
                        telas.jogo.capitulo1.fase3.reset();
                        telas.jogo.capitulo1.fase3.allowClick = false;
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo1.fase4) {
            if (telas.jogo.capitulo1.fase4.parte == 2 && !telas.jogo.capitulo1.fase4.tutorialAllow) {
                if (event.clientX >= telas.jogo.capitulo1.fase4.principal.solucao.x - telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                    event.clientX <= telas.jogo.capitulo1.fase4.principal.solucao.x + telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                    event.clientY >= telas.jogo.capitulo1.fase4.principal.solucao.y - telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                    event.clientY <= telas.jogo.capitulo1.fase4.principal.solucao.y + telas.jogo.capitulo1.fase4.principal.solucao.largura) {
                    telas.jogo.capitulo1.fase4.principal.solucao.inputs("esquerda");
                }

                if (event.clientX >= telas.jogo.capitulo1.fase4.principal.solucao.x1 - telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                    event.clientX <= telas.jogo.capitulo1.fase4.principal.solucao.x1 + telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                    event.clientY >= telas.jogo.capitulo1.fase4.principal.solucao.y - telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                    event.clientY <= telas.jogo.capitulo1.fase4.principal.solucao.y + telas.jogo.capitulo1.fase4.principal.solucao.largura) {
                    telas.jogo.capitulo1.fase4.principal.solucao.inputs("direita");
                }
            }

            else if (telas.jogo.capitulo1.fase4.parte == 3) {
                if (telas.jogo.capitulo1.fase4.allowClick) {
                    if (telas.jogo.capitulo1.fase4.final.aprovado || banco.capitulo1.fase4_pass) {
                        if (event.clientX >= telas.jogo.capitulo1.fase4.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo1.fase4.final.botoes.play.x + telas.jogo.capitulo1.fase4.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo1.fase4.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo1.fase4.final.botoes.play.y + telas.jogo.capitulo1.fase4.final.botoes.play.altura1) {
                            telas.jogo.capitulo1.fase5.reset();
                            mudaTela(telas.jogo.capitulo1.fase5);
                            telas.jogo.capitulo1.fase4.allowClick = false;
                        }
                    }
    
                    if (event.clientX >= telas.jogo.capitulo1.fase4.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo1.fase4.final.botoes.exit.x + telas.jogo.capitulo1.fase4.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase4.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo1.fase4.final.botoes.exit.y + telas.jogo.capitulo1.fase4.final.botoes.exit.altura1) {
                        mudaTela(telas.lobby);
                        telas.lobby.reset();
                        telas.jogo.capitulo1.fase4.allowClick = false;
                    }
    
                    if (event.clientX >= telas.jogo.capitulo1.fase4.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo1.fase4.final.botoes.retry.x + telas.jogo.capitulo1.fase4.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase4.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo1.fase4.final.botoes.retry.y + telas.jogo.capitulo1.fase4.final.botoes.retry.altura1) {
                        mudaTela(telas.jogo.capitulo1.fase4);
                        telas.jogo.capitulo1.fase4.reset();
                        telas.jogo.capitulo1.fase4.allowClick = false;
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo1.fase5) {
            if (telas.jogo.capitulo1.fase5.parte == 2) {
                if (telas.jogo.capitulo1.fase5.principal.allowClick) {
                    for (let i = 0; i < telas.jogo.capitulo1.fase5.principal.solucao.alters.length; i++) {
                        if (event.clientX >= telas.jogo.capitulo1.fase5.principal.solucao.alters[i].x &&
                            event.clientX <= telas.jogo.capitulo1.fase5.principal.solucao.alters[i].x + telas.jogo.capitulo1.fase5.principal.solucao.alters[i].larg &&
                            event.clientY >= telas.jogo.capitulo1.fase5.principal.solucao.alters[i].y &&
                            event.clientY <= telas.jogo.capitulo1.fase5.principal.solucao.alters[i].y + telas.jogo.capitulo1.fase5.principal.solucao.alters[i].alt) {
                            telas.jogo.capitulo1.fase5.principal.solucao.click = true;
                            telas.jogo.capitulo1.fase5.principal.solucao.alter = i + 1;
                        }
                    }
                }
            }

            else if (telas.jogo.capitulo1.fase5.parte == 3) {
                if (telas.jogo.capitulo1.fase5.aprovado || banco.capitulo1.fase5_pass) {
                    if (event.clientX >= telas.jogo.capitulo1.fase5.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo1.fase5.final.botoes.play.x + telas.jogo.capitulo1.fase5.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase5.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo1.fase5.final.botoes.play.y + telas.jogo.capitulo1.fase5.final.botoes.play.altura1) {
                        mudaTela(telas.jogo.capitulo2.abertura);
                    }
                }

                if (event.clientX >= telas.jogo.capitulo1.fase5.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo1.fase5.final.botoes.retry.x + telas.jogo.capitulo1.fase4.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase5.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo1.fase5.final.botoes.retry.y + telas.jogo.capitulo1.fase4.final.botoes.retry.altura1) {
                    telas.jogo.capitulo1.fase5.reset();
                }

                if (event.clientX >= telas.jogo.capitulo1.fase5.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo1.fase5.final.botoes.exit.x + telas.jogo.capitulo1.fase5.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase5.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo1.fase5.final.botoes.exit.y + telas.jogo.capitulo1.fase5.final.botoes.exit.altura1) {
                    telas.lobby.reset();
                    mudaTela(telas.lobby);
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo2.fase1) {
            if (telas.jogo.capitulo2.fase1.parte == 3) {
                if (telas.jogo.capitulo2.fase1.allowClick) {
                    if (event.clientX >= telas.jogo.capitulo2.fase1.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo2.fase1.final.botoes.exit.x + telas.jogo.capitulo2.fase1.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase1.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo2.fase1.final.botoes.exit.y + telas.jogo.capitulo2.fase1.final.botoes.exit.altura1) {
                        telas.lobby.reset();
                        mudaTela(telas.lobby);
                    }
        
                    if (event.clientX >= telas.jogo.capitulo2.fase1.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo2.fase1.final.botoes.retry.x + telas.jogo.capitulo2.fase1.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase1.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo2.fase1.final.botoes.retry.y + telas.jogo.capitulo2.fase1.final.botoes.retry.altura1) {
                        telas.jogo.capitulo2.fase1.reset();
                        mudaTela(telas.jogo.capitulo2.fase1);
                    }
        
                    if (telas.jogo.capitulo2.fase1.final.aprovado) {
                        if (event.clientX >= telas.jogo.capitulo2.fase1.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo2.fase1.final.botoes.play.x + telas.jogo.capitulo2.fase1.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo2.fase1.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo2.fase1.final.botoes.play.y + telas.jogo.capitulo2.fase1.final.botoes.play.altura1) {
                            telas.jogo.capitulo2.fase2.reset();
                            mudaTela(telas.jogo.capitulo2.fase2);
                        }
                    }
                    
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo2.fase2) {
            if (telas.jogo.capitulo2.fase2.parte == 3) {
                if (telas.jogo.capitulo2.fase2.allowClick) {
                    if (event.clientX >= telas.jogo.capitulo2.fase2.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo2.fase2.final.botoes.exit.x + telas.jogo.capitulo2.fase2.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase2.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo2.fase2.final.botoes.exit.y + telas.jogo.capitulo2.fase2.final.botoes.exit.altura1) {
                        telas.lobby.reset();
                        mudaTela(telas.lobby);
                    }
        
                    if (event.clientX >= telas.jogo.capitulo2.fase2.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo2.fase2.final.botoes.retry.x + telas.jogo.capitulo2.fase2.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase2.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo2.fase2.final.botoes.retry.y + telas.jogo.capitulo2.fase2.final.botoes.retry.altura1) {
                        telas.jogo.capitulo2.fase2.reset();
                        mudaTela(telas.jogo.capitulo2.fase2);
                    }
        
                    if (telas.jogo.capitulo2.fase2.final.aprovado) {
                        if (event.clientX >= telas.jogo.capitulo2.fase2.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo2.fase2.final.botoes.play.x + telas.jogo.capitulo2.fase2.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo2.fase2.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo2.fase2.final.botoes.play.y + telas.jogo.capitulo2.fase2.final.botoes.play.altura1) {
                            telas.jogo.capitulo2.fase3.reset();
                            mudaTela(telas.jogo.capitulo2.fase3);
                        }
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo2.fase3) {
            if (telas.jogo.capitulo2.fase3.parte == 3) {
                if (telas.jogo.capitulo2.fase3.allowClick) {
                    if (event.clientX >= telas.jogo.capitulo2.fase3.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo2.fase3.final.botoes.exit.x + telas.jogo.capitulo2.fase3.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase3.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo2.fase3.final.botoes.exit.y + telas.jogo.capitulo2.fase3.final.botoes.exit.altura1) {
                        telas.lobby.reset();
                        mudaTela(telas.lobby);
                    }
        
                    if (event.clientX >= telas.jogo.capitulo2.fase3.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo2.fase3.final.botoes.retry.x + telas.jogo.capitulo2.fase3.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase3.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo2.fase3.final.botoes.retry.y + telas.jogo.capitulo2.fase3.final.botoes.retry.altura1) {
                        telas.jogo.capitulo2.fase3.reset();
                        mudaTela(telas.jogo.capitulo2.fase3);
                    }
        
                    if (telas.jogo.capitulo2.fase3.final.aprovado) {
                        if (event.clientX >= telas.jogo.capitulo2.fase3.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo2.fase3.final.botoes.play.x + telas.jogo.capitulo2.fase3.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo2.fase3.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo2.fase3.final.botoes.play.y + telas.jogo.capitulo2.fase3.final.botoes.play.altura1) {
                            telas.jogo.capitulo2.fase4.reset();
                            mudaTela(telas.jogo.capitulo2.fase4);
                        }
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo2.fase4) {
            if (telas.jogo.capitulo2.fase4.parte == 3) {
                if (telas.jogo.capitulo2.fase4.allowClick) {
                    if (event.clientX >= telas.jogo.capitulo2.fase4.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo2.fase4.final.botoes.exit.x + telas.jogo.capitulo2.fase4.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase4.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo2.fase4.final.botoes.exit.y + telas.jogo.capitulo2.fase4.final.botoes.exit.altura1) {
                        telas.lobby.reset();
                        mudaTela(telas.lobby);
                    }
        
                    if (event.clientX >= telas.jogo.capitulo2.fase4.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo2.fase4.final.botoes.retry.x + telas.jogo.capitulo2.fase4.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase4.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo2.fase4.final.botoes.retry.y + telas.jogo.capitulo2.fase4.final.botoes.retry.altura1) {
                        telas.jogo.capitulo2.fase4.reset();
                        mudaTela(telas.jogo.capitulo2.fase4);
                    }
        
                    if (telas.jogo.capitulo2.fase4.final.aprovado) {
                        if (event.clientX >= telas.jogo.capitulo2.fase4.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo2.fase4.final.botoes.play.x + telas.jogo.capitulo2.fase4.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo2.fase4.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo2.fase4.final.botoes.play.y + telas.jogo.capitulo2.fase4.final.botoes.play.altura1) {
                            telas.jogo.capitulo2.fase5.reset();
                            mudaTela(telas.jogo.capitulo2.fase5);
                        }
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo2.fase5) {
            if (telas.jogo.capitulo2.fase5.parte == 2) {
                if (telas.jogo.capitulo2.fase5.principal.allowClick) {
                    for (let i = 0; i < telas.jogo.capitulo2.fase5.principal.solucao.alters.length; i++) {
                        if (event.clientX >= telas.jogo.capitulo2.fase5.principal.solucao.alters[i].x &&
                            event.clientX <= telas.jogo.capitulo2.fase5.principal.solucao.alters[i].x + telas.jogo.capitulo2.fase5.principal.solucao.alters[i].larg &&
                            event.clientY >= telas.jogo.capitulo2.fase5.principal.solucao.alters[i].y &&
                            event.clientY <= telas.jogo.capitulo2.fase5.principal.solucao.alters[i].y + telas.jogo.capitulo2.fase5.principal.solucao.alters[i].alt) {
                            telas.jogo.capitulo2.fase5.principal.solucao.click = true;
                            telas.jogo.capitulo2.fase5.principal.solucao.alter = i + 1;
                        }
                    }
                }
            }

            else if (telas.jogo.capitulo2.fase5.parte == 3) {
                if (telas.jogo.capitulo2.fase5.aprovado || banco.capitulo2.fase5_pass) {
                    if (event.clientX >= telas.jogo.capitulo2.fase5.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo2.fase5.final.botoes.play.x + telas.jogo.capitulo2.fase5.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase5.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo2.fase5.final.botoes.play.y + telas.jogo.capitulo2.fase5.final.botoes.play.altura1) {
                        telas.jogo.capitulo3.fase1.reset();
                        mudaTela(telas.jogo.capitulo3.fase1);
                    }
                }

                if (event.clientX >= telas.jogo.capitulo2.fase5.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo2.fase5.final.botoes.retry.x + telas.jogo.capitulo2.fase4.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase5.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo2.fase5.final.botoes.retry.y + telas.jogo.capitulo2.fase4.final.botoes.retry.altura1) {
                    telas.jogo.capitulo2.fase5.reset();
                }

                if (event.clientX >= telas.jogo.capitulo2.fase5.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo2.fase5.final.botoes.exit.x + telas.jogo.capitulo2.fase5.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase5.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo2.fase5.final.botoes.exit.y + telas.jogo.capitulo2.fase5.final.botoes.exit.altura1) {
                    telas.lobby.reset();
                    mudaTela(telas.lobby);
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo3.fase1) {
            if (telas.jogo.capitulo3.fase1.parte == 3) {
                if (telas.jogo.capitulo3.fase1.allowClick) {
                    if (event.clientX >= telas.jogo.capitulo3.fase1.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo3.fase1.final.botoes.exit.x + telas.jogo.capitulo3.fase1.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase1.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo3.fase1.final.botoes.exit.y + telas.jogo.capitulo3.fase1.final.botoes.exit.altura1) {
                        telas.lobby.reset();
                        mudaTela(telas.lobby);
                    }
        
                    if (event.clientX >= telas.jogo.capitulo3.fase1.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo3.fase1.final.botoes.retry.x + telas.jogo.capitulo3.fase1.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase1.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo3.fase1.final.botoes.retry.y + telas.jogo.capitulo3.fase1.final.botoes.retry.altura1) {
                        telas.jogo.capitulo3.fase1.reset();
                        mudaTela(telas.jogo.capitulo3.fase1);
                    }
        
                    if (telas.jogo.capitulo3.fase1.final.aprovado || banco.capitulo3.fase1_pass) {
                        if (event.clientX >= telas.jogo.capitulo3.fase1.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo3.fase1.final.botoes.play.x + telas.jogo.capitulo3.fase1.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo3.fase1.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo3.fase1.final.botoes.play.y + telas.jogo.capitulo3.fase1.final.botoes.play.altura1) {
                            telas.jogo.capitulo3.fase2.reset();
                            mudaTela(telas.jogo.capitulo3.fase2);
                        }
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo3.fase2) {
            if (telas.jogo.capitulo3.fase2.parte == 3) {
                if (telas.jogo.capitulo3.fase2.allowClick) {
                    if (event.clientX >= telas.jogo.capitulo3.fase2.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo3.fase2.final.botoes.exit.x + telas.jogo.capitulo3.fase2.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase2.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo3.fase2.final.botoes.exit.y + telas.jogo.capitulo3.fase2.final.botoes.exit.altura1) {
                        telas.lobby.reset();
                        mudaTela(telas.lobby);
                    }
        
                    if (event.clientX >= telas.jogo.capitulo3.fase2.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo3.fase2.final.botoes.retry.x + telas.jogo.capitulo3.fase2.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase2.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo3.fase2.final.botoes.retry.y + telas.jogo.capitulo3.fase2.final.botoes.retry.altura1) {
                        telas.jogo.capitulo3.fase2.reset();
                        mudaTela(telas.jogo.capitulo3.fase2);
                    }
        
                    if (telas.jogo.capitulo3.fase2.final.aprovado || banco.capitulo3.fase2_pass) {
                        if (event.clientX >= telas.jogo.capitulo3.fase2.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo3.fase2.final.botoes.play.x + telas.jogo.capitulo3.fase2.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo3.fase2.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo3.fase2.final.botoes.play.y + telas.jogo.capitulo3.fase2.final.botoes.play.altura1) {
                            telas.jogo.capitulo3.fase3.reset();
                            mudaTela(telas.jogo.capitulo3.fase3);
                        }
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo3.fase3) {
            if (telas.jogo.capitulo3.fase3.parte == 3) {
                if (telas.jogo.capitulo3.fase3.allowClick) {
                    if (event.clientX >= telas.jogo.capitulo3.fase3.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo3.fase3.final.botoes.exit.x + telas.jogo.capitulo3.fase3.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase3.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo3.fase3.final.botoes.exit.y + telas.jogo.capitulo3.fase3.final.botoes.exit.altura1) {
                        telas.lobby.reset();
                        mudaTela(telas.lobby);
                    }
        
                    if (event.clientX >= telas.jogo.capitulo3.fase3.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo3.fase3.final.botoes.retry.x + telas.jogo.capitulo3.fase3.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase3.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo3.fase3.final.botoes.retry.y + telas.jogo.capitulo3.fase3.final.botoes.retry.altura1) {
                        telas.jogo.capitulo3.fase3.reset();
                        mudaTela(telas.jogo.capitulo3.fase3);
                    }
        
                    if (telas.jogo.capitulo3.fase3.final.aprovado) {
                        if (event.clientX >= telas.jogo.capitulo3.fase3.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo3.fase3.final.botoes.play.x + telas.jogo.capitulo3.fase3.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo3.fase3.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo3.fase3.final.botoes.play.y + telas.jogo.capitulo3.fase3.final.botoes.play.altura1) {
                            telas.jogo.capitulo3.fase4.reset();
                            mudaTela(telas.jogo.capitulo3.fase4);
                        }
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo3.fase4) {
            if (telas.jogo.capitulo3.fase4.parte == 2 && !telas.jogo.capitulo3.fase4.tutorialAllow) {
                if (event.clientX >= telas.jogo.capitulo3.fase4.principal.solucao.x &&
                    event.clientX <= telas.jogo.capitulo3.fase4.principal.solucao.x + telas.jogo.capitulo3.fase4.principal.solucao.largura &&
                    event.clientY >= telas.jogo.capitulo3.fase4.principal.solucao.y1 &&
                    event.clientY <= telas.jogo.capitulo3.fase4.principal.solucao.y1 + telas.jogo.capitulo3.fase4.principal.solucao.altura) {
                    telas.jogo.capitulo3.fase4.principal.solucao.click = true;
                    telas.jogo.capitulo3.fase4.principal.solucao.alter = 1;
                }

                if (event.clientX >= telas.jogo.capitulo3.fase4.principal.solucao.x &&
                    event.clientX <= telas.jogo.capitulo3.fase4.principal.solucao.x + telas.jogo.capitulo3.fase4.principal.solucao.largura &&
                    event.clientY >= telas.jogo.capitulo3.fase4.principal.solucao.y2 &&
                    event.clientY <= telas.jogo.capitulo3.fase4.principal.solucao.y2 + telas.jogo.capitulo3.fase4.principal.solucao.altura) {
                    telas.jogo.capitulo3.fase4.principal.solucao.click = true;
                    telas.jogo.capitulo3.fase4.principal.solucao.alter = 2;
                }

                if (event.clientX >= telas.jogo.capitulo3.fase4.principal.solucao.x1 &&
                    event.clientX <= telas.jogo.capitulo3.fase4.principal.solucao.x1 + telas.jogo.capitulo3.fase4.principal.solucao.largura &&
                    event.clientY >= telas.jogo.capitulo3.fase4.principal.solucao.y3 &&
                    event.clientY <= telas.jogo.capitulo3.fase4.principal.solucao.y3 + telas.jogo.capitulo3.fase4.principal.solucao.altura) {
                    telas.jogo.capitulo3.fase4.principal.solucao.click = true;
                    telas.jogo.capitulo3.fase4.principal.solucao.alter = 3;
                }

                if (event.clientX >= telas.jogo.capitulo3.fase4.principal.solucao.x1 &&
                    event.clientX <= telas.jogo.capitulo3.fase4.principal.solucao.x1 + telas.jogo.capitulo3.fase4.principal.solucao.largura &&
                    event.clientY >= telas.jogo.capitulo3.fase4.principal.solucao.y4 &&
                    event.clientY <= telas.jogo.capitulo3.fase4.principal.solucao.y4 + telas.jogo.capitulo3.fase4.principal.solucao.altura) {
                    telas.jogo.capitulo3.fase4.principal.solucao.click = true;
                    telas.jogo.capitulo3.fase4.principal.solucao.alter = 4;
                }
            }

            else if (telas.jogo.capitulo3.fase4.parte == 3 && telas.jogo.capitulo3.fase4.allowClick) {
                if (telas.jogo.capitulo3.fase4.final.aprovado || banco.capitulo3.fase4_pass) {
                    if (event.clientX >= telas.jogo.capitulo3.fase4.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo3.fase4.final.botoes.play.x + telas.jogo.capitulo3.fase4.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase4.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo3.fase4.final.botoes.play.y + telas.jogo.capitulo3.fase4.final.botoes.play.altura1) {
                        telas.jogo.capitulo3.fase5.reset();
                        mudaTela(telas.jogo.capitulo3.fase5);
                        telas.jogo.capitulo3.fase4.allowClick = false;
                    }
                }

                if (event.clientX >= telas.jogo.capitulo3.fase4.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo3.fase4.final.botoes.retry.x + telas.jogo.capitulo3.fase4.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase4.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo3.fase4.final.botoes.retry.y + telas.jogo.capitulo3.fase4.final.botoes.retry.altura1) {
                    telas.jogo.capitulo3.fase4.reset();
                    telas.jogo.capitulo3.fase4.allowClick = false;
                }

                if (event.clientX >= telas.jogo.capitulo3.fase4.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo3.fase4.final.botoes.exit.x + telas.jogo.capitulo3.fase4.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase4.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo3.fase4.final.botoes.exit.y + telas.jogo.capitulo3.fase4.final.botoes.exit.altura1) {
                    telas.lobby.reset();
                    mudaTela(telas.lobby);
                    telas.jogo.capitulo3.fase4.allowClick = false;
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo3.fase5) {
            if (telas.jogo.capitulo3.fase5.parte == 2) {
                if (telas.jogo.capitulo3.fase5.principal.allowClick) {
                    for (let i = 0; i < telas.jogo.capitulo3.fase5.principal.solucao.alters.length; i++) {
                        if (event.clientX >= telas.jogo.capitulo3.fase5.principal.solucao.alters[i].x &&
                            event.clientX <= telas.jogo.capitulo3.fase5.principal.solucao.alters[i].x + telas.jogo.capitulo3.fase5.principal.solucao.alters[i].larg &&
                            event.clientY >= telas.jogo.capitulo3.fase5.principal.solucao.alters[i].y &&
                            event.clientY <= telas.jogo.capitulo3.fase5.principal.solucao.alters[i].y + telas.jogo.capitulo3.fase5.principal.solucao.alters[i].alt) {
                            telas.jogo.capitulo3.fase5.principal.solucao.click = true;
                            telas.jogo.capitulo3.fase5.principal.solucao.alter = i + 1;
                        }
                    }
                }
            }

            else if (telas.jogo.capitulo3.fase5.parte == 3) {
                if (telas.jogo.capitulo3.fase5.aprovado || banco.capitulo3.fase5_pass) {
                    if (event.clientX >= telas.jogo.capitulo3.fase5.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo3.fase5.final.botoes.play.x + telas.jogo.capitulo3.fase5.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase5.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo3.fase5.final.botoes.play.y + telas.jogo.capitulo3.fase5.final.botoes.play.altura1) {
                        telas.jogo.capitulo4.fase1.reset();
                        mudaTela(telas.jogo.capitulo4.fase1);
                    }
                }

                if (event.clientX >= telas.jogo.capitulo3.fase5.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo3.fase5.final.botoes.retry.x + telas.jogo.capitulo3.fase4.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase5.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo3.fase5.final.botoes.retry.y + telas.jogo.capitulo3.fase4.final.botoes.retry.altura1) {
                    telas.jogo.capitulo3.fase5.reset();
                }

                if (event.clientX >= telas.jogo.capitulo3.fase5.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo3.fase5.final.botoes.exit.x + telas.jogo.capitulo3.fase5.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase5.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo3.fase5.final.botoes.exit.y + telas.jogo.capitulo3.fase5.final.botoes.exit.altura1) {
                    telas.lobby.reset();
                    mudaTela(telas.lobby);
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo4.fase1) {
            if (telas.jogo.capitulo4.fase1.parte == 2 && !telas.jogo.capitulo4.fase1.tutorialAllow) {
                if (telas.jogo.capitulo4.fase1.principal.parte == 2) {
                    if (event.clientX >= telas.jogo.capitulo4.fase1.principal.solucao.x &&
                        event.clientX <= telas.jogo.capitulo4.fase1.principal.solucao.x + telas.jogo.capitulo4.fase1.principal.solucao.larg &&
                        event.clientY >= telas.jogo.capitulo4.fase1.principal.solucao.y &&
                        event.clientY <= telas.jogo.capitulo4.fase1.principal.solucao.y + telas.jogo.capitulo4.fase1.principal.solucao.alt) {
                        telas.jogo.capitulo4.fase1.principal.solucao.click = true;
                        telas.jogo.capitulo4.fase1.principal.solucao.alternativas.click = 1;
                    }
    
                    if (event.clientX >= telas.jogo.capitulo4.fase1.principal.solucao.x &&
                        event.clientX <= telas.jogo.capitulo4.fase1.principal.solucao.x + telas.jogo.capitulo4.fase1.principal.solucao.larg &&
                        event.clientY >= telas.jogo.capitulo4.fase1.principal.solucao.y1 &&
                        event.clientY <= telas.jogo.capitulo4.fase1.principal.solucao.y1 + telas.jogo.capitulo4.fase1.principal.solucao.alt) {
                        telas.jogo.capitulo4.fase1.principal.solucao.click = true;
                        telas.jogo.capitulo4.fase1.principal.solucao.alternativas.click = 2;
                    }
                    
                    if (event.clientX >= telas.jogo.capitulo4.fase1.principal.solucao.x1 &&
                        event.clientX <= telas.jogo.capitulo4.fase1.principal.solucao.x1 + telas.jogo.capitulo4.fase1.principal.solucao.larg &&
                        event.clientY >= telas.jogo.capitulo4.fase1.principal.solucao.y &&
                        event.clientY <= telas.jogo.capitulo4.fase1.principal.solucao.y + telas.jogo.capitulo4.fase1.principal.solucao.alt) {
                        telas.jogo.capitulo4.fase1.principal.solucao.click = true;
                        telas.jogo.capitulo4.fase1.principal.solucao.alternativas.click = 3;
                    }
                    
                    if (event.clientX >= telas.jogo.capitulo4.fase1.principal.solucao.x1 &&
                        event.clientX <= telas.jogo.capitulo4.fase1.principal.solucao.x1 + telas.jogo.capitulo4.fase1.principal.solucao.larg &&
                        event.clientY >= telas.jogo.capitulo4.fase1.principal.solucao.y1 &&
                        event.clientY <= telas.jogo.capitulo4.fase1.principal.solucao.y1 + telas.jogo.capitulo4.fase1.principal.solucao.alt) {
                        telas.jogo.capitulo4.fase1.principal.solucao.click = true;
                        telas.jogo.capitulo4.fase1.principal.solucao.alternativas.click = 4;
                    }
                }
            }

            else if (telas.jogo.capitulo4.fase1.parte == 3 && telas.jogo.capitulo4.fase1.allowBotoes) {
                if (event.clientX >= telas.jogo.capitulo4.fase1.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo4.fase1.final.botoes.retry.x + telas.jogo.capitulo4.fase1.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase1.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo4.fase1.final.botoes.retry.y + telas.jogo.capitulo4.fase1.final.botoes.retry.altura1) {
                    telas.jogo.capitulo4.fase1.reset();
                    mudaTela(telas.jogo.capitulo4.fase1);
                }
    
                if (event.clientX >= telas.jogo.capitulo4.fase1.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo4.fase1.final.botoes.exit.x + telas.jogo.capitulo4.fase1.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase1.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo4.fase1.final.botoes.exit.y + telas.jogo.capitulo4.fase1.final.botoes.exit.altura1) {
                    telas.lobby.reset();
                    mudaTela(telas.lobby);
                }
    
                if (telas.jogo.capitulo4.fase1.aprovado || banco.capitulo4.fase1_pass) {
                    if (event.clientX >= telas.jogo.capitulo4.fase1.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo4.fase1.final.botoes.play.x + telas.jogo.capitulo4.fase1.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo4.fase1.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo4.fase1.final.botoes.play.y + telas.jogo.capitulo4.fase1.final.botoes.play.altura1) {
                        telas.jogo.capitulo4.fase2.reset();
                        mudaTela(telas.jogo.capitulo4.fase2);
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo4.fase2) {
            if (telas.jogo.capitulo4.fase2.parte == 2) {
                if (telas.jogo.capitulo4.fase2.principal.questao.clickAllow &&
                    !telas.jogo.capitulo4.fase2.principal.comecou &&
                    !telas.jogo.capitulo4.fase2.principal.acabou) {
                    telas.jogo.capitulo4.fase2.principal.solucao.atualiza(event.clientX, event.clientY);
                }
            }

            else if (telas.jogo.capitulo4.fase2.parte == 3 && telas.jogo.capitulo4.fase2.allowClick) {
                if (event.clientX >= telas.jogo.capitulo4.fase2.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo4.fase2.final.botoes.retry.x + telas.jogo.capitulo4.fase2.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase2.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo4.fase2.final.botoes.retry.y + telas.jogo.capitulo4.fase2.final.botoes.retry.altura1) {
                    telas.jogo.capitulo4.fase2.reset();
                    mudaTela(telas.jogo.capitulo4.fase2);
                }
    
                if (event.clientX >= telas.jogo.capitulo4.fase2.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo4.fase2.final.botoes.exit.x + telas.jogo.capitulo4.fase2.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase2.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo4.fase2.final.botoes.exit.y + telas.jogo.capitulo4.fase2.final.botoes.exit.altura1) {
                    telas.lobby.reset();
                    mudaTela(telas.lobby);
                }
    
                if (telas.jogo.capitulo4.fase2.aprovado || banco.capitulo4.fase2_pass) {
                    if (event.clientX >= telas.jogo.capitulo4.fase2.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo4.fase2.final.botoes.play.x + telas.jogo.capitulo4.fase2.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo4.fase2.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo4.fase2.final.botoes.play.y + telas.jogo.capitulo4.fase2.final.botoes.play.altura1) {
                        telas.jogo.capitulo4.fase3.reset();
                        mudaTela(telas.jogo.capitulo4.fase3);
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo4.fase3) {
            if (telas.jogo.capitulo4.fase3.parte == 3) {
                if (telas.jogo.capitulo4.fase3.allowClick) {
                    if (event.clientX >= telas.jogo.capitulo4.fase3.final.botoes.exit.x &&
                        event.clientX <= telas.jogo.capitulo4.fase3.final.botoes.exit.x + telas.jogo.capitulo4.fase3.final.botoes.exit.largura1 &&
                        event.clientY >= telas.jogo.capitulo4.fase3.final.botoes.exit.y &&
                        event.clientY <= telas.jogo.capitulo4.fase3.final.botoes.exit.y + telas.jogo.capitulo4.fase3.final.botoes.exit.altura1) {
                        telas.lobby.reset();
                        mudaTela(telas.lobby);
                    }
        
                    if (event.clientX >= telas.jogo.capitulo4.fase3.final.botoes.retry.x &&
                        event.clientX <= telas.jogo.capitulo4.fase3.final.botoes.retry.x + telas.jogo.capitulo4.fase3.final.botoes.retry.largura1 &&
                        event.clientY >= telas.jogo.capitulo4.fase3.final.botoes.retry.y &&
                        event.clientY <= telas.jogo.capitulo4.fase3.final.botoes.retry.y + telas.jogo.capitulo4.fase3.final.botoes.retry.altura1) {
                        telas.jogo.capitulo4.fase3.reset();
                        mudaTela(telas.jogo.capitulo4.fase3);
                    }
        
                    if (telas.jogo.capitulo4.fase3.final.aprovado || banco.capitulo4.fase3_pass) {
                        if (event.clientX >= telas.jogo.capitulo4.fase3.final.botoes.play.x &&
                            event.clientX <= telas.jogo.capitulo4.fase3.final.botoes.play.x + telas.jogo.capitulo4.fase3.final.botoes.play.largura1 &&
                            event.clientY >= telas.jogo.capitulo4.fase3.final.botoes.play.y &&
                            event.clientY <= telas.jogo.capitulo4.fase3.final.botoes.play.y + telas.jogo.capitulo4.fase3.final.botoes.play.altura1) {
                            telas.jogo.capitulo4.fase4.reset();
                            mudaTela(telas.jogo.capitulo4.fase4);
                        }
                    }
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo4.fase4) {
            if (telas.jogo.capitulo4.fase4.parte == 2 && !telas.jogo.capitulo4.fase4.tutorialAllow) {
                if (telas.jogo.capitulo4.fase4.principal.parte == 2 &&
                    telas.jogo.capitulo4.fase4.principal.questao.numQuestao1 == 1) {
                    if (event.clientX >= telas.jogo.capitulo4.fase4.principal.solucao.x &&
                        event.clientX <= telas.jogo.capitulo4.fase4.principal.solucao.x + telas.jogo.capitulo4.fase4.principal.solucao.largura &&
                        event.clientY >= telas.jogo.capitulo4.fase4.principal.solucao.y1 &&
                        event.clientY <= telas.jogo.capitulo4.fase4.principal.solucao.y1 + telas.jogo.capitulo4.fase4.principal.solucao.altura) {
                        telas.jogo.capitulo4.fase4.principal.solucao.click = true;
                        telas.jogo.capitulo4.fase4.principal.solucao.alter = telas.jogo.capitulo4.fase4.principal.solucao.alter1;
                    }
    
                    if (event.clientX >= telas.jogo.capitulo4.fase4.principal.solucao.x &&
                        event.clientX <= telas.jogo.capitulo4.fase4.principal.solucao.x + telas.jogo.capitulo4.fase4.principal.solucao.largura &&
                        event.clientY >= telas.jogo.capitulo4.fase4.principal.solucao.y2 &&
                        event.clientY <= telas.jogo.capitulo4.fase4.principal.solucao.y2 + telas.jogo.capitulo4.fase4.principal.solucao.altura) {
                        telas.jogo.capitulo4.fase4.principal.solucao.click = true;
                        telas.jogo.capitulo4.fase4.principal.solucao.alter = telas.jogo.capitulo4.fase4.principal.solucao.alter2;
                    }
    
                    if (event.clientX >= telas.jogo.capitulo4.fase4.principal.solucao.x1 &&
                        event.clientX <= telas.jogo.capitulo4.fase4.principal.solucao.x1 + telas.jogo.capitulo4.fase4.principal.solucao.largura &&
                        event.clientY >= telas.jogo.capitulo4.fase4.principal.solucao.y3 &&
                        event.clientY <= telas.jogo.capitulo4.fase4.principal.solucao.y3 + telas.jogo.capitulo4.fase4.principal.solucao.altura) {
                        telas.jogo.capitulo4.fase4.principal.solucao.click = true;
                        telas.jogo.capitulo4.fase4.principal.solucao.alter = telas.jogo.capitulo4.fase4.principal.solucao.alter3;
                    }
    
                    if (event.clientX >= telas.jogo.capitulo4.fase4.principal.solucao.x1 &&
                        event.clientX <= telas.jogo.capitulo4.fase4.principal.solucao.x1 + telas.jogo.capitulo4.fase4.principal.solucao.largura &&
                        event.clientY >= telas.jogo.capitulo4.fase4.principal.solucao.y4 &&
                        event.clientY <= telas.jogo.capitulo4.fase4.principal.solucao.y4 + telas.jogo.capitulo4.fase4.principal.solucao.altura) {
                        telas.jogo.capitulo4.fase4.principal.solucao.click = true;
                        telas.jogo.capitulo4.fase4.principal.solucao.alter = telas.jogo.capitulo4.fase4.principal.solucao.alter4;
                    }
                }
            }

            else if (telas.jogo.capitulo4.fase4.parte == 3 && telas.jogo.capitulo4.fase4.allowClick) {
                if (telas.jogo.capitulo4.fase4.final.aprovado || banco.capitulo4.fase4_pass) {
                    if (event.clientX >= telas.jogo.capitulo4.fase4.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo4.fase4.final.botoes.play.x + telas.jogo.capitulo4.fase4.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo4.fase4.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo4.fase4.final.botoes.play.y + telas.jogo.capitulo4.fase4.final.botoes.play.altura1) {
                        telas.jogo.capitulo4.fase5.reset();
                        mudaTela(telas.jogo.capitulo4.fase5);
                        telas.jogo.capitulo4.fase4.allowClick = false;
                    }
                }

                if (event.clientX >= telas.jogo.capitulo4.fase4.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo4.fase4.final.botoes.retry.x + telas.jogo.capitulo4.fase4.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase4.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo4.fase4.final.botoes.retry.y + telas.jogo.capitulo4.fase4.final.botoes.retry.altura1) {
                    telas.jogo.capitulo4.fase4.reset();
                    telas.jogo.capitulo4.fase4.allowClick = false;
                }

                if (event.clientX >= telas.jogo.capitulo4.fase4.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo4.fase4.final.botoes.exit.x + telas.jogo.capitulo4.fase4.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase4.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo4.fase4.final.botoes.exit.y + telas.jogo.capitulo4.fase4.final.botoes.exit.altura1) {
                    telas.lobby.reset();
                    mudaTela(telas.lobby);
                    telas.jogo.capitulo4.fase4.allowClick = false;
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo4.fase5) {
            if (telas.jogo.capitulo4.fase5.parte == 2 && telas.jogo.capitulo4.fase5.principal.questao.clickAllow) {
                telas.jogo.capitulo4.fase5.principal.questao.verificaClick(event.clientX, event.clientY);
            }

            else if (telas.jogo.capitulo4.fase5.parte == 3) {
                if (telas.jogo.capitulo4.fase5.aprovado || banco.capitulo4.fase5_pass) {
                    if (event.clientX >= telas.jogo.capitulo4.fase5.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo4.fase5.final.botoes.play.x + telas.jogo.capitulo4.fase5.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo4.fase5.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo4.fase5.final.botoes.play.y + telas.jogo.capitulo4.fase5.final.botoes.play.altura1) {
                        telas.jogo.capitulo5.fase1.reset();
                        mudaTela(telas.jogo.capitulo5.fase1);
                    }
                }

                if (event.clientX >= telas.jogo.capitulo4.fase5.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo4.fase5.final.botoes.retry.x + telas.jogo.capitulo4.fase5.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase5.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo4.fase5.final.botoes.retry.y + telas.jogo.capitulo4.fase5.final.botoes.retry.altura1) {
                    telas.jogo.capitulo4.fase5.reset();
                }

                if (event.clientX >= telas.jogo.capitulo4.fase5.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo4.fase5.final.botoes.exit.x + telas.jogo.capitulo4.fase5.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase5.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo4.fase5.final.botoes.exit.y + telas.jogo.capitulo4.fase5.final.botoes.exit.altura1) {
                    telas.lobby.reset();
                    mudaTela(telas.lobby);
                }
            }
        }

        else if (telaAtiva == telas.jogo.capitulo5.fase1) {
            if (telas.jogo.capitulo5.fase1.parte == 2 && !telas.jogo.capitulo5.fase1.tutorialAllow) {
                telas.jogo.capitulo5.fase1.principal.questao.banco2.forEach(item => {
                    if (event.clientX >= item.compartimento.posX &&
                        event.clientX <= item.compartimento.posX + 50 &&
                        event.clientY >= item.compartimento.posY &&
                        event.clientY <= item.compartimento.posY + 50) {
                        item.compartimento.selected = true;
                    }
    
                    else {
                        item.compartimento.selected = false;
                    }
                })

                if (event.clientX >= telas.jogo.capitulo5.fase1.principal.botao_exit.x &&
                    event.clientX <= telas.jogo.capitulo5.fase1.principal.botao_exit.x + 50 &&
                    event.clientY >= telas.jogo.capitulo5.fase1.principal.botao_exit.y &&
                    event.clientY <= telas.jogo.capitulo5.fase1.principal.botao_exit.y + 50) {
                    telas.jogo.capitulo5.fase1.parte ++;
                    telas.jogo.capitulo5.fase1.final.aprovado = false;
                }
            }

            else if (telas.jogo.capitulo5.fase1.parte == 3) {
                if (telas.jogo.capitulo5.fase1.aprovado || banco.capitulo5.fase1_pass) {
                    if (event.clientX >= telas.jogo.capitulo5.fase1.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo5.fase1.final.botoes.play.x + telas.jogo.capitulo5.fase1.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo5.fase1.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo5.fase1.final.botoes.play.y + telas.jogo.capitulo5.fase1.final.botoes.play.altura1) {
                        telas.jogo.capitulo5.fase2.reset();
                        mudaTela(telas.jogo.capitulo5.fase2);
                    }
                }

                if (event.clientX >= telas.jogo.capitulo5.fase1.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo5.fase1.final.botoes.retry.x + telas.jogo.capitulo5.fase1.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo5.fase1.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo5.fase1.final.botoes.retry.y + telas.jogo.capitulo5.fase1.final.botoes.retry.altura1) {
                    telas.jogo.capitulo5.fase1.reset();
                }

                if (event.clientX >= telas.jogo.capitulo5.fase1.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo5.fase1.final.botoes.exit.x + telas.jogo.capitulo5.fase1.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo5.fase1.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo5.fase1.final.botoes.exit.y + telas.jogo.capitulo5.fase1.final.botoes.exit.altura1) {
                    telas.lobby.reset();
                    mudaTela(telas.lobby);
                }
            }
        }

        mouseClick = false;
    }
}

window.onmouseup = function() {
    mouseClick = true;
}

canvas.onmousemove = function(event) {
    if (telaAtiva == telas.lobby) {
        if (telas.lobby.clickAllow) {
            if (telas.lobby.setaAllow) {
                if (event.clientX >= telas.lobby.seta.x &&
                    event.clientX <= telas.lobby.seta.x + telas.lobby.seta.larg1 &&
                    event.clientY >= telas.lobby.seta.y &&
                    event.clientY <= telas.lobby.seta.y + telas.lobby.seta.alt1
                ) {
                    telas.lobby.seta.hover = true;
                }
        
                else {
                    telas.lobby.seta.hover = false;
                }
            }
            
            if (telas.lobby.setaAllow2) {
                if (event.clientX >= telas.lobby.seta2.x &&
                    event.clientX <= telas.lobby.seta2.x + telas.lobby.seta2.larg1 &&
                    event.clientY >= telas.lobby.seta2.y &&
                    event.clientY <= telas.lobby.seta2.y + telas.lobby.seta2.alt1
                ) {
                    telas.lobby.seta2.hover = true;
                }
        
                else {
                    telas.lobby.seta2.hover = false;
                }
            }
        }
    }

    else if (telaAtiva == telas.save) {
        if (telas.save.allowClick) {
            for (let i = 0; i < telas.save.saves.length; i++) {
                if (!telas.save.saves[i].draw_part2) {
                    if (event.clientX >= telas.save.saves[i].x &&
                        event.clientX <= telas.save.saves[i].x + telas.save.saves[i].larg &&
                        event.clientY >= telas.save.saves[i].y &&
                        event.clientY <= telas.save.saves[i].y + telas.save.saves[i].alt) {
                        telas.save.saves[i].hover = true;
                    }
        
                    else {
                        telas.save.saves[i].hover = false;
                    }
                }

                else if (!telas.save.saves[i].excluir){
                    if (event.clientX >= telas.save.botao.x &&
                        event.clientX <= telas.save.botao.x + telas.save.botao.larg &&
                        event.clientY >= telas.save.botao.y &&
                        event.clientY <= telas.save.botao.y + telas.save.botao.alt) {
                        telas.save.botao.hover = true;
                    }

                    else {
                        telas.save.botao.hover = false;
                    }
                }

                else {
                    if (event.clientX >= telas.save.saves[i].drawExcluir.botao_sim.x &&
                        event.clientX <= telas.save.saves[i].drawExcluir.botao_sim.x + telas.save.saves[i].drawExcluir.botao_sim.larg &&
                        event.clientY >= telas.save.saves[i].drawExcluir.botao_sim.y &&
                        event.clientY <= telas.save.saves[i].drawExcluir.botao_sim.y + telas.save.saves[i].drawExcluir.botao_sim.alt) {
                        telas.save.saves[i].drawExcluir.botao_sim.hover = true;
                    }

                    else {
                        telas.save.saves[i].drawExcluir.botao_sim.hover = false;
                    }
                    
                    if (event.clientX >= telas.save.saves[i].drawExcluir.botao_nao.x &&
                        event.clientX <= telas.save.saves[i].drawExcluir.botao_nao.x + telas.save.saves[i].drawExcluir.botao_nao.larg &&
                        event.clientY >= telas.save.saves[i].drawExcluir.botao_nao.y &&
                        event.clientY <= telas.save.saves[i].drawExcluir.botao_nao.y + telas.save.saves[i].drawExcluir.botao_nao.alt) {
                        telas.save.saves[i].drawExcluir.botao_nao.hover = true;
                    }

                    else {
                        telas.save.saves[i].drawExcluir.botao_nao.hover = false;
                    }
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo1.fase1) {
        if (telas.jogo.capitulo1.fase1.parte == 3) {
            if (telas.jogo.capitulo1.fase1.allowClick) {
                if (event.clientX >= telas.jogo.capitulo1.fase1.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo1.fase1.final.botoes.retry.x + telas.jogo.capitulo1.fase1.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase1.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo1.fase1.final.botoes.retry.y + telas.jogo.capitulo1.fase1.final.botoes.retry.altura1) {
                    telas.jogo.capitulo1.fase1.final.botoes.retry.hover = true;
                }
    
                else {
                    telas.jogo.capitulo1.fase1.final.botoes.retry.hover = false;
                }
    
                if (event.clientX >= telas.jogo.capitulo1.fase1.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo1.fase1.final.botoes.exit.x + telas.jogo.capitulo1.fase1.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase1.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo1.fase1.final.botoes.exit.y + telas.jogo.capitulo1.fase1.final.botoes.exit.altura1) {
                    telas.jogo.capitulo1.fase1.final.botoes.exit.hover = true;
                }
    
                else {
                    telas.jogo.capitulo1.fase1.final.botoes.exit.hover = false;
                }
    
                if (telas.jogo.capitulo1.fase1.final.aprovado || banco.capitulo1.fase1_pass) {
                    if (event.clientX >= telas.jogo.capitulo1.fase1.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo1.fase1.final.botoes.play.x + telas.jogo.capitulo1.fase1.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase1.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo1.fase1.final.botoes.play.y + telas.jogo.capitulo1.fase1.final.botoes.play.altura1) {
                        telas.jogo.capitulo1.fase1.final.botoes.play.hover = true;
                    }
        
                    else {
                        telas.jogo.capitulo1.fase1.final.botoes.play.hover = false;
                    }
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo1.fase2) {
        if (telas.jogo.capitulo1.fase2.parte == 2) {
            for (let i = 0; i < telas.jogo.capitulo1.fase2.principal.solucao.alters.length; i++) {
                if (event.clientX >= telas.jogo.capitulo1.fase2.principal.solucao.alters[i].x &&
                    event.clientX <= telas.jogo.capitulo1.fase2.principal.solucao.alters[i].x + telas.jogo.capitulo1.fase2.principal.solucao.alters[i].larg &&
                    event.clientY >= telas.jogo.capitulo1.fase2.principal.solucao.alters[i].y &&
                    event.clientY <= telas.jogo.capitulo1.fase2.principal.solucao.alters[i].y + telas.jogo.capitulo1.fase2.principal.solucao.alters[i].alt) {
                    telas.jogo.capitulo1.fase2.principal.solucao.alters[i].hover = true;
                }

                else {
                    telas.jogo.capitulo1.fase2.principal.solucao.alters[i].hover = false;
                }
            }
        }

        else if (telas.jogo.capitulo1.fase2.parte == 3) {
            if (telas.jogo.capitulo1.fase2.allowClick) {
                if (telas.jogo.capitulo1.fase2.final.aprovado || banco.capitulo1.fase2_pass) {
                    if (event.clientX >= telas.jogo.capitulo1.fase2.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo1.fase2.final.botoes.play.x + telas.jogo.capitulo1.fase2.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase2.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo1.fase2.final.botoes.play.y + telas.jogo.capitulo1.fase2.final.botoes.play.altura1) {
                        telas.jogo.capitulo1.fase2.final.botoes.play.hover = true;
                    }
    
                    else {
                        telas.jogo.capitulo1.fase2.final.botoes.play.hover = false;
                    }
                }

                if (event.clientX >= telas.jogo.capitulo1.fase2.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo1.fase2.final.botoes.exit.x + telas.jogo.capitulo1.fase2.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase2.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo1.fase2.final.botoes.exit.y + telas.jogo.capitulo1.fase2.final.botoes.exit.altura1) {
                    telas.jogo.capitulo1.fase2.final.botoes.exit.hover = true;
                }

                else {
                    telas.jogo.capitulo1.fase2.final.botoes.exit.hover = false;
                }

                if (event.clientX >= telas.jogo.capitulo1.fase2.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo1.fase2.final.botoes.retry.x + telas.jogo.capitulo1.fase2.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase2.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo1.fase2.final.botoes.retry.y + telas.jogo.capitulo1.fase2.final.botoes.retry.altura1) {
                    telas.jogo.capitulo1.fase2.final.botoes.retry.hover = true;
                }

                else {
                    telas.jogo.capitulo1.fase2.final.botoes.retry.hover = false;
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo1.fase3) {
        if (telas.jogo.capitulo1.fase3.parte == 2) {
            for (let i = 0; i < telas.jogo.capitulo1.fase3.principal.solucao.alters.length; i++) {
                if (event.clientX >= telas.jogo.capitulo1.fase3.principal.solucao.alters[i].x &&
                    event.clientX <= telas.jogo.capitulo1.fase3.principal.solucao.alters[i].x + telas.jogo.capitulo1.fase3.principal.solucao.alters[i].larg &&
                    event.clientY >= telas.jogo.capitulo1.fase3.principal.solucao.alters[i].y &&
                    event.clientY <= telas.jogo.capitulo1.fase3.principal.solucao.alters[i].y + telas.jogo.capitulo1.fase3.principal.solucao.alters[i].alt) {
                    telas.jogo.capitulo1.fase3.principal.solucao.alters[i].hover = true;
                }

                else {
                    telas.jogo.capitulo1.fase3.principal.solucao.alters[i].hover = false;
                }
            }
        }

        else if (telas.jogo.capitulo1.fase3.parte == 3) {
            if (telas.jogo.capitulo1.fase3.allowClick) {
                if (telas.jogo.capitulo1.fase3.final.aprovado || banco.capitulo1.fase3_pass) {
                    if (event.clientX >= telas.jogo.capitulo1.fase3.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo1.fase3.final.botoes.play.x + telas.jogo.capitulo1.fase3.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase3.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo1.fase3.final.botoes.play.y + telas.jogo.capitulo1.fase3.final.botoes.play.altura1) {
                        telas.jogo.capitulo1.fase3.final.botoes.play.hover = true;
                    }
    
                    else {
                        telas.jogo.capitulo1.fase3.final.botoes.play.hover = false;
                    }
                }

                if (event.clientX >= telas.jogo.capitulo1.fase3.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo1.fase3.final.botoes.exit.x + telas.jogo.capitulo1.fase3.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase3.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo1.fase3.final.botoes.exit.y + telas.jogo.capitulo1.fase3.final.botoes.exit.altura1) {
                    telas.jogo.capitulo1.fase3.final.botoes.exit.hover = true;
                }

                else {
                    telas.jogo.capitulo1.fase3.final.botoes.exit.hover = false;
                }

                if (event.clientX >= telas.jogo.capitulo1.fase3.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo1.fase3.final.botoes.retry.x + telas.jogo.capitulo1.fase3.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase3.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo1.fase3.final.botoes.retry.y + telas.jogo.capitulo1.fase3.final.botoes.retry.altura1) {
                    telas.jogo.capitulo1.fase3.final.botoes.retry.hover = true;
                }

                else {
                    telas.jogo.capitulo1.fase3.final.botoes.retry.hover = false;
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo1.fase4) {
        if (telas.jogo.capitulo1.fase4.parte == 2) {
            if (event.clientX >= telas.jogo.capitulo1.fase4.principal.solucao.x - telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                event.clientX <= telas.jogo.capitulo1.fase4.principal.solucao.x + telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                event.clientY >= telas.jogo.capitulo1.fase4.principal.solucao.y - telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                event.clientY <= telas.jogo.capitulo1.fase4.principal.solucao.y + telas.jogo.capitulo1.fase4.principal.solucao.largura) {
                telas.jogo.capitulo1.fase4.principal.solucao.hover1 = true;
            }

            else {
                telas.jogo.capitulo1.fase4.principal.solucao.hover1 = false;
            }

            if (event.clientX >= telas.jogo.capitulo1.fase4.principal.solucao.x1 - telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                event.clientX <= telas.jogo.capitulo1.fase4.principal.solucao.x1 + telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                event.clientY >= telas.jogo.capitulo1.fase4.principal.solucao.y - telas.jogo.capitulo1.fase4.principal.solucao.largura &&
                event.clientY <= telas.jogo.capitulo1.fase4.principal.solucao.y + telas.jogo.capitulo1.fase4.principal.solucao.largura) {
                telas.jogo.capitulo1.fase4.principal.solucao.hover2 = true;
            }

            else {
                telas.jogo.capitulo1.fase4.principal.solucao.hover2 = false;
            }
        }

        else if (telas.jogo.capitulo1.fase4.parte == 3) {
            if (telas.jogo.capitulo1.fase4.allowClick) {
                if (telas.jogo.capitulo1.fase4.final.aprovado || banco.capitulo1.fase4_pass) {
                    if (event.clientX >= telas.jogo.capitulo1.fase4.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo1.fase4.final.botoes.play.x + telas.jogo.capitulo1.fase4.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo1.fase4.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo1.fase4.final.botoes.play.y + telas.jogo.capitulo1.fase4.final.botoes.play.altura1) {
                        telas.jogo.capitulo1.fase4.final.botoes.play.hover = true;
                    }
    
                    else {
                        telas.jogo.capitulo1.fase4.final.botoes.play.hover = false;
                    }
                }

                if (event.clientX >= telas.jogo.capitulo1.fase4.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo1.fase4.final.botoes.exit.x + telas.jogo.capitulo1.fase4.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase4.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo1.fase4.final.botoes.exit.y + telas.jogo.capitulo1.fase4.final.botoes.exit.altura1) {
                    telas.jogo.capitulo1.fase4.final.botoes.exit.hover = true;
                }

                else {
                    telas.jogo.capitulo1.fase4.final.botoes.exit.hover = false;
                }

                if (event.clientX >= telas.jogo.capitulo1.fase4.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo1.fase4.final.botoes.retry.x + telas.jogo.capitulo1.fase4.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase4.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo1.fase4.final.botoes.retry.y + telas.jogo.capitulo1.fase4.final.botoes.retry.altura1) {
                    telas.jogo.capitulo1.fase4.final.botoes.retry.hover = true;
                }

                else {
                    telas.jogo.capitulo1.fase4.final.botoes.retry.hover = false;
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo1.fase5) {
        if (telas.jogo.capitulo1.fase5.parte == 2) {
            if (telas.jogo.capitulo1.fase5.principal.allowClick) {
                for (let i = 0; i < telas.jogo.capitulo1.fase5.principal.solucao.alters.length; i++) {
                    if (event.clientX >= telas.jogo.capitulo1.fase5.principal.solucao.alters[i].x &&
                        event.clientX <= telas.jogo.capitulo1.fase5.principal.solucao.alters[i].x + telas.jogo.capitulo1.fase5.principal.solucao.alters[i].larg &&
                        event.clientY >= telas.jogo.capitulo1.fase5.principal.solucao.alters[i].y &&
                        event.clientY <= telas.jogo.capitulo1.fase5.principal.solucao.alters[i].y + telas.jogo.capitulo1.fase5.principal.solucao.alters[i].alt) {
                        telas.jogo.capitulo1.fase5.principal.solucao.alters[i].hover = true;
                    }

                    else {
                        telas.jogo.capitulo1.fase5.principal.solucao.alters[i].hover = false;
                    }
                }
            }
        }

        else if (telas.jogo.capitulo1.fase5.parte == 3) {
            if (event.clientX >= telas.jogo.capitulo1.fase5.final.botoes.exit.x &&
                event.clientX <= telas.jogo.capitulo1.fase5.final.botoes.exit.x + telas.jogo.capitulo1.fase5.final.botoes.exit.largura1 &&
                event.clientY >= telas.jogo.capitulo1.fase5.final.botoes.exit.y &&
                event.clientY <= telas.jogo.capitulo1.fase5.final.botoes.exit.y + telas.jogo.capitulo1.fase5.final.botoes.exit.altura1) {
                telas.jogo.capitulo1.fase5.final.botoes.exit.hover = true;
            }
    
            else {
                telas.jogo.capitulo1.fase5.final.botoes.exit.hover = false;
            }
    
            if (telas.jogo.capitulo1.fase5.aprovado || banco.capitulo1.fase5_pass) {
                if (event.clientX >= telas.jogo.capitulo1.fase5.final.botoes.play.x &&
                    event.clientX <= telas.jogo.capitulo1.fase5.final.botoes.play.x + telas.jogo.capitulo1.fase5.final.botoes.play.largura1 &&
                    event.clientY >= telas.jogo.capitulo1.fase5.final.botoes.play.y &&
                    event.clientY <= telas.jogo.capitulo1.fase5.final.botoes.play.y + telas.jogo.capitulo1.fase5.final.botoes.play.altura1) {
                    telas.jogo.capitulo1.fase5.final.botoes.play.hover = true;
                }
        
                else {
                    telas.jogo.capitulo1.fase5.final.botoes.play.hover = false;
                }
            }
    
            if (event.clientX >= telas.jogo.capitulo1.fase5.final.botoes.retry.x &&
                event.clientX <= telas.jogo.capitulo1.fase5.final.botoes.retry.x + telas.jogo.capitulo1.fase5.final.botoes.retry.largura1 &&
                event.clientY >= telas.jogo.capitulo1.fase5.final.botoes.retry.y &&
                event.clientY <= telas.jogo.capitulo1.fase5.final.botoes.retry.y + telas.jogo.capitulo1.fase5.final.botoes.retry.altura1) {
                telas.jogo.capitulo1.fase5.final.botoes.retry.hover = true;
            }
    
            else {
                telas.jogo.capitulo1.fase5.final.botoes.retry.hover = false;
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo2.fase1) {
        if (telas.jogo.capitulo2.fase1.parte == 3) {
            if (telas.jogo.capitulo2.fase1.allowClick) {
                if (event.clientX >= telas.jogo.capitulo2.fase1.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo2.fase1.final.botoes.retry.x + telas.jogo.capitulo2.fase1.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase1.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo2.fase1.final.botoes.retry.y + telas.jogo.capitulo2.fase1.final.botoes.retry.altura1) {
                    telas.jogo.capitulo2.fase1.final.botoes.retry.hover = true;
                }
    
                else {
                    telas.jogo.capitulo2.fase1.final.botoes.retry.hover = false;
                }
    
                if (event.clientX >= telas.jogo.capitulo2.fase1.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo2.fase1.final.botoes.exit.x + telas.jogo.capitulo2.fase1.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase1.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo2.fase1.final.botoes.exit.y + telas.jogo.capitulo2.fase1.final.botoes.exit.altura1) {
                    telas.jogo.capitulo2.fase1.final.botoes.exit.hover = true;
                }
    
                else {
                    telas.jogo.capitulo2.fase1.final.botoes.exit.hover = false;
                }
    
                if (telas.jogo.capitulo2.fase1.final.aprovado) {
                    if (event.clientX >= telas.jogo.capitulo2.fase1.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo2.fase1.final.botoes.play.x + telas.jogo.capitulo2.fase1.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase1.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo2.fase1.final.botoes.play.y + telas.jogo.capitulo2.fase1.final.botoes.play.altura1) {
                        telas.jogo.capitulo2.fase1.final.botoes.play.hover = true;
                    }
        
                    else {
                        telas.jogo.capitulo2.fase1.final.botoes.play.hover = false;
                    }
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo2.fase2) {
        if (telas.jogo.capitulo2.fase2.parte == 3) {
            if (telas.jogo.capitulo2.fase2.allowClick) {
                if (event.clientX >= telas.jogo.capitulo2.fase2.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo2.fase2.final.botoes.retry.x + telas.jogo.capitulo2.fase2.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase2.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo2.fase2.final.botoes.retry.y + telas.jogo.capitulo2.fase2.final.botoes.retry.altura1) {
                    telas.jogo.capitulo2.fase2.final.botoes.retry.hover = true;
                }
    
                else {
                    telas.jogo.capitulo2.fase2.final.botoes.retry.hover = false;
                }
    
                if (event.clientX >= telas.jogo.capitulo2.fase2.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo2.fase2.final.botoes.exit.x + telas.jogo.capitulo2.fase2.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase2.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo2.fase2.final.botoes.exit.y + telas.jogo.capitulo2.fase2.final.botoes.exit.altura1) {
                    telas.jogo.capitulo2.fase2.final.botoes.exit.hover = true;
                }
    
                else {
                    telas.jogo.capitulo2.fase2.final.botoes.exit.hover = false;
                }
    
                if (telas.jogo.capitulo2.fase2.final.aprovado) {
                    if (event.clientX >= telas.jogo.capitulo2.fase2.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo2.fase2.final.botoes.play.x + telas.jogo.capitulo2.fase2.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase2.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo2.fase2.final.botoes.play.y + telas.jogo.capitulo2.fase2.final.botoes.play.altura1) {
                        telas.jogo.capitulo2.fase2.final.botoes.play.hover = true;
                    }
        
                    else {
                        telas.jogo.capitulo2.fase2.final.botoes.play.hover = false;
                    }
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo2.fase3) {
        if (telas.jogo.capitulo2.fase3.parte == 3) {
            if (telas.jogo.capitulo2.fase3.allowClick) {
                if (event.clientX >= telas.jogo.capitulo2.fase3.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo2.fase3.final.botoes.retry.x + telas.jogo.capitulo2.fase3.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase3.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo2.fase3.final.botoes.retry.y + telas.jogo.capitulo2.fase3.final.botoes.retry.altura1) {
                    telas.jogo.capitulo2.fase3.final.botoes.retry.hover = true;
                }
    
                else {
                    telas.jogo.capitulo2.fase3.final.botoes.retry.hover = false;
                }
    
                if (event.clientX >= telas.jogo.capitulo2.fase3.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo2.fase3.final.botoes.exit.x + telas.jogo.capitulo2.fase3.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase3.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo2.fase3.final.botoes.exit.y + telas.jogo.capitulo2.fase3.final.botoes.exit.altura1) {
                    telas.jogo.capitulo2.fase3.final.botoes.exit.hover = true;
                }
    
                else {
                    telas.jogo.capitulo2.fase3.final.botoes.exit.hover = false;
                }
    
                if (telas.jogo.capitulo2.fase3.final.aprovado) {
                    if (event.clientX >= telas.jogo.capitulo2.fase3.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo2.fase3.final.botoes.play.x + telas.jogo.capitulo2.fase3.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase3.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo2.fase3.final.botoes.play.y + telas.jogo.capitulo2.fase3.final.botoes.play.altura1) {
                        telas.jogo.capitulo2.fase3.final.botoes.play.hover = true;
                    }
        
                    else {
                        telas.jogo.capitulo2.fase3.final.botoes.play.hover = false;
                    }
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo2.fase4) {
        if (telas.jogo.capitulo2.fase4.parte == 3) {
            if (telas.jogo.capitulo2.fase4.allowClick) {
                if (event.clientX >= telas.jogo.capitulo2.fase4.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo2.fase4.final.botoes.retry.x + telas.jogo.capitulo2.fase4.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase4.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo2.fase4.final.botoes.retry.y + telas.jogo.capitulo2.fase4.final.botoes.retry.altura1) {
                    telas.jogo.capitulo2.fase4.final.botoes.retry.hover = true;
                }
    
                else {
                    telas.jogo.capitulo2.fase4.final.botoes.retry.hover = false;
                }
    
                if (event.clientX >= telas.jogo.capitulo2.fase4.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo2.fase4.final.botoes.exit.x + telas.jogo.capitulo2.fase4.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase4.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo2.fase4.final.botoes.exit.y + telas.jogo.capitulo2.fase4.final.botoes.exit.altura1) {
                    telas.jogo.capitulo2.fase4.final.botoes.exit.hover = true;
                }
    
                else {
                    telas.jogo.capitulo2.fase4.final.botoes.exit.hover = false;
                }
    
                if (telas.jogo.capitulo2.fase4.final.aprovado) {
                    if (event.clientX >= telas.jogo.capitulo2.fase4.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo2.fase4.final.botoes.play.x + telas.jogo.capitulo2.fase4.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo2.fase4.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo2.fase4.final.botoes.play.y + telas.jogo.capitulo2.fase4.final.botoes.play.altura1) {
                        telas.jogo.capitulo2.fase4.final.botoes.play.hover = true;
                    }
        
                    else {
                        telas.jogo.capitulo2.fase4.final.botoes.play.hover = false;
                    }
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo2.fase5) {
        if (telas.jogo.capitulo2.fase5.parte == 2) {
            if (telas.jogo.capitulo2.fase5.principal.allowClick) {
                for (let i = 0; i < telas.jogo.capitulo2.fase5.principal.solucao.alters.length; i++) {
                    if (event.clientX >= telas.jogo.capitulo2.fase5.principal.solucao.alters[i].x &&
                        event.clientX <= telas.jogo.capitulo2.fase5.principal.solucao.alters[i].x + telas.jogo.capitulo2.fase5.principal.solucao.alters[i].larg &&
                        event.clientY >= telas.jogo.capitulo2.fase5.principal.solucao.alters[i].y &&
                        event.clientY <= telas.jogo.capitulo2.fase5.principal.solucao.alters[i].y + telas.jogo.capitulo2.fase5.principal.solucao.alters[i].alt) {
                        telas.jogo.capitulo2.fase5.principal.solucao.alters[i].hover = true;
                    }

                    else {
                        telas.jogo.capitulo2.fase5.principal.solucao.alters[i].hover = false;
                    }
                }
            }
        }
        
        else if (telas.jogo.capitulo2.fase5.parte == 3) {
            if (event.clientX >= telas.jogo.capitulo2.fase5.final.botoes.exit.x &&
                event.clientX <= telas.jogo.capitulo2.fase5.final.botoes.exit.x + telas.jogo.capitulo2.fase5.final.botoes.exit.largura1 &&
                event.clientY >= telas.jogo.capitulo2.fase5.final.botoes.exit.y &&
                event.clientY <= telas.jogo.capitulo2.fase5.final.botoes.exit.y + telas.jogo.capitulo2.fase5.final.botoes.exit.altura1) {
                telas.jogo.capitulo2.fase5.final.botoes.exit.hover = true;
            }
    
            else {
                telas.jogo.capitulo2.fase5.final.botoes.exit.hover = false;
            }
    
            if (telas.jogo.capitulo2.fase5.aprovado || banco.capitulo2.fase5_pass) {
                if (event.clientX >= telas.jogo.capitulo2.fase5.final.botoes.play.x &&
                    event.clientX <= telas.jogo.capitulo2.fase5.final.botoes.play.x + telas.jogo.capitulo2.fase5.final.botoes.play.largura1 &&
                    event.clientY >= telas.jogo.capitulo2.fase5.final.botoes.play.y &&
                    event.clientY <= telas.jogo.capitulo2.fase5.final.botoes.play.y + telas.jogo.capitulo2.fase5.final.botoes.play.altura1) {
                    telas.jogo.capitulo2.fase5.final.botoes.play.hover = true;
                }
        
                else {
                    telas.jogo.capitulo2.fase5.final.botoes.play.hover = false;
                }
            }
    
            if (event.clientX >= telas.jogo.capitulo2.fase5.final.botoes.retry.x &&
                event.clientX <= telas.jogo.capitulo2.fase5.final.botoes.retry.x + telas.jogo.capitulo2.fase5.final.botoes.retry.largura1 &&
                event.clientY >= telas.jogo.capitulo2.fase5.final.botoes.retry.y &&
                event.clientY <= telas.jogo.capitulo2.fase5.final.botoes.retry.y + telas.jogo.capitulo2.fase5.final.botoes.retry.altura1) {
                telas.jogo.capitulo2.fase5.final.botoes.retry.hover = true;
            }
    
            else {
                telas.jogo.capitulo2.fase5.final.botoes.retry.hover = false;
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo3.fase1) {
        if (telas.jogo.capitulo3.fase1.parte == 3) {
            if (telas.jogo.capitulo3.fase1.allowClick) {
                if (event.clientX >= telas.jogo.capitulo3.fase1.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo3.fase1.final.botoes.retry.x + telas.jogo.capitulo3.fase1.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase1.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo3.fase1.final.botoes.retry.y + telas.jogo.capitulo3.fase1.final.botoes.retry.altura1) {
                    telas.jogo.capitulo3.fase1.final.botoes.retry.hover = true;
                }
    
                else {
                    telas.jogo.capitulo3.fase1.final.botoes.retry.hover = false;
                }
    
                if (event.clientX >= telas.jogo.capitulo3.fase1.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo3.fase1.final.botoes.exit.x + telas.jogo.capitulo3.fase1.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase1.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo3.fase1.final.botoes.exit.y + telas.jogo.capitulo3.fase1.final.botoes.exit.altura1) {
                    telas.jogo.capitulo3.fase1.final.botoes.exit.hover = true;
                }
    
                else {
                    telas.jogo.capitulo3.fase1.final.botoes.exit.hover = false;
                }
    
                if (telas.jogo.capitulo3.fase1.final.aprovado || banco.capitulo3.fase1_pass) {
                    if (event.clientX >= telas.jogo.capitulo3.fase1.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo3.fase1.final.botoes.play.x + telas.jogo.capitulo3.fase1.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase1.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo3.fase1.final.botoes.play.y + telas.jogo.capitulo3.fase1.final.botoes.play.altura1) {
                        telas.jogo.capitulo3.fase1.final.botoes.play.hover = true;
                    }
        
                    else {
                        telas.jogo.capitulo3.fase1.final.botoes.play.hover = false;
                    }
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo3.fase2) {
        if (telas.jogo.capitulo3.fase2.parte == 3) {
            if (telas.jogo.capitulo3.fase2.allowClick) {
                if (event.clientX >= telas.jogo.capitulo3.fase2.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo3.fase2.final.botoes.retry.x + telas.jogo.capitulo3.fase2.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase2.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo3.fase2.final.botoes.retry.y + telas.jogo.capitulo3.fase2.final.botoes.retry.altura1) {
                    telas.jogo.capitulo3.fase2.final.botoes.retry.hover = true;
                }
    
                else {
                    telas.jogo.capitulo3.fase2.final.botoes.retry.hover = false;
                }
    
                if (event.clientX >= telas.jogo.capitulo3.fase2.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo3.fase2.final.botoes.exit.x + telas.jogo.capitulo3.fase2.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase2.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo3.fase2.final.botoes.exit.y + telas.jogo.capitulo3.fase2.final.botoes.exit.altura1) {
                    telas.jogo.capitulo3.fase2.final.botoes.exit.hover = true;
                }
    
                else {
                    telas.jogo.capitulo3.fase2.final.botoes.exit.hover = false;
                }
    
                if (telas.jogo.capitulo3.fase2.final.aprovado || banco.capitulo3.fase2_pass) {
                    if (event.clientX >= telas.jogo.capitulo3.fase2.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo3.fase2.final.botoes.play.x + telas.jogo.capitulo3.fase2.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase2.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo3.fase2.final.botoes.play.y + telas.jogo.capitulo3.fase2.final.botoes.play.altura1) {
                        telas.jogo.capitulo3.fase2.final.botoes.play.hover = true;
                    }
        
                    else {
                        telas.jogo.capitulo3.fase2.final.botoes.play.hover = false;
                    }
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo3.fase3) {
        if (telas.jogo.capitulo3.fase3.parte == 3) {
            if (telas.jogo.capitulo3.fase3.allowClick) {
                if (event.clientX >= telas.jogo.capitulo3.fase3.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo3.fase3.final.botoes.retry.x + telas.jogo.capitulo3.fase3.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase3.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo3.fase3.final.botoes.retry.y + telas.jogo.capitulo3.fase3.final.botoes.retry.altura1) {
                    telas.jogo.capitulo3.fase3.final.botoes.retry.hover = true;
                }
    
                else {
                    telas.jogo.capitulo3.fase3.final.botoes.retry.hover = false;
                }
    
                if (event.clientX >= telas.jogo.capitulo3.fase3.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo3.fase3.final.botoes.exit.x + telas.jogo.capitulo3.fase3.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase3.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo3.fase3.final.botoes.exit.y + telas.jogo.capitulo3.fase3.final.botoes.exit.altura1) {
                    telas.jogo.capitulo3.fase3.final.botoes.exit.hover = true;
                }
    
                else {
                    telas.jogo.capitulo3.fase3.final.botoes.exit.hover = false;
                }
    
                if (telas.jogo.capitulo3.fase3.final.aprovado) {
                    if (event.clientX >= telas.jogo.capitulo3.fase3.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo3.fase3.final.botoes.play.x + telas.jogo.capitulo3.fase3.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase3.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo3.fase3.final.botoes.play.y + telas.jogo.capitulo3.fase3.final.botoes.play.altura1) {
                        telas.jogo.capitulo3.fase3.final.botoes.play.hover = true;
                    }
        
                    else {
                        telas.jogo.capitulo3.fase3.final.botoes.play.hover = false;
                    }
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo3.fase4) {
        if (telas.jogo.capitulo3.fase4.parte == 3) {
            if (telas.jogo.capitulo3.fase4.allowClick) {
                if (event.clientX >= telas.jogo.capitulo3.fase4.final.botoes.retry.x &&
                    event.clientX <= telas.jogo.capitulo3.fase4.final.botoes.retry.x + telas.jogo.capitulo3.fase4.final.botoes.retry.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase4.final.botoes.retry.y &&
                    event.clientY <= telas.jogo.capitulo3.fase4.final.botoes.retry.y + telas.jogo.capitulo3.fase4.final.botoes.retry.altura1) {
                    telas.jogo.capitulo3.fase4.final.botoes.retry.hover = true;
                }
    
                else {
                    telas.jogo.capitulo3.fase4.final.botoes.retry.hover = false;
                }
    
                if (event.clientX >= telas.jogo.capitulo3.fase4.final.botoes.exit.x &&
                    event.clientX <= telas.jogo.capitulo3.fase4.final.botoes.exit.x + telas.jogo.capitulo3.fase4.final.botoes.exit.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase4.final.botoes.exit.y &&
                    event.clientY <= telas.jogo.capitulo3.fase4.final.botoes.exit.y + telas.jogo.capitulo3.fase4.final.botoes.exit.altura1) {
                    telas.jogo.capitulo3.fase4.final.botoes.exit.hover = true;
                }
    
                else {
                    telas.jogo.capitulo3.fase4.final.botoes.exit.hover = false;
                }
    
                if (telas.jogo.capitulo3.fase4.final.aprovado || banco.capitulo3.fase4_pass) {
                    if (event.clientX >= telas.jogo.capitulo3.fase4.final.botoes.play.x &&
                        event.clientX <= telas.jogo.capitulo3.fase4.final.botoes.play.x + telas.jogo.capitulo3.fase4.final.botoes.play.largura1 &&
                        event.clientY >= telas.jogo.capitulo3.fase4.final.botoes.play.y &&
                        event.clientY <= telas.jogo.capitulo3.fase4.final.botoes.play.y + telas.jogo.capitulo3.fase4.final.botoes.play.altura1) {
                        telas.jogo.capitulo3.fase4.final.botoes.play.hover = true;
                    }
        
                    else {
                        telas.jogo.capitulo3.fase4.final.botoes.play.hover = false;
                    }
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo3.fase5) {
        if (telas.jogo.capitulo3.fase5.parte == 2) {
            if (telas.jogo.capitulo3.fase5.principal.allowClick) {
                for (let i = 0; i < telas.jogo.capitulo3.fase5.principal.solucao.alters.length; i++) {
                    if (event.clientX >= telas.jogo.capitulo3.fase5.principal.solucao.alters[i].x &&
                        event.clientX <= telas.jogo.capitulo3.fase5.principal.solucao.alters[i].x + telas.jogo.capitulo3.fase5.principal.solucao.alters[i].larg &&
                        event.clientY >= telas.jogo.capitulo3.fase5.principal.solucao.alters[i].y &&
                        event.clientY <= telas.jogo.capitulo3.fase5.principal.solucao.alters[i].y + telas.jogo.capitulo3.fase5.principal.solucao.alters[i].alt) {
                        telas.jogo.capitulo3.fase5.principal.solucao.alters[i].hover = true;
                    }

                    else {
                        telas.jogo.capitulo3.fase5.principal.solucao.alters[i].hover = false;
                    }
                }
            }
        }

        else if (telas.jogo.capitulo3.fase5.parte == 3) {
            if (event.clientX >= telas.jogo.capitulo3.fase5.final.botoes.retry.x &&
                event.clientX <= telas.jogo.capitulo3.fase5.final.botoes.retry.x + telas.jogo.capitulo3.fase5.final.botoes.retry.largura1 &&
                event.clientY >= telas.jogo.capitulo3.fase5.final.botoes.retry.y &&
                event.clientY <= telas.jogo.capitulo3.fase5.final.botoes.retry.y + telas.jogo.capitulo3.fase5.final.botoes.retry.altura1) {
                telas.jogo.capitulo3.fase5.final.botoes.retry.hover = true;
            }

            else {
                telas.jogo.capitulo3.fase5.final.botoes.retry.hover = false;
            }

            if (event.clientX >= telas.jogo.capitulo3.fase5.final.botoes.exit.x &&
                event.clientX <= telas.jogo.capitulo3.fase5.final.botoes.exit.x + telas.jogo.capitulo3.fase5.final.botoes.exit.largura1 &&
                event.clientY >= telas.jogo.capitulo3.fase5.final.botoes.exit.y &&
                event.clientY <= telas.jogo.capitulo3.fase5.final.botoes.exit.y + telas.jogo.capitulo3.fase5.final.botoes.exit.altura1) {
                telas.jogo.capitulo3.fase5.final.botoes.exit.hover = true;
            }

            else {
                telas.jogo.capitulo3.fase5.final.botoes.exit.hover = false;
            }

            if (telas.jogo.capitulo3.fase5.aprovado || banco.capitulo3.fase5_pass) {
                if (event.clientX >= telas.jogo.capitulo3.fase5.final.botoes.play.x &&
                    event.clientX <= telas.jogo.capitulo3.fase5.final.botoes.play.x + telas.jogo.capitulo3.fase5.final.botoes.play.largura1 &&
                    event.clientY >= telas.jogo.capitulo3.fase5.final.botoes.play.y &&
                    event.clientY <= telas.jogo.capitulo3.fase5.final.botoes.play.y + telas.jogo.capitulo3.fase5.final.botoes.play.altura1) {
                    telas.jogo.capitulo3.fase5.final.botoes.play.hover = true;
                }
    
                else {
                    telas.jogo.capitulo3.fase5.final.botoes.play.hover = false;
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo4.fase1) {
        if (telas.jogo.capitulo4.fase1.parte == 3) {
            if (event.clientX >= telas.jogo.capitulo4.fase1.final.botoes.retry.x &&
                event.clientX <= telas.jogo.capitulo4.fase1.final.botoes.retry.x + telas.jogo.capitulo4.fase1.final.botoes.retry.largura1 &&
                event.clientY >= telas.jogo.capitulo4.fase1.final.botoes.retry.y &&
                event.clientY <= telas.jogo.capitulo4.fase1.final.botoes.retry.y + telas.jogo.capitulo4.fase1.final.botoes.retry.altura1) {
                telas.jogo.capitulo4.fase1.final.botoes.retry.hover = true;
            }

            else {
                telas.jogo.capitulo4.fase1.final.botoes.retry.hover = false;
            }

            if (event.clientX >= telas.jogo.capitulo4.fase1.final.botoes.exit.x &&
                event.clientX <= telas.jogo.capitulo4.fase1.final.botoes.exit.x + telas.jogo.capitulo4.fase1.final.botoes.exit.largura1 &&
                event.clientY >= telas.jogo.capitulo4.fase1.final.botoes.exit.y &&
                event.clientY <= telas.jogo.capitulo4.fase1.final.botoes.exit.y + telas.jogo.capitulo4.fase1.final.botoes.exit.altura1) {
                telas.jogo.capitulo4.fase1.final.botoes.exit.hover = true;
            }

            else {
                telas.jogo.capitulo4.fase1.final.botoes.exit.hover = false;
            }

            if (telas.jogo.capitulo4.fase1.aprovado || banco.capitulo4.fase1_pass) {
                if (event.clientX >= telas.jogo.capitulo4.fase1.final.botoes.play.x &&
                    event.clientX <= telas.jogo.capitulo4.fase1.final.botoes.play.x + telas.jogo.capitulo4.fase1.final.botoes.play.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase1.final.botoes.play.y &&
                    event.clientY <= telas.jogo.capitulo4.fase1.final.botoes.play.y + telas.jogo.capitulo4.fase1.final.botoes.play.altura1) {
                    telas.jogo.capitulo4.fase1.final.botoes.play.hover = true;
                }
    
                else {
                    telas.jogo.capitulo4.fase1.final.botoes.play.hover = false;
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo4.fase2) {
        if (telas.jogo.capitulo4.fase2.parte == 3) {
            if (event.clientX >= telas.jogo.capitulo4.fase2.final.botoes.retry.x &&
                event.clientX <= telas.jogo.capitulo4.fase2.final.botoes.retry.x + telas.jogo.capitulo4.fase2.final.botoes.retry.largura1 &&
                event.clientY >= telas.jogo.capitulo4.fase2.final.botoes.retry.y &&
                event.clientY <= telas.jogo.capitulo4.fase2.final.botoes.retry.y + telas.jogo.capitulo4.fase2.final.botoes.retry.altura1) {
                telas.jogo.capitulo4.fase2.final.botoes.retry.hover = true;
            }

            else {
                telas.jogo.capitulo4.fase2.final.botoes.retry.hover = false;
            }

            if (event.clientX >= telas.jogo.capitulo4.fase2.final.botoes.exit.x &&
                event.clientX <= telas.jogo.capitulo4.fase2.final.botoes.exit.x + telas.jogo.capitulo4.fase2.final.botoes.exit.largura1 &&
                event.clientY >= telas.jogo.capitulo4.fase2.final.botoes.exit.y &&
                event.clientY <= telas.jogo.capitulo4.fase2.final.botoes.exit.y + telas.jogo.capitulo4.fase2.final.botoes.exit.altura1) {
                telas.jogo.capitulo4.fase2.final.botoes.exit.hover = true;
            }

            else {
                telas.jogo.capitulo4.fase2.final.botoes.exit.hover = false;
            }

            if (telas.jogo.capitulo4.fase2.aprovado || banco.capitulo4.fase2_pass) {
                if (event.clientX >= telas.jogo.capitulo4.fase2.final.botoes.play.x &&
                    event.clientX <= telas.jogo.capitulo4.fase2.final.botoes.play.x + telas.jogo.capitulo4.fase2.final.botoes.play.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase2.final.botoes.play.y &&
                    event.clientY <= telas.jogo.capitulo4.fase2.final.botoes.play.y + telas.jogo.capitulo4.fase2.final.botoes.play.altura1) {
                    telas.jogo.capitulo4.fase2.final.botoes.play.hover = true;
                }
    
                else {
                    telas.jogo.capitulo4.fase2.final.botoes.play.hover = false;
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo4.fase3) {
        if (telas.jogo.capitulo4.fase3.parte == 3) {
            if (event.clientX >= telas.jogo.capitulo4.fase3.final.botoes.retry.x &&
                event.clientX <= telas.jogo.capitulo4.fase3.final.botoes.retry.x + telas.jogo.capitulo4.fase3.final.botoes.retry.largura1 &&
                event.clientY >= telas.jogo.capitulo4.fase3.final.botoes.retry.y &&
                event.clientY <= telas.jogo.capitulo4.fase3.final.botoes.retry.y + telas.jogo.capitulo4.fase3.final.botoes.retry.altura1) {
                telas.jogo.capitulo4.fase3.final.botoes.retry.hover = true;
            }

            else {
                telas.jogo.capitulo4.fase3.final.botoes.retry.hover = false;
            }

            if (event.clientX >= telas.jogo.capitulo4.fase3.final.botoes.exit.x &&
                event.clientX <= telas.jogo.capitulo4.fase3.final.botoes.exit.x + telas.jogo.capitulo4.fase3.final.botoes.exit.largura1 &&
                event.clientY >= telas.jogo.capitulo4.fase3.final.botoes.exit.y &&
                event.clientY <= telas.jogo.capitulo4.fase3.final.botoes.exit.y + telas.jogo.capitulo4.fase3.final.botoes.exit.altura1) {
                telas.jogo.capitulo4.fase3.final.botoes.exit.hover = true;
            }

            else {
                telas.jogo.capitulo4.fase3.final.botoes.exit.hover = false;
            }

            if (telas.jogo.capitulo4.fase3.aprovado || banco.capitulo4.fase3_pass) {
                if (event.clientX >= telas.jogo.capitulo4.fase3.final.botoes.play.x &&
                    event.clientX <= telas.jogo.capitulo4.fase3.final.botoes.play.x + telas.jogo.capitulo4.fase3.final.botoes.play.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase3.final.botoes.play.y &&
                    event.clientY <= telas.jogo.capitulo4.fase3.final.botoes.play.y + telas.jogo.capitulo4.fase3.final.botoes.play.altura1) {
                    telas.jogo.capitulo4.fase3.final.botoes.play.hover = true;
                }
    
                else {
                    telas.jogo.capitulo4.fase3.final.botoes.play.hover = false;
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo4.fase4) {
        if (telas.jogo.capitulo4.fase4.parte == 3) {
            if (event.clientX >= telas.jogo.capitulo4.fase4.final.botoes.retry.x &&
                event.clientX <= telas.jogo.capitulo4.fase4.final.botoes.retry.x + telas.jogo.capitulo4.fase4.final.botoes.retry.largura1 &&
                event.clientY >= telas.jogo.capitulo4.fase4.final.botoes.retry.y &&
                event.clientY <= telas.jogo.capitulo4.fase4.final.botoes.retry.y + telas.jogo.capitulo4.fase4.final.botoes.retry.altura1) {
                telas.jogo.capitulo4.fase4.final.botoes.retry.hover = true;
            }

            else {
                telas.jogo.capitulo4.fase4.final.botoes.retry.hover = false;
            }

            if (event.clientX >= telas.jogo.capitulo4.fase4.final.botoes.exit.x &&
                event.clientX <= telas.jogo.capitulo4.fase4.final.botoes.exit.x + telas.jogo.capitulo4.fase4.final.botoes.exit.largura1 &&
                event.clientY >= telas.jogo.capitulo4.fase4.final.botoes.exit.y &&
                event.clientY <= telas.jogo.capitulo4.fase4.final.botoes.exit.y + telas.jogo.capitulo4.fase4.final.botoes.exit.altura1) {
                telas.jogo.capitulo4.fase4.final.botoes.exit.hover = true;
            }

            else {
                telas.jogo.capitulo4.fase4.final.botoes.exit.hover = false;
            }

            if (telas.jogo.capitulo4.fase4.aprovado || banco.capitulo4.fase4_pass) {
                if (event.clientX >= telas.jogo.capitulo4.fase4.final.botoes.play.x &&
                    event.clientX <= telas.jogo.capitulo4.fase4.final.botoes.play.x + telas.jogo.capitulo4.fase4.final.botoes.play.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase4.final.botoes.play.y &&
                    event.clientY <= telas.jogo.capitulo4.fase4.final.botoes.play.y + telas.jogo.capitulo4.fase4.final.botoes.play.altura1) {
                    telas.jogo.capitulo4.fase4.final.botoes.play.hover = true;
                }
    
                else {
                    telas.jogo.capitulo4.fase4.final.botoes.play.hover = false;
                }
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo4.fase5) {
        if (telas.jogo.capitulo4.fase5.parte == 2) {
            if (telas.jogo.capitulo4.fase5.principal.questao.clickAllow) {
                for (let i = 0; i < telas.jogo.capitulo4.fase5.principal.questao.alters.length; i++) {
                    if (event.clientX >= telas.jogo.capitulo4.fase5.principal.questao.alters[i].x &&
                        event.clientX <= telas.jogo.capitulo4.fase5.principal.questao.alters[i].x + telas.jogo.capitulo4.fase5.principal.questao.alters[i].larg &&
                        event.clientY >= telas.jogo.capitulo4.fase5.principal.questao.alters[i].y &&
                        event.clientY <= telas.jogo.capitulo4.fase5.principal.questao.alters[i].y + telas.jogo.capitulo4.fase5.principal.questao.alters[i].alt) {
                        telas.jogo.capitulo4.fase5.principal.questao.alters[i].hover = true;
                    }

                    else {
                        telas.jogo.capitulo4.fase5.principal.questao.alters[i].hover = false;
                    }
                }
            }

            if (telas.jogo.capitulo4.fase5.principal.questao.click) {
                telas.jogo.capitulo4.fase5.principal.questao.clickAnimation.mouseX = event.clientX;
                telas.jogo.capitulo4.fase5.principal.questao.clickAnimation.mouseY = event.clientY;
            }
        }

        else if (telas.jogo.capitulo4.fase5.parte == 3) {
            if (telas.jogo.capitulo4.fase5.aprovado || banco.capitulo4.fase5_pass) {
                if (event.clientX >= telas.jogo.capitulo4.fase5.final.botoes.play.x &&
                    event.clientX <= telas.jogo.capitulo4.fase5.final.botoes.play.x + telas.jogo.capitulo4.fase5.final.botoes.play.largura1 &&
                    event.clientY >= telas.jogo.capitulo4.fase5.final.botoes.play.y &&
                    event.clientY <= telas.jogo.capitulo4.fase5.final.botoes.play.y + telas.jogo.capitulo4.fase5.final.botoes.play.altura1) {
                    telas.jogo.capitulo4.fase5.final.botoes.play.hover = true;
                }

                else {
                    telas.jogo.capitulo4.fase5.final.botoes.play.hover = false;
                }
            }

            if (event.clientX >= telas.jogo.capitulo4.fase5.final.botoes.retry.x &&
                event.clientX <= telas.jogo.capitulo4.fase5.final.botoes.retry.x + telas.jogo.capitulo4.fase4.final.botoes.retry.largura1 &&
                event.clientY >= telas.jogo.capitulo4.fase5.final.botoes.retry.y &&
                event.clientY <= telas.jogo.capitulo4.fase5.final.botoes.retry.y + telas.jogo.capitulo4.fase4.final.botoes.retry.altura1) {
                telas.jogo.capitulo4.fase5.final.botoes.retry.hover = true;
            }

            else {
                telas.jogo.capitulo4.fase5.final.botoes.retry.hover = false;
            }

            if (event.clientX >= telas.jogo.capitulo4.fase5.final.botoes.exit.x &&
                event.clientX <= telas.jogo.capitulo4.fase5.final.botoes.exit.x + telas.jogo.capitulo4.fase5.final.botoes.exit.largura1 &&
                event.clientY >= telas.jogo.capitulo4.fase5.final.botoes.exit.y &&
                event.clientY <= telas.jogo.capitulo4.fase5.final.botoes.exit.y + telas.jogo.capitulo4.fase5.final.botoes.exit.altura1) {
                telas.jogo.capitulo4.fase5.final.botoes.exit.hover = true;
            }

            else {
                telas.jogo.capitulo4.fase5.final.botoes.exit.hover = false;
            }
        }
    }

    else if (telaAtiva == telas.jogo.capitulo5.fase1) {
        if (telas.jogo.capitulo5.fase1.parte == 2) {
            for (let i = 0; i < telas.jogo.capitulo5.fase1.principal.questao.banco2.length; i++) {
                if (event.clientX >= telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.posX &&
                    event.clientX <= telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.posX + 50 &&
                    event.clientY >= telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.posY &&
                    event.clientY <= telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.posY + 50) {
                    telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.hover = true;
                }

                else {
                    telas.jogo.capitulo5.fase1.principal.questao.banco2[i].compartimento.hover = false;
                }
            }

            if (event.clientX >= telas.jogo.capitulo5.fase1.principal.botao_exit.x &&
                event.clientX <= telas.jogo.capitulo5.fase1.principal.botao_exit.x + 50 &&
                event.clientY >= telas.jogo.capitulo5.fase1.principal.botao_exit.y &&
                event.clientY <= telas.jogo.capitulo5.fase1.principal.botao_exit.y + 50) {
                telas.jogo.capitulo5.fase1.principal.botao_exit.hover = true;
            }

            else {
                telas.jogo.capitulo5.fase1.principal.botao_exit.hover = false;
            }
        }

        else if (telas.jogo.capitulo5.fase1.parte == 3) {
            if (telas.jogo.capitulo5.fase1.aprovado || banco.capitulo5.fase1_pass) {
                if (event.clientX >= telas.jogo.capitulo5.fase1.final.botoes.play.x &&
                    event.clientX <= telas.jogo.capitulo5.fase1.final.botoes.play.x + telas.jogo.capitulo5.fase1.final.botoes.play.largura1 &&
                    event.clientY >= telas.jogo.capitulo5.fase1.final.botoes.play.y &&
                    event.clientY <= telas.jogo.capitulo5.fase1.final.botoes.play.y + telas.jogo.capitulo5.fase1.final.botoes.play.altura1) {
                    telas.jogo.capitulo5.fase1.final.botoes.play.hover = true;
                }

                else {
                    telas.jogo.capitulo5.fase1.final.botoes.play.hover = false;
                }
            }

            if (event.clientX >= telas.jogo.capitulo5.fase1.final.botoes.retry.x &&
                event.clientX <= telas.jogo.capitulo5.fase1.final.botoes.retry.x + telas.jogo.capitulo4.fase4.final.botoes.retry.largura1 &&
                event.clientY >= telas.jogo.capitulo5.fase1.final.botoes.retry.y &&
                event.clientY <= telas.jogo.capitulo5.fase1.final.botoes.retry.y + telas.jogo.capitulo4.fase4.final.botoes.retry.altura1) {
                telas.jogo.capitulo5.fase1.final.botoes.retry.hover = true;
            }

            else {
                telas.jogo.capitulo5.fase1.final.botoes.retry.hover = false;
            }

            if (event.clientX >= telas.jogo.capitulo5.fase1.final.botoes.exit.x &&
                event.clientX <= telas.jogo.capitulo5.fase1.final.botoes.exit.x + telas.jogo.capitulo5.fase1.final.botoes.exit.largura1 &&
                event.clientY >= telas.jogo.capitulo5.fase1.final.botoes.exit.y &&
                event.clientY <= telas.jogo.capitulo5.fase1.final.botoes.exit.y + telas.jogo.capitulo5.fase1.final.botoes.exit.altura1) {
                telas.jogo.capitulo5.fase1.final.botoes.exit.hover = true;
            }

            else {
                telas.jogo.capitulo5.fase1.final.botoes.exit.hover = false;
            }
        }
    }
}

function mudaTela(tela) {
    telaAtiva = tela;
}

function loop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    telaAtiva.desenha();

    if (telaAtiva != telas.menuInicial &&
        telaAtiva != telas.save) {
        tempo ++;
    }

    requestAnimationFrame(loop);
}

mudaTela(telas.menuInicial);
loop();